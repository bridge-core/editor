(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],l=0,p=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function s(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-0b65ffb6":"f3a7fdb8","chunk-2d0a3196":"b32bb0b7","chunk-2d0a3577":"a28c980f","chunk-2d0a40c8":"1356e1b6","chunk-2d0a43df":"2f140f4d","chunk-2d0aa90c":"40622e71","chunk-2d0aab07":"701375c5","chunk-2d0abc00":"15856d80","chunk-2d0ae937":"dddc3b44","chunk-2d0aeb45":"8c5db0e0","chunk-2d0af08c":"315697cb","chunk-2d0afa49":"1877412b","chunk-2d0b2762":"01369112","chunk-2d0b6187":"89557801","chunk-2d0ba136":"a8f6aefc","chunk-2d0bb267":"bb6d3923","chunk-2d0bcec1":"411f3779","chunk-2d0bdf38":"4f49285a","chunk-2d0bff92":"d59ac7b0","chunk-2d0c0494":"115e6260","chunk-2d0c0a09":"8a5d026a","chunk-2d0c4313":"ead46746","chunk-2d0c46d1":"22d49e50","chunk-2d0c512b":"778bf5d1","chunk-2d0c86e3":"c14ff875","chunk-2d0cf16e":"ad921531","chunk-2d0d056d":"f95f1e5a","chunk-2d0d0645":"54e8b1f4","chunk-2d0d2f22":"6fe79351","chunk-2d0d61fd":"1b41151f","chunk-2d0d7e63":"d59e9c3b","chunk-2d0dda4e":"40c052fa","chunk-2d0de971":"70523bc1","chunk-2d0e1b57":"15edb8eb","chunk-2d0e1fbe":"1ff6bd9b","chunk-2d0e22d6":"0d5655a1","chunk-2d0e4fe5":"eaa76f35","chunk-2d0e542a":"5c2e34ff","chunk-2d0e57ec":"23d2913b","chunk-2d0e6553":"11a1c0ca","chunk-2d0e6c86":"c0856675","chunk-2d0ea098":"7215bb3b","chunk-2d0f0a11":"9dbbb6df","chunk-2d208ac5":"85fe5f4b","chunk-2d209408":"52527139","chunk-2d20f745":"599b8a8e","chunk-2d20ff23":"0bbbe453","chunk-2d2138c7":"5d2ccad4","chunk-2d216f3b":"fb30a14d","chunk-2d217e5b":"29d8e041","chunk-2d21b84a":"ae6f861f","chunk-2d21dcd2":"6fb195a2","chunk-2d21f327":"9a8cbd2a","chunk-2d2214b3":"c6b28fdb","chunk-2d221799":"5afd9262","chunk-2d221814":"6e6d73f5","chunk-2d221a34":"f920e9ba","chunk-2d22502a":"79050227","chunk-2d226775":"b16bd190","chunk-2d229411":"eeb33856","chunk-2d2295e9":"ab1d37e9","chunk-2d22c171":"5ac0d3b4","chunk-2d22c2b8":"d0c72880","chunk-2d22ca58":"220263f5","chunk-2d2311f7":"6277f166","chunk-2d237ee7":"e6d3fcbb","chunk-2d238465":"2577af0d","chunk-30597b4a":"0eb98ea2","chunk-7532b3ea":"c098a6dc","chunk-e13e4362":"ca927f79"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=s(e);var u=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}i[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/editor/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0167":function(e,t,n){},"034f":function(e,t,n){"use strict";n("85ec")},"0532":function(e,t,n){"use strict";n("b5ed")},"0b51":function(e,t,n){"use strict";n("71ee")},"0bd4":function(e,t,n){},1228:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),s=n("262e"),o=n("2caf"),c=n("d009"),u=n("f374"),l=n("3d15"),d=12e4,p=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),a.taskOptions=e,a.app=r,a.worker=null,a.workerClass=null,a._service=null,a.task=null,a}return Object(a["a"])(n,[{key:"activate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.disposeTimeout){e.next=4;break}return window.clearTimeout(this.disposeTimeout),this.disposeTimeout=void 0,e.abrupt("return");case 4:if(null===(n=this.app)||void 0===n){e.next=8;break}e.t0=n,e.next=11;break;case 8:return e.next=10,c["a"].getApp();case 10:e.t0=e.sent;case 11:if(r=e.t0,this.task=r.taskManager.create(this.taskOptions),this.worker){e.next=18;break}if(this.createWorker(),this.worker){e.next=17;break}throw new Error("Method WorkerManager.createWorker() doesn't create worker");case 17:this.workerClass=Object(l["b"])(this.worker);case 18:return this.resetSignal(),e.next=21,this.start(t).then((function(e){var t;null===(t=i.task)||void 0===t||t.complete(),i.dispatch(e)}));case 21:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){var e=this;this.disposeTimeout=window.setTimeout((function(){return e.dispose()}),d)}},{key:"dispose",value:function(){var e,t;this.resetSignal(),null===(e=this.worker)||void 0===e||e.terminate(),null===(t=this.task)||void 0===t||t.dispose(),this.worker=null,this._service=null,this.workerClass=null,this.disposeTimeout=void 0}}]),n}(u["a"])},1826:function(e,t,n){e.exports=n.p+"js/0.0cd90b7c.worker.js"},1834:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("d3b7"),n("6062"),n("3ca3"),n("159b"),n("ddb0");var r=n("d4ec"),i=n("bee2"),a=function(){function e(){Object(r["a"])(this,e),this.listeners=new Set}return Object(i["a"])(e,[{key:"hasListeners",get:function(){return this.listeners.size>0}},{key:"dispatch",value:function(e){this.listeners.forEach((function(t){return t(e)}))}},{key:"on",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.listeners.add(e),n)return{dispose:function(){t.off(e)}}}},{key:"off",value:function(e){this.listeners.delete(e)}},{key:"once",value:function(e){var t=this,n=function n(r){e(r),t.off(n)};this.on(n)}}]),e}()},1927:function(e,t,n){"use strict";n("518c")},"1dbf":function(e,t,n){},"1e30":function(e,t,n){"use strict";n("3faf")},"1f04":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),i=n("bee2"),a=n("4b3f"),s=function(){function e(){Object(r["a"])(this,e),this.moLang=new a["b"]({},{convertUndefined:!0}),this._cacheEnabled=!0,this._globalVariables={},this._variableHandler=null}return Object(i["a"])(e,[{key:"parse",value:function(e,t){return t&&this.moLang.updateExecutionEnv(t,!0),this.moLang.executeAndCatch(e)}},{key:"cache_enabled",get:function(){return this._cacheEnabled},set:function(e){this._cacheEnabled=e,this.moLang.updateConfig({useCache:e})}},{key:"global_variables",get:function(){throw new Error("Accessing global variables this way is not supported")},set:function(e){throw new Error("Setting global variables this way is not supported")}},{key:"variableHandler",get:function(){return this._variableHandler},set:function(e){this._variableHandler=e,this.moLang.updateConfig({variableHandler:null!==e&&void 0!==e?e:void 0})}}]),e}()},"2dd6":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));n("a434");var r=n("d4ec"),i=n("bee2"),a=(n("a4d3"),n("e01a"),n("b0c0"),n("8a54")),s=function(){function e(t,n){Object(r["a"])(this,e),this.taskManager=t,this.taskDetails=n,this.currentStepCount=0}return Object(i["a"])(e,[{key:"update",value:function(e,t){void 0!==e&&(this.currentStepCount=e),void 0!==t&&(this.taskDetails.totalTaskSteps=t)}},{key:"createWindow",value:function(){this.window=new a["a"]({name:this.name,description:this.description})}},{key:"complete",value:function(){this.window&&this.window.dispose(),this.dispose()}},{key:"dispose",value:function(){var e;null===(e=this.taskManager)||void 0===e||e.delete(this)}},{key:"name",get:function(){return this.taskDetails.name}},{key:"description",get:function(){return this.taskDetails.description}},{key:"totalStepCount",get:function(){var e;return null!==(e=this.taskDetails.totalTaskSteps)&&void 0!==e?e:100}},{key:"icon",get:function(){return this.taskDetails.icon}},{key:"progress",get:function(){return Math.round(this.currentStepCount/this.totalStepCount*100)}}]),e}(),o=n("a6f4"),c=Object(o["c"])([]),u=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,[{key:"create",value:function(e){var t=new s(this,e);return c.push(t),t}},{key:"delete",value:function(e){c.splice(c.indexOf(e),1)}},{key:"hasRunningTasks",get:function(){return c.length>0}}]),e}()},3490:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n("07ac"),n("159b"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),s=(n("a4d3"),n("e01a"),n("b0c0"),n("262e")),o=n("2caf"),c=n("8d8a"),u=n("ec26"),l=n("4feb"),d=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(e,r){var a,s;if(Object(i["a"])(this,n),s=t.call(this,r),s.actionManager=e,s.config=r,s.id=null!==(a=r.id)&&void 0!==a?a:Object(u["a"])(),!r.description)throw new Error("You need to provide a description for complex actions: ".concat(r.name," has none"));return r.keyBinding&&s.addKeyBinding(c["a"].fromStrKeyCode(e.app.keyBindingManager,r.keyBinding,!0,r.prevent)),s}return Object(a["a"])(n,[{key:"keyBinding",get:function(){return this._keyBinding}},{key:"addKeyBinding",value:function(e){var t=this;return this._keyBinding=e,e.on((function(){return t.trigger()})),this}},{key:"disposeKeyBinding",value:function(){this._keyBinding&&this._keyBinding.dispose()}},{key:"dispose",value:function(){this.actionManager.disposeAction(this.id),this.disposeKeyBinding()}}]),n}(l["a"]),p=n("a6f4"),h=function(){function e(t){Object(i["a"])(this,e),this.app=t,this.state=Object(p["f"])({})}return Object(a["a"])(e,[{key:"create",value:function(e){var t=new d(this,e);return Object(p["e"])(this.state,t.id,t),t}},{key:"disposeAction",value:function(e){Object(p["b"])(this.state,e)}},{key:"dispose",value:function(){Object.values(this.state).forEach((function(e){return e.dispose()}))}},{key:"trigger",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.state[t]){e.next=2;break}throw new Error('Failed to trigger "'.concat(t,'": Action does not exist.'));case 2:return e.next=4,this.state[t].trigger();case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},3897:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));n("d3b7"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7");var r=n("3835"),i=(n("96cf"),n("1da1")),a=n("d4ec"),s=n("bee2"),o=n("45eb"),c=n("7e84"),u=n("262e"),l=n("2caf"),d=n("d009"),p=n("f374"),h=n("3d15"),f=n("1228"),m=n("dffd"),v=function(t){Object(u["a"])(f,t);var n=Object(l["a"])(f);function f(e,t,r){var i;return Object(a["a"])(this,f),i=n.call(this,{icon:"mdi-cogs",name:"taskManager.tasks.compiler.title",description:"taskManager.tasks.compiler.description"}),i.parent=e,i.project=t,i.config=r,i.ready=new p["a"],i.ready.dispatch(!1),i}return Object(s["a"])(f,[{key:"createWorker",value:function(){this.worker=new Worker(e,void 0)}},{key:"dispose",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])(Object(c["a"])(f.prototype),"dispose",this).call(this);case 2:this.parent.remove(this.config);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"start",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s,o,c,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.ready.dispatch(!1),e.next=3,d["a"].getApp();case 3:return o=e.sent,e.next=6,o.comMojang.fired;case 6:if(this._service){e.next=12;break}return e.next=9,new this.workerClass({projectDirectory:this.project.baseDirectory,baseDirectory:o.fileSystem.baseDirectory,comMojangDirectory:o.comMojang.fileSystem.baseDirectory,config:this.config,mode:t,plugins:this.parent.getCompilerPlugins(),pluginFileTypes:m["a"].getPluginFileTypes()});case 9:this._service=e.sent,e.next=16;break;case 12:return e.next=14,this._service.updateMode(t);case 14:return e.next=16,this._service.updatePlugins(this.parent.getCompilerPlugins(),m["a"].getPluginFileTypes());case 16:return this._service.on(Object(h["a"])((function(e){var t,n=Object(r["a"])(e,2),i=n[0],a=n[1];null===(t=u.task)||void 0===t||t.update(i,a)})),!1),console.time("[TASK] Compiling project (total)"),e.next=20,null===(i=o.project)||void 0===i?void 0:i.packIndexer.fired;case 20:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=24;break}e.t0=void 0!==n;case 24:if(!e.t0){e.next=28;break}e.t2=n,e.next=29;break;case 28:e.t2=[];case 29:if(c=e.t2,"build"!==t){e.next=43;break}return e.next=33,null===(s=o.project)||void 0===s?void 0:s.packIndexer.service.getAllFiles();case 33:if(e.t4=a=e.sent,e.t3=null!==e.t4,!e.t3){e.next=37;break}e.t3=void 0!==a;case 37:if(!e.t3){e.next=41;break}e.t5=a,e.next=42;break;case 41:e.t5=[];case 42:c=e.t5;case 43:return e.next=45,this._service.start(c);case 45:this.ready.dispatch(!0),console.timeEnd("[TASK] Compiling project (total)");case 47:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateFile",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ready.fired;case 2:if(this.ready.resetSignal(),this._service){e.next=5;break}throw new Error("Trying to update file without service being defined");case 5:return e.next=7,this._service.updateMode("dev");case 7:return e.next=9,this._service.updatePlugins(this.parent.getCompilerPlugins(),m["a"].getPluginFileTypes());case 9:return e.next=11,this._service.updateFile(t);case 11:this.ready.dispatch(!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"compileWithFile",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var i,a,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.ready.fired;case 2:if(this.ready.resetSignal(),this._service){e.next=5;break}throw new Error("Trying to update file without service being defined");case 5:return e.next=7,this._service.updateMode("dev");case 7:return e.next=9,this._service.updatePlugins(this.parent.getCompilerPlugins(),m["a"].getPluginFileTypes());case 9:return e.t0=Uint8Array,e.next=12,n.arrayBuffer();case 12:return e.t1=e.sent,i=new e.t0(e.t1),e.next=16,this._service.compileWithFile(t,i);case 16:return a=e.sent,s=Object(r["a"])(a,2),o=s[0],c=s[1],this.ready.dispatch(!0),e.abrupt("return",[o,null!==c&&void 0!==c?c:n]);case 22:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),f}(f["a"])}).call(this,n("747d"))},"3e36":function(e,t,n){"use strict";n("ef1a")},"3ef0":function(e,t,n){},"3faf":function(e,t,n){},"436f":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n("99af"),n("a15b"),n("b0c0"),n("d3b7"),n("ac1f"),n("1276"),n("ddb0");var r=n("2909"),i=n("b85c"),a=(n("96cf"),n("1da1")),s=n("d4ec"),o=n("bee2"),c=n("262e"),u=n("2caf"),l=n("668b"),d=n("f374"),p=n("5e48"),h=n.n(p),f=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(e){var r;return Object(s["a"])(this,n),r=t.call(this),e&&r.setup(e),r}return Object(o["a"])(n,[{key:"baseDirectory",get:function(){return this._baseDirectory}},{key:"setup",value:function(e){this._baseDirectory=e,this.hasFired||this.dispatch()}},{key:"getDirectoryHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,l,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:{},r=n.create,a=n.createOnce,""!==t){e.next=3;break}return e.abrupt("return",this.baseDirectory);case 3:s=this.baseDirectory,o=t.split(/\\|\//g),c=Object(i["a"])(o),e.prev=6,c.s();case 8:if((u=c.n()).done){e.next=22;break}return l=u.value,e.prev=10,e.next=13,s.getDirectoryHandle(l,{create:a||r});case 13:s=e.sent,e.next=19;break;case 16:throw e.prev=16,e.t0=e["catch"](10),new Error('Failed to access "'.concat(t,'": Directory does not exist'));case 19:a&&(a=!1,r=!1);case 20:e.next=8;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](6),c.e(e.t1);case 27:return e.prev=27,c.f(),e.finish(27);case 30:return e.abrupt("return",s);case 31:case"end":return e.stop()}}),e,this,[[6,24,27,30],[10,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFileHandle",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],0!==t.length){e.next=3;break}throw new Error("Error: filePath is empty");case 3:return r=t.split(/\\|\//g),i=r.pop(),e.next=7,this.getDirectoryHandle(r.join("/"),{create:n});case 7:return a=e.sent,e.prev=8,e.next=11,a.getFileHandle(i,{create:n});case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e["catch"](8),new Error('File does not exist: "'.concat(t,'"'));case 17:case"end":return e.stop()}}),e,this,[[8,14]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"mkdir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},n.recursive,e.next=3,this.getDirectoryHandle(t,{create:!0});case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readdir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,s,o,c,u,d,p,h,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.withFileTypes,e.next=3,this.getDirectoryHandle(t);case 3:i=e.sent,a=[],s=!0,o=!1,e.prev=7,u=Object(l["a"])(i.values());case 9:return e.next=11,u.next();case 11:return d=e.sent,s=d.done,e.next=15,d.value;case 15:if(p=e.sent,s){e.next=24;break}if(h=p,"file"!==h.kind||".DS_Store"!==h.name){e.next=20;break}return e.abrupt("continue",21);case 20:r?a.push(h):a.push(h.name);case 21:s=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e["catch"](7),o=!0,c=e.t0;case 30:if(e.prev=30,e.prev=31,s||null==u.return){e.next=35;break}return e.next=35,u.return();case 35:if(e.prev=35,!o){e.next=38;break}throw c;case 38:return e.finish(35);case 39:return e.finish(30);case 40:return e.abrupt("return",a);case 41:case"end":return e.stop()}}),e,this,[[7,26,30,40],[31,,35,39]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readFilesFromDir",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s,o,c,u,d,p,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=h.length>1&&void 0!==h[1]?h[1]:this.getDirectoryHandle(t),e.next=3,n;case 3:n=e.sent,i=[],a=!0,s=!1,e.prev=7,c=Object(l["a"])(n.values());case 9:return e.next=11,c.next();case 11:return u=e.sent,a=u.done,e.next=15,u.value;case 15:if(d=e.sent,a){e.next=36;break}if(p=d,"file"!==p.kind||".DS_Store"!==p.name){e.next=20;break}return e.abrupt("continue",33);case 20:if("file"!==p.kind){e.next=24;break}i.push({name:p.name,kind:p.kind,path:"".concat(t,"/").concat(p.name)}),e.next=33;break;case 24:if("directory"!==p.kind){e.next=33;break}return e.t0=i.push,e.t1=i,e.t2=r["a"],e.next=30,this.readFilesFromDir("".concat(t,"/").concat(p.name),p);case 30:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 33:a=!0,e.next=9;break;case 36:e.next=42;break;case 38:e.prev=38,e.t5=e["catch"](7),s=!0,o=e.t5;case 42:if(e.prev=42,e.prev=43,a||null==c.return){e.next=47;break}return e.next=47,c.return();case 47:if(e.prev=47,!s){e.next=50;break}throw o;case 50:return e.finish(47);case 51:return e.finish(42);case 52:return e.abrupt("return",i);case 53:case"end":return e.stop()}}),e,this,[[7,38,42,52],[43,,47,51]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readFile",value:function(e){return this.getFileHandle(e).then((function(e){return e.getFile()}))}},{key:"unlink",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}throw new Error("Error: filePath is empty");case 2:return n=t.split(/\\|\//g),r=n.pop(),e.next=6,this.getDirectoryHandle(n.join("/"));case 6:return i=e.sent,e.next=9,i.removeEntry(r,{recursive:!0});case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"writeFile",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHandle(t,!0);case 2:return r=e.sent,e.next=5,this.write(r,n);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"write",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.createWritable();case 2:return r=e.sent,e.next=5,r.write(n);case 5:return e.next=7,r.close();case 7:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"readJSON",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readFile(t);case 2:return n=e.sent,e.prev=3,e.t0=h.a,e.next=7,n.text();case 7:return e.t1=e.sent,e.next=10,e.t0.parse.call(e.t0,e.t1);case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t2=e["catch"](3),new Error("Invalid JSON: ".concat(t));case 16:case"end":return e.stop()}}),e,this,[[3,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"writeJSON",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.writeFile(e,JSON.stringify(t,null,n?"\t":void 0))}},{key:"copyFile",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getFileHandle(t,!1);case 2:return r=e.sent,e.next=5,this.getFileHandle(n,!0);case 5:return i=e.sent,e.next=8,i.createWritable();case 8:return a=e.sent,e.t0=a,e.next=12,r.getFile();case 12:return e.t1=e.sent,e.next=15,e.t0.write.call(e.t0,e.t1);case 15:return e.next=17,a.close();case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"fileExists",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getFileHandle(t);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(d["a"])},"4aca":function(e,t,n){},"4d03":function(e,t,n){},"4d25":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("a6f4"),i=Object(r["c"])({});function a(e){for(var t in e)Object(r["e"])(i,t,e[t])}},"4f85":function(e,t,n){"use strict";n("bb06")},"4feb":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("a4d3"),n("e01a"),n("b0c0"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),s=n("262e"),o=n("2caf"),c=n("1834"),u=n("ec26"),l=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(e){var r,a;return Object(i["a"])(this,n),a=t.call(this),a.config=e,a.id=null!==(r=e.id)&&void 0!==r?r:Object(u["a"])(),a}return Object(a["a"])(n,[{key:"name",get:function(){return this.config.name}},{key:"icon",get:function(){return this.config.icon}},{key:"description",get:function(){return this.config.description}},{key:"color",get:function(){return this.config.color}},{key:"trigger",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.dispatch(),e.next=3,this.config.onTrigger();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(c["a"])},"518c":function(e,t,n){},5620:function(e,t,n){"use strict";n("96a1")},"56cb":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n("3835"),i=(n("96cf"),n("1da1")),a=n("d4ec"),s=n("bee2"),o=n("45eb"),c=n("7e84"),u=n("262e"),l=n("2caf"),d=n("1228"),p=n("3d15"),h=n("4d25"),f=n("dffd"),m=function(t){Object(u["a"])(d,t);var n=Object(l["a"])(d);function d(e,t){var r;return Object(a["a"])(this,d),r=n.call(this,{icon:"mdi-flash-outline",name:"taskManager.tasks.packIndexing.title",description:"taskManager.tasks.packIndexing.description"}),r.app=e,r.baseDirectory=t,r}return Object(s["a"])(d,[{key:"createWorker",value:function(){this.worker=new Worker(e,void 0)}},{key:"deactivate",value:function(){Object(o["a"])(Object(c["a"])(d.prototype),"deactivate",this).call(this)}},{key:"start",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.time("[TASK] Indexing Packs (Total)"),e.next=3,new this.workerClass({projectDirectory:this.baseDirectory,baseDirectory:this.app.fileSystem.baseDirectory,disablePackSpider:!(null!==h["b"]&&void 0!==h["b"]&&null!==(n=h["b"].general)&&void 0!==n&&n.enablePackSpider),pluginFileTypes:f["a"].getPluginFileTypes(),noFullLightningCacheRefresh:!t&&!(null!==h["b"]&&void 0!==h["b"]&&null!==(i=h["b"].general)&&void 0!==i&&i.fullLightningCacheRefresh)});case 3:return this._service=e.sent,this._service.on(Object(p["a"])((function(e){var t,n=Object(r["a"])(e,2),i=n[0],a=n[1];null===(t=s.task)||void 0===t||t.update(i,a)})),!1),e.next=7,this._service.start();case 7:return a=e.sent,console.timeEnd("[TASK] Indexing Packs (Total)"),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateFile",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.next=4,this.service.updatePlugins(f["a"].getPluginFileTypes());case 4:return e.next=6,this.service.updateFile(t,n);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"readdir",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.next=4,this.service.readdir(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"service",get:function(){return this._service}}]),d}(d["a"])}).call(this,n("1826"))},"5b2e":function(e,t,n){"use strict";n("9330")},"5be6":function(e,t,n){},"5d94":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n("7db0"),n("07ac");var r=n("a026"),i=r["default"].observable({currentState:null,sidebarElements:{}});function a(e){var t=Object.values(i.sidebarElements).find((function(t){var n=t.uuid;return n===e}));if(!t)throw new Error('Sidebar with id "'.concat(e,'" not found'));null===t||void 0===t||t.click()}},"60a6":function(e,t,n){"use strict";n("efe6")},6253:function(e,t,n){},6396:function(e){e.exports=JSON.parse('{"a":"2.0.0-alpha.13"}')},"63f0":function(e,t,n){e.exports=n.p+"js/2.08f7a0d6.worker.js"},"703d":function(e,t,n){"use strict";n("4aca")},"71ee":function(e,t,n){},"736d":function(e,t,n){e.exports=n.p+"img/logo.e82c2c74.svg"},"747d":function(e,t,n){e.exports=n.p+"js/1.b446b5ca.worker.js"},"7a00":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("96cf");var r=n("1da1"),i=n("d009"),a={data:function(){return{isProjectMixinReady:!1}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].getApp();case 2:return n=t.sent,t.next=5,n.projectManager.fired;case 5:e.isProjectMixinReady=!0;case 6:case"end":return t.stop()}}),t)})))()},computed:{project:function(){if(this.isProjectMixinReady){var e=i["a"].instance.projectManager;return e.state[e._selectedProject]}}}}},"7c64":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("2ca0");var r={methods:{t:function(e){var t,n,r=e;null!==(t=e)&&void 0!==t&&t.startsWith("$vuetify.")||(e="$vuetify.".concat(e));try{n=this.$vuetify.lang.t(e)}catch(i){return r}return n===e?r:n}}}},"7d52":function(e,t,n){"use strict";n("a82a")},8136:function(e,t,n){"use strict";n("3ef0")},"85ec":function(e,t,n){},8743:function(e,t,n){"use strict";n("0167")},"8a54":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));n("a4d3"),n("e01a"),n("b0c0"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),s=n("45eb"),o=n("7e84"),c=n("262e"),u=n("2caf"),l=n("a46c"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.$data.title,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:120,hasCloseButton:!1,isPersistent:e.$data.isPersistent},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",{staticClass:"mt-2"},[e._v(e._s(e.t(e.$data.description)))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.close}},[n("v-icon",[e._v("mdi-check")]),n("span",[e._v(e._s(e.t("general.confirm")))])],1)]},proxy:!0}],null,!1,3734431350)}):e._e()},p=[],h=n("7c64"),f=n("bd5a"),m={name:"Information",mixins:[h["a"]],components:{BaseWindow:f["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{close:function(){this.currentWindow.close()}}},v=m,b=n("2877"),g=n("6544"),w=n.n(g),k=n("8336"),y=n("132d"),x=n("2fa4"),j=Object(b["a"])(v,d,p,!1,null,null,null),O=j.exports;w()(j,{VBtn:k["a"],VIcon:y["a"],VSpacer:x["a"]});var S=function(e){Object(c["a"])(n,e);var t=Object(u["a"])(n);function n(e){var r;return Object(i["a"])(this,n),r=t.call(this,O,!0,!1),r.opts=e,r.defineWindow(),r.open(),r}return Object(a["a"])(n,[{key:"description",get:function(){return this.opts.description}},{key:"title",get:function(){return this.opts.name}},{key:"isPersistent",get:function(){var e;return null===(e=this.opts.isPersistent)||void 0===e||e}},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof this.opts.onClose){e.next=3;break}return e.next=3,this.opts.onClose();case 3:Object(s["a"])(Object(o["a"])(n.prototype),"close",this).call(this);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(l["a"])},"8d07":function(e,t,n){"use strict";n("4d03")},"8d3c":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),i=n("bee2"),a=n("436f"),s=function(){function e(t){Object(r["a"])(this,e),this.directory=t,this.fileSystem=new a["a"](t)}return Object(i["a"])(e,[{key:"createTask",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{icon:"mdi-folder-zip",name:"unzipper.name",description:"unzipper.description"};this.task=e.create(t)}}]),e}()},"8d8a":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("5530"),i=(n("96cf"),n("1da1")),a=n("d4ec"),s=n("bee2"),o=n("262e"),c=n("2caf"),u=n("1834"),l=n("9803"),d=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(e,r){var i;return Object(a["a"])(this,n),i=t.call(this),i.keyBindingManager=e,i.config=r,i}return Object(s["a"])(n,[{key:"toStrKeyCode",value:function(){return Object(l["b"])(this.config)}},{key:"trigger",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dispatch();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"prevent",value:function(e){return"function"===typeof this.config.prevent&&this.config.prevent(e)}},{key:"dispose",value:function(){this.keyBindingManager.disposeKeyBinding(this.toStrKeyCode())}}],[{key:"fromStrKeyCode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;return e.create(Object(r["a"])(Object(r["a"])({},Object(l["a"])(t,n)),{},{prevent:i}))}}]),n}(u["a"])},"8ed7":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("caad"),n("2532");var r=n("4d25");function i(){var e;if(null!==r["b"]&&void 0!==r["b"]&&null!==(e=r["b"].developers)&&void 0!==e&&e.simulateOS&&"auto"!==r["b"].developers.simulateOS)return r["b"].developers.simulateOS;var t=navigator.platform.toLowerCase();return t.includes("win")?"win32":t.includes("linux")?"linux":t.includes("mac")?"darwin":void 0}},"923f":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("4de4"),n("d81d"),n("4fad"),n("2ca0");var r=n("3835"),i=n("d4ec"),a=n("bee2"),s=n("a026"),o=function(){function e(t){Object(i["a"])(this,e),this.vuetify=t}return Object(a["a"])(e,[{key:"translate",value:function(e){var t,n,r=e;null!==(t=e)&&void 0!==t&&t.startsWith("$vuetify.")||(e="$vuetify.".concat(e));try{n=this.vuetify.lang.t(e)}catch(i){return null!==r&&void 0!==r?r:"Unknown"}return n===e?null!==r&&void 0!==r?r:"Unknown":n}},{key:"addLanguage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.vuetify.lang;if(e in r.locales&&!n)throw new Error('Language key "'.concat(e,'" already exists!'));return s["default"].set(r.locales,e,t),{dispose:function(){r.current===e&&(r.current=r.defaultLocale),s["default"].delete(r.locales,e)}}}},{key:"selectLanguage",value:function(e){var t=this.vuetify.lang;if(!(e in t.locales))throw new Error('Undefined language: "'.concat(e,'"'));t.current=e}},{key:"getLanguages",value:function(){var e=this.vuetify.lang.locales;return Object.entries(e).filter((function(e){var t=Object(r["a"])(e,2),n=(t[0],t[1]);return void 0!==n.languageName})).map((function(e){var t=Object(r["a"])(e,2),n=t[0],i=t[1];return[n,i.languageName]}))}},{key:"getCurrentLanguage",value:function(){return this.vuetify.lang.current}}]),e}()},9330:function(e,t,n){},"95d1":function(e,t,n){"use strict";n("bcb1")},"96a1":function(e,t,n){},9803:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));n("ac1f"),n("1276"),n("159b");var r=n("8ed7");function i(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.toLowerCase().split(" + "),i={key:""};return n.forEach((function(e){"⌘"===e||("darwin"!==Object(r["a"])()||t)&&"ctrl"===e?i.ctrlKey=!0:"alt"===e?i.altKey=!0:"shift"===e?i.shiftKey=!0:"meta"===e?i.metaKey=!0:i.key=e})),i}function a(e){var t=e.key,n=e.ctrlKey,i=e.altKey,a=e.shiftKey,s=e.metaKey,o=t.toUpperCase();return a&&(o="Shift + "+o),i&&(o="Alt + "+o),s&&(o="darwin"===Object(r["a"])()?"Ctrl + "+o:"Meta + "+o),n&&(o="darwin"===Object(r["a"])()?"⌘ + "+o:"Ctrl + "+o),o}},9988:function(e,t,n){},"9a02":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("99af"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("96cf");var r,i=n("b85c"),a=n("1da1"),s=n("2909"),o=n("db05"),c=n("ec26"),u=n("f374");(function(e){var t=[],n=new Map;function r(){return t.concat(Object(s["a"])(n.values()))}function l(e){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function n(r){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(t.length>0)){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,r.readJSON("data/packages/packDefinitions.json");case 4:t=n.sent,e.ready.dispatch();case 6:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function p(e){var t,n=Object(i["a"])(r());try{for(n.s();!(t=n.n()).done;){var a=t.value;if("string"===typeof a.matcher&&Object(o["isMatch"])(e,a.matcher))return a;var s,c=Object(i["a"])(a.matcher);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(Object(o["isMatch"])(e,u))return a}}catch(l){c.e(l)}finally{c.f()}}}catch(l){n.e(l)}finally{n.f()}}function h(e){var t,n;return null!==(t=null===(n=p(e))||void 0===n?void 0:n.id)&&void 0!==t?t:"unknown"}function f(e){var t=Object(c["a"])();return n.set(t,e),{dispose:function(){return n.delete(t)}}}e.ready=new u["a"],e.all=r,e.setup=l,e.get=p,e.getId=h,e.addExtensionPackType=f})(r||(r={}))},"9edc":function(e,t,n){"use strict";n("cd82")},"9f8f":function(e,t,n){},a1dd:function(e,t,n){"use strict";n("0bd4")},a46c:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("d4ec"),i=n("bee2"),a=n("262e"),s=n("2caf"),o=n("ec26"),c=n("f374"),u=n("e6b7"),l=n("a6f4"),d=function(e){Object(a["a"])(n,e);var t=Object(s["a"])(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(r["a"])(this,n),i=t.call(this),i.component=e,i.disposeOnClose=a,i.keepAlive=s,i.windowUUID=Object(o["a"])(),i.isVisible=!1,i.shouldRender=!1,i.actions=[],i}return Object(i["a"])(n,[{key:"defineWindow",value:function(){Object(l["e"])(u["a"].state,this.windowUUID,this)}},{key:"addAction",value:function(e){this.actions.push(e)}},{key:"close",value:function(e){var t=this;this.isVisible=!1,null!==e&&this.dispatch(e),this.keepAlive||setTimeout((function(){t.shouldRender=!1,t.disposeOnClose&&t.dispose()}),600)}},{key:"open",value:function(){this.shouldRender=!0,this.isVisible=!0,this.resetSignal()}},{key:"dispose",value:function(){Object(l["b"])(u["a"].state,this.windowUUID)}}]),n}(c["a"])},a50c:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-1 pa-4 mb-2 rounded-lg control-bg"},[n("div",{staticClass:"d-flex align-center"},[e.action.icon?n("v-icon",{staticClass:"mr-1",attrs:{color:"accent"}},[e._v(" "+e._s(e.action.icon)+" ")]):e._e(),n("h3",[e._v(e._s(e.t(e.action.name)))]),n("v-spacer"),e.action.keyBinding?n("span",[e._v(" "+e._s(e.action.keyBinding.toStrKeyCode())+" ")]):e._e(),e.hideTriggerButton?e._e():n("v-btn",{attrs:{color:"primary",small:"",icon:""}},[n("v-icon",{on:{click:e.onTrigger}},[e._v("mdi-play")])],1)],1),e.dense?e._e():n("span",[e._v(e._s(e.t(e.action.description)))])])},i=[],a=n("7c64"),s={props:{action:Object,hideTriggerButton:Boolean,dense:Boolean},mixins:[a["a"]],methods:{onTrigger:function(){this.action.trigger()}}},o=s,c=(n("d638"),n("2877")),u=n("6544"),l=n.n(u),d=n("8336"),p=n("132d"),h=n("2fa4"),f=Object(c["a"])(o,r,i,!1,null,"57a401d4",null);t["a"]=f.exports;l()(f,{VBtn:d["a"],VIcon:p["a"],VSpacer:h["a"]})},a82a:function(e,t,n){},b2f9:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("a6f4"),i=Object(r["f"])({})},b4a2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={data:function(){return{isCompilerReady:!0}},mounted:function(){},destroyed:function(){},methods:{setIsCompilerReady:function(e){this.isCompilerReady=e}}}},b5ed:function(e,t,n){},b948:function(e,t,n){"use strict";n("5be6")},bb06:function(e,t,n){},bcb1:function(e,t,n){},bd5a:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.isVisible,persistent:e.isPersistent,"hide-overlay":!e.blurBackground,"max-width":e.isFullscreen?e.maxWindowWidth:e.windowWidth,"content-class":"no-overflow"},on:{input:function(t){return e.$emit("closeWindow")}}},[n("v-card",{attrs:{height:"100%",width:"100%",color:"background",rounded:"darwin"===e.platform?"lg":void 0}},[e.hideToolbar?e._e():n("darwin"===e.platform?"MacToolbar":"WindowsToolbar",{tag:"component",attrs:{windowTitle:e.t(e.windowTitle),actions:e.actions,hasMaximizeButton:e.hasMaximizeButton,hasCloseButton:e.hasCloseButton,hasSidebar:!!e.$slots.sidebar,sidebarWidth:e.sidebarWidth},on:{toggleFullscreen:function(t){return e.$emit("toggleFullscreen")},closeWindow:function(t){return e.$emit("closeWindow")}}},[e._t("toolbar")],2),e.$slots.sidebar?n("v-navigation-drawer",{staticStyle:{visibility:"visible",transform:"translateX(0)"},attrs:{absolute:"",width:e.sidebarWidth,permanent:"",clipped:"",stateless:"",color:"expandedSidebar"}},["darwin"===e.platform?n("MacWindowControls",{staticClass:"pl-3 pt-1",staticStyle:{width:"calc(100% - 1px)","background-color":"var(--v-expandedSidebar-base)"},attrs:{hasMaximizeButton:e.hasMaximizeButton,hasCloseButton:e.hasCloseButton},on:{toggleFullscreen:function(t){return e.$emit("toggleFullscreen")},closeWindow:function(t){return e.$emit("closeWindow")}}}):e._e(),n("v-container",{class:{"pt-8":"darwin"===e.platform}},[e._t("sidebar")],2)],1):e._e(),n("v-card-text",{staticStyle:{"padding-top":"12px","overflow-y":"auto"},style:{height:e.heightUnset?void 0:(e.isFullscreen?e.maxWindowHeight:e.windowHeight)+"px","max-height":e.maxWindowHeight+"px","padding-top":e.hideToolbar?"24px":"12px","padding-left":e.$slots.sidebar?"calc("+e.sidebarWidth+" + 12px)":void 0}},[e._t("default")],2),e.$slots.actions?n("v-card-actions",{style:{"padding-left":e.$slots.sidebar?"calc("+e.sidebarWidth+" + 12px)":void 0},attrs:{"background-color":"footer"}},[e._t("actions")],2):e._e()],1)],1)},i=[],a=(n("a9e3"),n("8ed7")),s=n("7c64"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-system-bar",{style:{"padding-right":"0px","padding-left":e.hasSidebar?"calc("+e.sidebarWidth+" + 12px)":void 0},attrs:{height:"30px",color:"toolbar"}},[n("span",[e._v(e._s(e.windowTitle))]),n("v-spacer"),n("v-toolbar-items",{staticClass:"px14-font"},[e._l(e.actions,(function(e){return n("DisplayAction",{key:e.id,attrs:{action:e}})})),e._t("default"),e.hasMaximizeButton?n("v-btn",{attrs:{small:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.$emit("toggleFullscreen")}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-plus")])],1):e._e(),e.hasCloseButton?n("v-btn",{staticClass:"mr-1",attrs:{small:"",icon:"",color:"error"},on:{click:function(t){return t.stopPropagation(),e.$emit("closeWindow")}}},[n("v-icon",{attrs:{color:e.isDarkMode?"white":"grey darken-1",small:""}},[e._v(" mdi-close ")])],1):e._e()],2)],1)},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{style:"darwin"===e.platform?"border-radius: 8px":void 0,attrs:{text:!e.minimalDisplay,small:"",icon:e.minimalDisplay},on:{click:function(t){return e.action.trigger()}}},[n("v-icon",{class:{"mr-1":!0,"ml-1":e.minimalDisplay},attrs:{color:"primary",small:""}},[e._v(" "+e._s(e.action.icon)+" ")]),e.minimalDisplay?e._e():n("span",{style:{"text-transform":"none","font-weight":"unset",color:e.isDarkMode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)"}},[e._v(" "+e._s(e.t(e.action.name))+" ")])],1)},l=[],d=n("4feb"),p={mixins:[s["a"]],props:{action:d["a"]},data:function(){return{platform:Object(a["a"])()}},computed:{minimalDisplay:function(){return!this.$vuetify.breakpoint.mdAndUp},isDarkMode:function(){return this.$vuetify.theme.dark}}},h=p,f=n("2877"),m=n("6544"),v=n.n(m),b=n("8336"),g=n("132d"),w=Object(f["a"])(h,u,l,!1,null,null,null),k=w.exports;v()(w,{VBtn:b["a"],VIcon:g["a"]});var y={name:"WindowsToolbar",components:{DisplayAction:k},props:{windowTitle:String,actions:Array,sidebarWidth:{type:String,default:"25%"},hasCloseButton:{type:Boolean,default:!0},hasMaximizeButton:{type:Boolean,default:!0},hasSidebar:Boolean},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}}},x=y,j=n("2fa4"),O=n("afd9"),S=n("2a7f"),C=Object(f["a"])(x,o,c,!1,null,null,null),R=C.exports;v()(C,{VBtn:b["a"],VIcon:g["a"],VSpacer:j["a"],VSystemBar:O["a"],VToolbarItems:S["b"]});var P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-system-bar",{attrs:{height:"30px",color:"toolbar"}},[n("span",{class:{"window-title":!e.hasSidebar},style:{"padding-left":e.hasSidebar?"calc("+e.sidebarWidth+" + 12px)":void 0}},[e._v(" "+e._s(e.windowTitle)+" ")]),n("div",{staticStyle:{position:"absolute",top:"3px"}},[e.hasSidebar?e._e():n("MacWindowControls",e._g({attrs:{hasCloseButton:e.hasCloseButton,hasMaximizeButton:e.hasMaximizeButton,hasMinimizeButton:e.hasMinimizeButton}},e.$listeners))],1),n("v-spacer"),e._l(e.actions,(function(e){return n("DisplayAction",{key:e.id,attrs:{action:e}})})),e._t("default")],2)},_=[],F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"fixed","z-index":"1"}},[e.hasCloseButton?n("MacButton",{attrs:{color:"error"},on:{click:function(t){return e.$emit("closeWindow")}}}):e._e(),e.hasCloseButton?n("MacButton",{attrs:{color:"warning",disabled:!e.hasMinimizeButton},on:{click:function(t){return e.$emit("minimizeWindow")}}}):e._e(),e.hasCloseButton?n("MacButton",{attrs:{color:"success",disabled:!e.hasMaximizeButton},on:{click:function(t){return e.$emit("toggleFullscreen")}}}):e._e()],1)},T=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-icon",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.disabled,expression:"!disabled"}],staticClass:"mr-1",staticStyle:{"font-size":"15px"},attrs:{color:e.disabled||!e.windowHasFocus?e.isDarkMode?"grey darken-2":"grey":e.color,small:""},nativeOn:{click:function(t){return t.stopPropagation(),e.$emit("click")}}},[e._v(" mdi-checkbox-blank-circle ")])},E=[],M={props:{color:String,disabled:Boolean},data:function(){return{windowHasFocus:!0}},mounted:function(){window.addEventListener("focus",this.enableButton),window.addEventListener("blur",this.disableButton)},destroyed:function(){window.removeEventListener("focus",this.enableButton),window.removeEventListener("blur",this.disableButton)},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}},methods:{disableButton:function(){this.windowHasFocus=!1},enableButton:function(){this.windowHasFocus=!0}}},D=M,W=n("269a"),B=n.n(W),I=n("5607"),V=Object(f["a"])(D,A,E,!1,null,null,null),L=V.exports;v()(V,{VIcon:g["a"]}),B()(V,{Ripple:I["a"]});var N={components:{MacButton:L},props:{hasCloseButton:{type:Boolean,default:!0},hasMinimizeButton:{type:Boolean,default:!1},hasMaximizeButton:{type:Boolean,default:!0}},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}}},$=N,z=Object(f["a"])($,F,T,!1,null,null,null),H=z.exports,U={name:"MacToolbar",components:{MacWindowControls:H,DisplayAction:k},props:{windowTitle:String,hasSidebar:Boolean,actions:Array,sidebarWidth:{type:String,default:"25%"},hasCloseButton:{type:Boolean,default:!0},hasMinimizeButton:{type:Boolean,default:!1},hasMaximizeButton:{type:Boolean,default:!0}}},q=U,J=(n("5b2e"),Object(f["a"])(q,P,_,!1,null,"813ed9e4",null)),G=J.exports;v()(J,{VSpacer:j["a"],VSystemBar:O["a"]});var K=n("85b1"),Q={name:"BaseWindow",mixins:[s["a"]],components:{WindowsToolbar:R,MacToolbar:G,MacWindowControls:H},props:{isFullscreen:Boolean,isVisible:Boolean,shouldRender:Boolean,isPersistent:Boolean,actions:Array,sidebarWidth:{type:String,default:"25%"},blurBackground:{type:Boolean,default:!0},hideToolbar:Boolean,windowTitle:String,hasCloseButton:{type:Boolean,default:!0},hasMaximizeButton:{type:Boolean,default:!1},width:{type:Number,default:1600},maxWidth:{type:Number,default:1600},height:{type:Number,default:800},maxHeight:{type:Number,default:800},heightUnset:Boolean,percentageHeight:Number,percentageWidth:Number,maxPercentageHeight:Number,maxPercentageWidth:Number},data:function(){return{platform:Object(a["a"])(),globalWindowWidth:window.innerWidth,globalWindowHeight:window.innerHeight,updateWindowSize:Object(K["a"])((function(){this.globalWindowWidth=window.innerWidth,this.globalWindowHeight=window.innerHeight}),200).bind(this)}},mounted:function(){window.addEventListener("resize",this.updateWindowSize)},destroyed:function(){window.removeEventListener("resize",this.updateWindowSize)},computed:{isDarkMode:function(){return this.$vuetify.theme.dark},windowWidth:function(){return void 0==this.percentageWidth?this.width:this.globalWindowWidth/100*this.percentageWidth},windowHeight:function(){return void 0==this.percentageHeight?this.height:this.globalWindowHeight/100*this.percentageHeight-150},maxWindowWidth:function(){return void 0==this.maxPercentageWidth?this.maxWidth:this.globalWindowWidth/100*this.maxPercentageWidth},maxWindowHeight:function(){return void 0==this.maxPercentageHeight?this.maxHeight:this.globalWindowHeight/100*this.maxPercentageHeight-150}}},Z=Q,Y=(n("9edc"),n("b0af")),X=n("99d9"),ee=n("a523"),te=n("169a"),ne=n("f774"),re=Object(f["a"])(Z,r,i,!1,null,null,null);t["a"]=re.exports;v()(re,{VCard:Y["a"],VCardActions:X["b"],VCardText:X["d"],VContainer:ee["a"],VDialog:te["a"],VNavigationDrawer:ne["a"]})},bd74:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={data:function(){return{isPackIndexerReady:!0}},mounted:function(){},destroyed:function(){},methods:{setIsPackIndexerReady:function(e){this.isPackIndexerReady=e}}}},c310:function(e,t,n){"use strict";n("1dbf")},c3ee:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));n("99af"),n("a15b"),n("b0c0"),n("159b"),n("96cf");var r=n("1da1"),i=n("d4ec"),a=n("bee2"),s=n("262e"),o=n("2caf"),c=n("ec26"),u=n("d009"),l=n("dffd"),d=n("9a02"),p=n("3490");function h(e,t){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopImmediatePropagation(),e.next=4,u["a"].getApp();case 4:r=e.sent,i=new p["a"](r),n.forEach((function(e){return i.create(e)})),r.contextMenu.show(t,i);case 8:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}var m=n("f374"),v=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this),a.parent=e,a.fileHandle=r,a.uuid=Object(c["a"])(),a.hasRemoteChange=!1,a.isUnsaved=!1,a.isForeignFile=!1,a.actions=[],a.connectedTabs=[],a.isActive=!1,a.setup(),a}return Object(a["a"])(n,[{key:"setIsUnsaved",value:function(e){this.isUnsaved=e}},{key:"setup",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.parent.projectRoot.resolve(this.fileHandle).then((function(e){return null===e||void 0===e?void 0:e.join("/")}));case 2:this.projectPath=e.sent,this.projectPath||(this.isForeignFile=!0,this.projectPath="".concat(Object(c["a"])(),"/").concat(this.fileHandle.name)),this.dispatch(this);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateParent",value:function(e){this.parent=e}},{key:"name",get:function(){return this.fileHandle.name}},{key:"tabSystem",get:function(){return this.parent}},{key:"getPath",value:function(){if(!this.projectPath)throw new Error("Trying to access projectPath before tab finished loading");return"projects/".concat(this.parent.projectName,"/").concat(this.projectPath)}},{key:"getProjectPath",value:function(){if(!this.projectPath)throw new Error("Trying to access projectPath before tab finished loading");return this.projectPath}},{key:"icon",get:function(){var e,t;return null!==(e=null===(t=l["a"].get(this.getProjectPath()))||void 0===t?void 0:t.icon)&&void 0!==e?e:"mdi-file-outline"}},{key:"iconColor",get:function(){var e;return null===(e=d["a"].get(this.getPath()))||void 0===e?void 0:e.color}},{key:"isSelected",get:function(){return this.parent.selectedTab===this}},{key:"select",value:function(){return this.parent.select(this),this}},{key:"close",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.parent.close(this);case 2:t=e.sent,t&&this.connectedTabs.forEach((function(e){return e.close()}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isFor",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.isSameEntry(this.fileHandle);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"focus",value:function(){}},{key:"onActivate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isActive=!0;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){this.isActive=!1}},{key:"onDestroy",value:function(){}},{key:"toOtherTabSystem",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(o.length>0&&void 0!==o[0])||o[0],e.next=3,u["a"].getApp();case 3:if(r=e.sent,i=null===(t=r.projectManager.currentProject)||void 0===t?void 0:t.tabSystems,a=i[0]===this.parent?i[0]:i[1],s=i[0]===this.parent?i[1]:i[0],this.updateParent(s),!n){e.next=13;break}s.add(this,!0),a.remove(this,!1),e.next=20;break;case 13:if(this.isForeignFile){e.next=18;break}return e.next=16,s.openedFiles.add(this.getPath());case 16:return e.next=18,a.openedFiles.remove(this.getPath());case 18:s.select(this),this.isSelected&&a.select(a.tabs[0]);case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addAction",value:function(){var e;(e=this.actions).push.apply(e,arguments)}},{key:"onContextMenu",value:function(e){var t=this,n=[];this.parent.tabs.length>1&&n.push({name:"actions.moveToSplitScreen.name",description:"actions.moveToSplitScreen.description",icon:"mdi-arrow-split-vertical",onTrigger:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.toOtherTabSystem();case 1:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),h(e,[].concat(n,[{name:"actions.closeTab.name",description:"actions.closeTab.description",icon:"mdi-close",onTrigger:function(){t.close()}},{name:"actions.closeAll.name",description:"actions.closeAll.description",icon:"mdi-table-row",onTrigger:function(){t.parent.closeTabs((function(){return!0}))}},{name:"actions.closeTabsToRight.name",description:"actions.closeTabsToRight.description",icon:"mdi-chevron-right",onTrigger:function(){var e=!0;t.parent.closeTabs((function(n){return n===t&&(e=!1),e}))}},{name:"actions.closeAllSaved.name",description:"actions.closeAllSaved.description",icon:"mdi-content-save-outline",onTrigger:function(){t.parent.closeTabs((function(e){return!e.isUnsaved}))}},{name:"actions.closeOtherTabs.name",description:"actions.closeOtherTabs.description",icon:"mdi-unfold-more-vertical",onTrigger:function(){t.parent.closeTabs((function(e){return e!==t}))}}]))}},{key:"getFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fileHandle.getFile();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"copy",value:function(){document.execCommand("copy")}},{key:"cut",value:function(){document.execCommand("cut")}},{key:"paste",value:function(){}}],[{key:"is",value:function(e){return!1}}]),n}(m["a"])},c65b:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));n("d3b7");var r=n("3835"),i=(n("96cf"),n("1da1")),a=n("d4ec"),s=n("bee2"),o=n("262e"),c=n("2caf"),u=n("3d15"),l=n("8d3c"),d=function(t){Object(o["a"])(l,t);var n=Object(c["a"])(l);function l(){var t;return Object(a["a"])(this,l),t=n.apply(this,arguments),t.worker=new Worker(e,void 0),t.workerClass=Object(u["b"])(t.worker),t}return Object(s["a"])(l,[{key:"unzip",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,i,a,s,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new this.workerClass(this.directory);case 2:n=e.sent,i=t.getReader(),a=!1;case 5:if(a){e.next=15;break}return e.next=8,i.read();case 8:if(s=e.sent,a=s.done,a){e.next=13;break}return e.next=13,n.push(s.value);case 13:e.next=5;break;case 15:return i.cancel(),e.next=18,new Promise((function(e){n.on(Object(u["a"])((function(t){var n,i,a=Object(r["a"])(t,2),s=a[0],c=a[1];(null===(n=o.task)||void 0===n||n.update(s,c),s===c)&&(null===(i=o.task)||void 0===i||i.complete(),e())})),!1)}));case 18:this.worker.terminate();case 19:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),l}(l["a"])}).call(this,n("63f0"))},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a6f4"),i=n("a026");i["default"].use(r["a"]);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("Toolbar"),n("Sidebar",{attrs:{app:""}}),n("v-main",[n("WindowRenderer"),e.shouldRenderWelcomeScreen?n("div",{staticClass:"fill-area d-flex"},[n("TabSystem",{staticClass:"flex-grow-1",attrs:{tabSystem:e.tabSystems[0],showWelcomeScreen:""}}),e.tabSystems[0].shouldRender&&e.tabSystems[1].shouldRender?n("v-divider",{attrs:{vertical:""}}):e._e(),n("TabSystem",{staticClass:"flex-grow-1",attrs:{tabSystem:e.tabSystems[1],id:1}})],1):n("WelcomeScreen")],1),e.contextMenu?n("ContextMenu",{attrs:{contextMenu:e.contextMenu}}):e._e(),n("FileDropper")],1)},s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{"mini-variant":"","mini-variant-width":"60",stateless:"",value:!0,app:e.app,absolute:"",right:e.isSidebarRight,color:"sidebarNavigation"}},[n("v-list",e._l(e.SidebarState.sidebarElements,(function(e,t){return n("SidebarButton",{key:""+t,attrs:{displayName:e.displayName,icon:e.icon,isLoading:e.isLoading},on:{click:function(t){return e.click()}}})})),1),e.hasVisibleNotifications?n("v-list",[n("v-divider",{staticClass:"mx-3 mb-6"}),e._l(e.NotificationStore,(function(t){return[t.isVisible?n("SidebarButton",{key:t.id,attrs:{displayName:t.message,icon:t.icon,color:t.color,iconColor:t.textColor},on:{click:function(e){return t.onClick()}}}):e._e()]}))],2):e._e(),e.tasks.length>0?n("v-list",[n("v-divider",{staticClass:"mx-3 mb-6"}),e._l(e.tasks,(function(e,t){return n("SidebarButton",{key:""+t,attrs:{displayName:e.name,icon:e.icon,color:"primary",isLoading:"",alwaysAllowClick:""},on:{click:function(t){return e.createWindow()}}},[n("v-progress-circular",{attrs:{rotate:"-90",size:"24",width:"2",color:"white",value:e.progress}})],1)}))],2):e._e()],1)},c=[],u=(n("07ac"),n("4d25")),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tooltip",{attrs:{color:e.color?e.color:"tooltip",disabled:e.hasClicked,right:!e.isSidebarRight,left:e.isSidebarRight},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("div",e._g({directives:[{name:"ripple",rawName:"v-ripple",value:e.alwaysAllowClick||!e.isLoading,expression:"alwaysAllowClick || !isLoading"}],staticClass:"rounded-lg ma-2 d-flex justify-center sidebar-button",class:{loading:e.isLoading,"pa-1":e.smallerSidebarElements,"pa-2":!e.smallerSidebarElements},style:{"background-color":e.computedColor},on:{click:e.onClick}},r),[n("v-icon",{style:{position:e.isLoading?"absolute":"relative",margin:e.isLoading?"4px":0},attrs:{color:e.isLoading?"white":e.iconColor,small:e.isLoading}},[e._v(" "+e._s(e.icon)+" ")]),e.isLoading?e._t("default",[n("v-progress-circular",{attrs:{size:"24",width:"2",color:"white",indeterminate:""}})]):e._e()],2)]}}],null,!0)},[n("span",[e._v(e._s(e.t(e.displayName)))])])},d=[],p=(n("a9e3"),n("2ca0"),n("7c64")),h={name:"SidebarButton",mixins:[p["a"]],props:{displayName:String,icon:String,iconColor:String,color:String,isLoading:{type:Boolean,default:!1},alwaysAllowClick:{type:Boolean,default:!1},opacity:{type:Number,default:1}},data:function(){return{settingsState:u["b"],hasClicked:!1}},computed:{isSidebarRight:function(){return this.settingsState&&this.settingsState.appearance&&this.settingsState.appearance.isSidebarRight},smallerSidebarElements:function(){return this.settingsState&&this.settingsState.appearance&&this.settingsState.appearance.smallerSidebarElements},computedColor:function(){return this.color?this.color.startsWith("#")?this.color:"var(--v-".concat(this.color,"-base)"):this.isLoading?"var(--v-primary-base)":"var(--v-sidebarSelection-base)"}},methods:{onClick:function(){var e=this;!this.alwaysAllowClick&&this.isLoading||(this.$emit("click"),this.hasClicked=!0,this.$nextTick((function(){return e.hasClicked=!1})))}}},f=h,m=(n("ed92"),n("2877")),v=n("6544"),b=n.n(v),g=n("132d"),w=n("490a"),k=n("3a2f"),y=n("269a"),x=n.n(y),j=n("5607"),O=Object(m["a"])(f,l,d,!1,null,"b1526da4",null),S=O.exports;b()(O,{VIcon:g["a"],VProgressCircular:w["a"],VTooltip:k["a"]}),x()(O,{Ripple:j["a"]});var C=n("5d94"),R=n("2dd6"),P=n("b2f9"),_={name:"Sidebar",props:{app:Boolean},components:{SidebarButton:S},data:function(){return{SidebarState:C["a"],settingsState:u["b"],tasks:R["b"],NotificationStore:P["a"]}},computed:{hasVisibleNotifications:function(){return Object.values(this.NotificationStore).some((function(e){var t=e.isVisible;return t}))},isSidebarRight:function(){return this.settingsState&&this.settingsState.appearance&&this.settingsState.appearance.isSidebarRight}}},F=_,T=n("ce7e"),A=n("8860"),E=n("f774"),M=Object(m["a"])(F,o,c,!1,null,null,null),D=M.exports;b()(M,{VDivider:T["a"],VList:A["a"],VNavigationDrawer:E["a"],VProgressCircular:w["a"]});var W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-system-bar",{style:{"padding-left":e.isMacOS?"env(titlebar-area-x, 8px)":void 0,"padding-right":e.isMacOS?void 0:"env(titlebar-area-x, 0)","z-index":e.windowControlsOverlay?1e3:void 0},attrs:{color:"toolbar",fixed:"",app:"",clipped:"",padless:"",height:"env(titlebar-area-height, 24px)"}},[e.isMacOS&&e.windowControlsOverlay?e._e():r("img",{staticStyle:{height:"20px","padding-right":"4px"},attrs:{alt:"bridge. Logo",src:n("736d")}}),r("v-divider",{attrs:{vertical:""}}),r("v-toolbar-items",{staticClass:"px14-font"},[e._l(e.toolbar,(function(t,n,i){return["category"!==t.type?r("MenuButton",{key:"button."+n,attrs:{displayName:t.name,displayIcon:t.icon,disabled:e.isAnyWindowVisible},on:{click:function(){return t.trigger()}}}):r("MenuActivator",{key:"activator."+n,attrs:{item:t,disabled:e.isAnyWindowVisible}}),e.windowControlsOverlay||i+1<Object.keys(e.toolbar).length?r("v-divider",{key:"divider."+n,attrs:{vertical:""}}):e._e()]}))],2),e.windowControlsOverlay?r("span",{staticClass:"pl-3"},[e._v(" "+e._s(e.title)+" ")]):e._e(),r("v-spacer"),r("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"px-1 mx-1 rounded-lg app-version-display",on:{click:e.openChangelogWindow}},[e._v(" v"+e._s(e.appVersion)+" ")])],1)},B=[],I=(n("96cf"),n("1da1")),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"toolbar-btn",attrs:{small:"",icon:"",color:e.color},on:{click:function(t){return t.stopPropagation(),e.action(t)}}},[n("v-icon",{attrs:{small:""}},[e._v(e._s(e.icon))])],1)},L=[],N={name:"WindowAction",components:{},props:{action:Function,icon:String,color:String}},$=N,z=(n("d526"),n("8336")),H=Object(m["a"])($,V,L,!1,null,"0dfaadb2",null),U=H.exports;b()(H,{VBtn:z["a"],VIcon:g["a"]});var q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"min-width":"260px","offset-y":"",tile:"","z-index":"11"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("MenuButton",e._g({attrs:{disabled:e.disabled,displayIcon:e.item.icon,displayName:e.item.name}},r))]}}]),model:{value:e.item.isVisible,callback:function(t){e.$set(e.item,"isVisible",t)},expression:"item.isVisible"}},[e.item.isVisible?n("MenuList",{attrs:{elements:e.item.state}}):e._e()],1)},J=[],G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{staticClass:"app-menu",staticStyle:{"border-radius":"0"},attrs:{color:"menu"}},e._l(e.elements,(function(t,r,i){return n("v-menu",{key:"menu."+i+"."+Math.random(),attrs:{"open-on-hover":"","offset-x":"",tile:"","z-index":"11"},scopedSlots:e._u([{key:"activator",fn:function(r){var i=r.on;return[n("v-list-item",e._g({attrs:{dense:""},on:{click:function(n){return e.onClick(t)}}},"category"===t.type?i:void 0),[t.icon?n("v-list-item-icon",[n("v-icon",{attrs:{color:"accent",small:""}},[e._v(e._s(t.icon))])],1):e._e(),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(e.t(t.name))+" ")])],1),n("v-list-item-action",[n("v-list-item-action-text",["category"!==t.type&&t.keyBinding?n("span",[e._v(" "+e._s(t.keyBinding.toStrKeyCode())+" ")]):e._e(),"category"===t.type?n("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")]):e._e()],1)],1)],1)]}}],null,!0)},[n("MenuList",{attrs:{elements:t.state}})],1)})),1)},K=[],Q={name:"MenuList",mixins:[p["a"]],props:{elements:Object},methods:{onClick:function(e){e.trigger()}}},Z=Q,Y=n("da13"),X=n("1800"),ee=n("5d23"),te=n("34c3"),ne=n("e449"),re=Object(m["a"])(Z,G,K,!1,null,null,null),ie=re.exports;b()(re,{VIcon:g["a"],VList:A["a"],VListItem:Y["a"],VListItemAction:X["a"],VListItemActionText:ee["e"],VListItemContent:ee["g"],VListItemIcon:te["a"],VListItemTitle:ee["k"],VMenu:ne["a"]});var ae=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"toolbar-btn",attrs:{small:"",text:"",disabled:e.disabled},on:{click:function(t){return e.$emit("click",t)}}},[e.displayIcon?n("v-icon",{staticStyle:{"margin-right":"6px","font-style":"normal"},attrs:{color:"accent"}},[e._v(" "+e._s(e.displayIcon)+" ")]):e._e(),n("span",[e._v(" "+e._s(e.t(e.displayName))+" ")])],1)},se=[],oe={name:"MenuButton",mixins:[p["a"]],props:{displayName:String,displayIcon:String,disabled:{type:Boolean}}},ce=oe,ue=(n("95d1"),Object(m["a"])(ce,ae,se,!1,null,"6a411098",null)),le=ue.exports;b()(ue,{VBtn:z["a"],VIcon:g["a"]});var de={name:"MenuActivator",components:{MenuList:ie,MenuButton:le},props:{item:Object,disabled:Boolean}},pe=de,he=Object(m["a"])(pe,q,J,!1,null,null,null),fe=he.exports;b()(he,{VMenu:ne["a"]});var me=n("d009"),ve=n("6396"),be=n("8ed7"),ge=n("e6b7"),we={name:"Toolbar",components:{WindowAction:U,MenuActivator:fe,MenuButton:le},setup:function(){var e=Object(r["c"])({title:"bridge.",isAnyWindowVisible:ge["a"].isAnyWindowVisible});return me["a"].getApp().then((function(t){e.title=t.projectManager.title.current})),e},data:function(){return{toolbar:me["a"].toolbar.state,isMacOS:"darwin"===Object(be["a"])(),appVersion:ve["a"],windowControlsOverlay:navigator.windowControlsOverlay&&navigator.windowControlsOverlay.visible}},mounted:function(){var e=this;navigator.windowControlsOverlay&&navigator.windowControlsOverlay.addEventListener("geometrychange",(function(t){e.windowControlsOverlay=t.visible}))},methods:{openChangelogWindow:function(){return Object(I["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,me["a"].getApp();case 2:return t=e.sent,e.next=5,t.windows.changelogWindow.open();case 5:case"end":return e.stop()}}),e)})))()}}},ke=we,ye=(n("8d07"),n("2fa4")),xe=n("afd9"),je=n("2a7f"),Oe=Object(m["a"])(ke,W,B,!1,null,"67436be0",null),Se=Oe.exports;b()(Oe,{VDivider:T["a"],VSpacer:ye["a"],VSystemBar:xe["a"],VToolbarItems:je["b"]}),x()(Oe,{Ripple:j["a"]});var Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.windows,(function(e,t){return n(e.component,{key:t,tag:"component",attrs:{currentWindow:e}})})),1)},Re=[],Pe={name:"CollectedWindows",data:function(){return{windows:ge["a"].state}}},_e=Pe,Fe=Object(m["a"])(_e,Ce,Re,!1,null,null,null),Te=Fe.exports,Ae=n("7a00"),Ee={mixins:[Ae["a"]],computed:{tabSystem:function(){if(this.project)return this.project.tabSystem},tabSystems:function(){if(this.project)return this.project.tabSystems},shouldRenderWelcomeScreen:function(){return this.tabSystems&&(this.tabSystems[0].shouldRender||this.tabSystems[1].shouldRender)}}},Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("v-menu",{attrs:{"position-x":e.contextMenu.position.x,"position-y":e.contextMenu.position.y,rounded:"lg",absolute:"","offset-y":""},model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[n("v-list",{attrs:{dense:""}},e._l(e.contextMenu.actionManager.state,(function(t){return n("v-list-item",{key:t.id,attrs:{origin:"center center",transition:"scale-transition"},on:{click:function(e){return t.trigger()}}},[n("v-list-item-icon",{staticClass:"mr-2"},[n("v-icon",{attrs:{color:"primary"}},[e._v(e._s(t.icon))])],1),n("v-list-item-action",{staticClass:"ma-0"},[e._v(e._s(e.t(t.name)))])],1)})),1)],1):e._e()},De=[],We={name:"ContextMenu",mixins:[p["a"]],props:{contextMenu:Object},data:function(){return{shouldRender:!1,timeoutId:0}},computed:{isVisible:{set:function(e){this.contextMenu.isVisible=e},get:function(){return this.contextMenu.isVisible}}},watch:{isVisible:function(){var e=this;this.isVisible?(this.shouldRender=!0,clearTimeout(this.timeoutId)):this.timeoutId=setTimeout((function(){return e.shouldRender=!1}),500)}}},Be=We,Ie=Object(m["a"])(Be,Me,De,!1,null,null,null),Ve=Ie.exports;b()(Ie,{VIcon:g["a"],VList:A["a"],VListItem:Y["a"],VListItemAction:X["a"],VListItemIcon:te["a"],VMenu:ne["a"]});var Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.tabSystem.shouldRender?n("div",{staticClass:"tab-system"},[n("TabBar",{attrs:{tabSystem:e.tabSystem}}),n("keep-alive",[n(e.tabSystem.currentComponent,{key:e.tabSystem.uuid+"."+e.tabSystem.currentComponent.name,tag:"component",style:"height: "+(e.windowHeight-(e.tabBarHeight+24))+"px; width: 100%;",attrs:{tab:e.tabSystem.selectedTab,id:e.id}})],1)],1):e._e()},Ne=[],$e=n("ed38"),ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.tabSystem.shouldRender?n("Draggable",{style:"display: flex; overflow-x: scroll; white-space: nowrap; width: 100%; height: 48px;",attrs:{group:{name:"tabSystemTabRow"}},on:{change:e.updateTab},nativeOn:{mousedown:function(t){return t.target!==t.currentTarget?null:e.tabSystem.setActive(!0)}},model:{value:e.tabSystem.tabs,callback:function(t){e.$set(e.tabSystem,"tabs",t)},expression:"tabSystem.tabs"}},e._l(e.tabSystem.tabs,(function(t){return n("TabSystemTab",{key:t.uuid,attrs:{tab:t,isActive:e.tabSystem.isActive}})})),1):e._e(),e.tabSystem.selectedTab&&e.tabSystem.selectedTab.actions.length>0?n("ActionBar",{class:{"inactive-action-bar":!e.tabSystem.isActive},attrs:{actions:e.tabSystem.selectedTab.actions}}):e._e()],1)},He=[],Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tabElement",staticClass:"px-3 py-2",class:{selected:e.tab.isSelected,"default-tab-style":!0,"d-flex":!0,"align-center":!0,inactive:!e.isActive},on:{mousedown:function(t){!e.hoverClose&&e.tab.select()},mouseup:function(t){return"button"in t&&1!==t.button?null:e.tab.close()},contextmenu:function(t){return e.tab.onContextMenu(t)}}},[n("v-icon",{staticClass:"mr-1",attrs:{color:e.tab.iconColor,small:""}},[e._v(" "+e._s(e.tab.icon)+" ")]),n("span",{style:{"font-style":e.tab.isUnsaved?"italic":null}},[e._v(" "+e._s(e.tab.name)+" ")]),n("v-btn",{attrs:{text:"",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.tab.close()},mouseenter:function(t){e.hoverClose=!0},mouseleave:function(t){e.hoverClose=!1}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-close")])],1)],1)},qe=[],Je=n("c3ee"),Ge={name:"TabSystemTab",props:{tab:Je["a"],isActive:Boolean},data:function(){return{hoverClose:!1}},mounted:function(){this.isSelected&&this.$refs.tabElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},computed:{isSelected:function(){return this.tab.isSelected}},watch:{isSelected:function(){this.isSelected&&this.$refs.tabElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}}},Ke=Ge,Qe=(n("0532"),Object(m["a"])(Ke,Ue,qe,!1,null,"3f178f1e",null)),Ze=Qe.exports;b()(Qe,{VBtn:z["a"],VIcon:g["a"]});var Ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex mb-1"},e._l(e.actions,(function(e){return n("Action",{key:e.id,attrs:{action:e}})})),1)},Xe=[],et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"d-flex px-1 mx-1 align-center action",on:{click:function(t){return e.action.trigger()}}},[n("v-icon",{staticClass:"mr-1",attrs:{color:e.action.color||"primary",small:""}},[e._v(" "+e._s(e.action.icon)+" ")]),n("span",{staticClass:"action-name"},[e._v(e._s(e.action.name))])],1)},tt=[],nt=n("4feb"),rt={props:{action:nt["a"]}},it=rt,at=(n("a1dd"),Object(m["a"])(it,et,tt,!1,null,"1740e800",null)),st=at.exports;b()(at,{VIcon:g["a"]}),x()(at,{Ripple:j["a"]});var ot={components:{Action:st},props:{actions:Array}},ct=ot,ut=Object(m["a"])(ct,Ye,Xe,!1,null,null,null),lt=ut.exports,dt=n("b76a"),pt=n.n(dt),ht={components:{TabSystemTab:Ze,ActionBar:lt,Draggable:pt.a},props:{tabSystem:Object},methods:{updateTab:function(e){var t=e.added;t&&t.element.toOtherTabSystem(!1)}}},ft=ht,mt=(n("5620"),Object(m["a"])(ft,ze,He,!1,null,"6c2d7178",null)),vt=mt.exports,bt={name:"TabSystem",props:{tabSystem:Object,id:{type:Number,default:0}},components:{TabBar:vt,WelcomeScreen:$e["a"]},data:function(){return{windowHeight:window.innerHeight}},mounted:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,me["a"].getApp();case 2:n=t.sent,n.windowResize.on(e.updateWindowHeight);case 4:case"end":return t.stop()}}),t)})))()},destroyed:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,me["a"].getApp();case 2:n=t.sent,n.windowResize.off(e.updateWindowHeight);case 4:case"end":return t.stop()}}),t)})))()},computed:{tabBarHeight:function(){return this.tabSystem.selectedTab&&this.tabSystem.selectedTab.actions.length>0?73:48}},methods:{updateWindowHeight:function(){this.windowHeight=window.innerHeight}},watch:{"tabSystem.shouldRender":function(){me["a"].getApp().then((function(e){return e.windowResize.dispatch()}))}}},gt=bt,wt=(n("7d52"),Object(m["a"])(gt,Le,Ne,!1,null,"64738346",null)),kt=wt.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-overlay",{attrs:{opacity:.9},model:{value:e.state.isHovering,callback:function(t){e.$set(e.state,"isHovering",t)},expression:"state.isHovering"}},[n("div",{staticClass:"d-flex flex-column align-center justify-center"},[n("v-icon",{staticStyle:{"font-size":"8em"},attrs:{color:"primary"}},[e._v(" mdi-plus-circle-outline ")]),n("h1",[e._v(e._s(e.t("fileDropper.importFiles")))])],1)])},xt=[],jt={name:"FileDropperUI",mixins:[p["a"]],data:function(){return{state:{isHovering:!1}}},mounted:function(){var e=this;me["a"].getApp().then((function(t){e.state=t.fileDropper.state}))}},Ot=jt,St=n("a797"),Ct=Object(m["a"])(Ot,yt,xt,!1,null,null,null),Rt=Ct.exports;b()(Ct,{VIcon:g["a"],VOverlay:St["a"]});var Pt=i["default"].extend({name:"App",mixins:[Ee],mounted:function(){var e=this;me["a"].getApp().then((function(t){e.contextMenu=t.contextMenu}))},components:{Sidebar:D,Toolbar:Se,WindowRenderer:Te,ContextMenu:Ve,TabSystem:kt,WelcomeScreen:$e["a"],FileDropper:Rt},data:function(){return{isMacOs:"darwin"===Object(be["a"])(),contextMenu:null}}}),_t=Pt,Ft=(n("034f"),n("7496")),Tt=n("f6c4"),At=Object(m["a"])(_t,a,s,!1,null,null,null),Et=At.exports;b()(At,{VApp:Ft["a"],VDivider:T["a"],VMain:Tt["a"]});var Mt=n("ce5b"),Dt=n.n(Mt),Wt=n("5530"),Bt=n("4b41"),It=Object(Wt["a"])(Object(Wt["a"])({},Bt["a"]),{},{languageName:"English",general:{yes:"Yes",no:"No",okay:"Okay",confirm:"Confirm",cancel:"Cancel",close:"Close"},packType:{behaviorPack:{name:"Behavior Pack",description:"Create new game mechanics and change how Minecraft behaves"},resourcePack:{name:"Resource Pack",description:"Used for changing Minecraft's look and sound"},skinPack:{name:"Skin Pack",description:"Provide new appearances a player can select for their character"},worldTemplate:{name:"World Template",description:"Give players a world to explore"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",clientScript:"Client Script",serverScript:"Server Script",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",skinManifest:"Skin Manifest",geometry:"Geometry",customComponent:"Component",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",clientLang:"Language",fog:"Fog",particle:"Particle",renderController:"Render Controller",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",musicDefinition:"Music Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",gameTest:"Game Test",unknown:"Other",simpleFile:"Simple Files",ui:"UI"},actions:{newProject:{name:"New Project",description:"Create a new bridge. project"},newFile:{name:"New File",description:"Create a new Add-On feature"},openFile:{name:"Open File",description:"Open a file from the current project"},searchFile:{name:"Search File",description:"Search and open a file from the current project"},saveFile:{name:"Save File",description:"Save the currently opened file"},closeFile:{name:"Close File",description:"Close the currently opened file"},settings:{name:"Settings",description:"Open bridge.'s app settings"},extensions:{name:"Extensions",description:"Install and manage your installed extensions"},copy:{name:"Copy",description:"Copy selected text to the clipboard"},cut:{name:"Cut",description:"Copy selected text to the clipboard and remove it from the original context"},paste:{name:"Paste",description:"Paste clipboard content"},docs:{name:"Documentation",description:"Opens the Minecraft Add-On documentation"},releases:{name:"Releases",description:"View the latest bridge. releases"},bugReports:{name:"Bug Reports",description:"Report an issue with bridge."},pluginAPI:{name:"Plugin API",description:"Read more about bridge.'s plugin API"},gettingStarted:{name:"Getting Started",description:"Read our guide on how to get started with bridge."},faq:{name:"FAQ",description:"Read through frequently asked questions about developing Add-Ons with bridge."},reloadAutoCompletions:{name:"Reload Auto-Completions",description:"Reloads all auto-completion data"},moveToSplitScreen:{name:"Move to Split Screen",description:"Opens a split screen view and moves this tab to it"},closeTab:{name:"Close Tab",description:"Close this tab"},closeAll:{name:"Close All",description:"Close all tabs"},closeTabsToRight:{name:"Close Tabs to the Right",description:"Close all tabs to the right-hand side of this tab"},closeAllSaved:{name:"Close All Saved",description:"Close all saved tabs"},closeOtherTabs:{name:"Close other Tabs",description:"Close all tabs except this tab"},clearAllNotifications:{name:"Clear All Notifications",description:"Clears all current notifications"},pluginInstallLocation:{global:{name:"Install Globally",description:"Global extensions are accessible in all of your projects"},local:{name:"Install Locally",description:"Local extensions are only accessible inside of the projects you add them to"}}},toolbar:{file:{name:"File",preferences:{name:"Preferences"}},edit:{name:"Edit"},tools:{name:"Tools"},help:{name:"Help"}},sidebar:{compiler:{name:"Compiler"},extensions:{name:"Extensions"},notifications:{discord:{message:"Discord Server"},gettingStarted:{message:"Getting Started"},installApp:{message:"Install App"},updateAvailable:{message:"Update Available"},updateExtensions:"Update All Extensions"}},welcome:{title:"Welcome to bridge.",subtitle:"Creating Minecraft addons has never been more convenient!",quickActions:"Quick Actions",recentFiles:"Recent Files",recentProjects:"Recent Projects"},windows:{loadingWindow:{titles:{loading:"Loading...",downloadingData:"Downloading new data..."}},changelogWindow:{title:"What's new?"},openFile:{title:"Open",search:"Search file...",noData:"No results..."},createProject:{welcome:"Welcome to bridge.!",welcomeDescription:"Please create your first project in order to get started.",omitPack:"Omit",selectedPack:"Selected",title:"Create Project",packIcon:"Project Icon (optional)",projectName:"Project Name",projectDescription:"Project Description (optional)",projectPrefix:"Project Prefix",projectAuthor:"Project Author",projectTargetVersion:"Project Target Version",scripting:"Enable Scripting API",gameTest:"Enable GameTest Framework",rpAsBpDependency:"Register resource pack as behavior pack dependency",useLangForManifest:"Add pack name/description directly to the manifest",create:"Create"},createPreset:{title:"Create Preset",searchPresets:"Search presets...",overwriteFiles:"This preset overwrites one or more existing files. Do you want to continue?",overwriteFilesConfirm:"Continue",overwriteUnsavedChanges:"This preset overwrites one or more files with unsaved changes. Do you want to continue?",overwriteUnsavedChangesConfirm:"Continue"},deleteProject:{confirm:"Delete",description:"Are you sure you want to delete this project?"},discord:{title:"Discord",content:"Join the official bridge. Discord server!",join:"Join",later:"Later"},projectChooser:{title:"Projects",searchProjects:"Search projects...",newProject:"New Project"},selectFolder:{title:"Select Folder",content:'Select where to save projects or choose an existing projects directory. This should not be the "com.mojang" folder, but rather a new folder specifically for bridge.',select:"Select!"},packExplorer:{title:"Pack Explorer",searchFiles:"Search files...",categories:"Categories",refresh:"Refresh Project",createPreset:"New File"},settings:{title:"Settings",searchSettings:"Search settings...",appearance:{name:"Appearance",colorScheme:{name:"Color Scheme",description:"Choose the color scheme of bridge.'s UI"},darkTheme:{name:"Dark Theme",description:"Select the default dark theme bridge. uses"},lightTheme:{name:"Light Theme",description:"Select the default light theme bridge. uses"},localDarkTheme:{name:"Local Dark Theme",description:"Choose a dark theme for the currently active project"},localLightTheme:{name:"Local Light Theme",description:"Choose a light theme for the currently active project"},sidebarRight:{name:"Sidebar Right",description:"Moves the sidebar to the right side of the screen"},shrinkSidebarElements:{name:"Shrink Sidebar Elements",description:"Shrink the size of bridge.'s sidebar elements"}},general:{name:"General",language:{name:"Language",description:"Choose a language for bridge. to use"},collaborativeMode:{name:"Collaborative Mode",description:"Forces full refresh of the cache upon switching projects. Disable when you work alone and you only use bridge. to edit your project"},packSpider:{name:"Pack Spider",description:"Pack Spider connects files inside of your projects and presents the connections to you in a virtual file system"},formatOnSave:{name:"Format On Save",description:"Formats your text files upon saving them"},openLinksInBrowser:{name:"Open Links in Default Browser",description:"Open links inside of your default browser instead of a native app window"},restoreTabs:{name:"Restore Tabs",description:"Restore your tabs from when you last used bridge. upon opening the app"},resetBridgeFolder:{name:"Select Root Folder",description:"Choose the main folder bridge. operates on"}},developer:{name:"Developer",simulateOS:{name:"Simulate OS",description:"Simulate a different OS for testing platform specific behavior"},devMode:{name:"Developer Mode",description:"Enable the developer mode for this app"}},actions:{name:"Actions"},editor:{wordWrap:{name:"Word Wrap",description:"Wrap words to disable horizontal scrolling"}}},projectFolder:{title:"Project Folder",content:"bridge. needs access to its project folder in order to work correctly."},extensionStore:{title:"Extension Store",searchExtensions:"Search extension...",activateExtension:"Activate Extension",deactivateExtension:"Deactivate Extension"},pluginInstallLocation:{title:"Choose Install Location"},unsavedFile:{description:"Do you want to save your changes to this file before closing it?",save:"Save & Close"},browserUnsupported:{title:"Unsupported Browser",description:"Your browser is currently not supported. Please use Chrome (Desktop) or Edge (Chromium) in order to get started with bridge.!"}},taskManager:{tasks:{dataLoader:{title:"Downloading Data...",description:"Downloading the latest data for the editor"},packIndexing:{title:"Indexing Packs",description:"bridge. is collecting data about your pack that is needed for its intelligent features"},compiler:{title:"Compiling Project",description:"bridge. is compiling your project to make it ready for import into Minecraft"}}},fileDropper:{importFiles:"Drop files here to import them!",importFailed:"bridge. was unable to import the following files:",andMore:"...and more!"},comMojang:{folderDropped:"Do you want to set this folder as your default com.mojang folder?",title:'Access to folder "com.mojang"',permissionRequest:'bridge. needs access to your "com.mojang" folder in order to compile projects to it.'}}),Vt=n("8e29"),Lt=Object(Wt["a"])(Object(Wt["a"])({},Vt["a"]),{},{languageName:"Deutsch",packType:{behaviorPack:{name:"Verhaltenspaket",description:"Erstelle neue Spielmechaniken und ändere, wie sich Minecraft verhält"},resourcePack:{name:"Ressourcenpaket",description:"Verändere Minecraft's Aussehen und Sound"},skinPack:{name:"Charakterpaket",description:"Erstelle verschieden Charakter, die ein Spieler auswählen kann"},worldTemplate:{name:"Weltvorlage",description:"Gebe Spielern eine Welt zum Erkunden"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",geometry:"Geometry",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",fog:"Fog",particle:"Particle",renderController:"Render Controller",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",musicDefinition:"Music Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",unknown:"Other",simpleFile:"Simple Files"},actions:{newProject:{name:"Neues Projekt",description:"Erstelle ein neues Projekt"},newFile:{name:"Neue Datei",description:"Erstelle ein neues Add-On Feature"},openFile:{name:"Öffne Datei",description:"Suche und öffne eine Datei deines momentanen Projektes"},saveFile:{name:"Speichere Datei",description:"Speichere die aktuelle Datei"},closeFile:{name:"Schließe Datei",description:"Schließe die aktuelle Datei"},settings:{name:"Einstellungen",description:"Öffne bridge.'s Appeinstellungen"},extensions:{name:"Erweiterungen",description:"Installiere und verwalte Erweiterungen"},copy:{name:"Kopieren",description:"Kopiere ausgewählten Text"},cut:{name:"Schneiden",description:"Kopiere ausgewählten Text und entferne ihn aus dem ursprünglichen Kontext"},paste:{name:"Einfügen",description:"Füge kopierten Text ein"},docs:{name:"Dokumentation",description:"Öffne die Minecraft Add-On Dokumentation"},releases:{name:"Updates",description:"Sehe die neusten Updates"},bugReports:{name:"Fehler Melden",description:"Melde einen Fehler der App"},pluginAPI:{name:"Erweiterungs API",description:"Lese mehr über bridge.'s Erweiterungs API"},gettingStarted:{name:"So Geht's Los!",description:"Lies unser Tutorial, wie du mit bridge. loslegst."},faq:{name:"FAQ",description:"Informiere dich über häufig gestellte Fragen"},reloadAutoCompletions:{name:"Autovervollständigung Neuladen",description:"Lade alle Autovervollständigungen neu"},pluginInstallLocation:{global:{name:"Global Installieren",description:"Globale Erweiterungen sind in allen Projekten aktiv"},local:{name:"Lokal Installieren",description:"Lokale Erweiterungen sind in deinem aktuellen Projekt aktiv"}}},toolbar:{file:{name:"Datei",preferences:{name:"Präferenzen"}},edit:{name:"Editieren"},tools:{name:"Werkzeuge"},help:{name:"Hilfe"}},sidebar:{compiler:{name:"Compiler"},extensions:{name:"Erweiterungen"},notifications:{discord:{message:"Discord Server"},gettingStarted:{message:"So Geht's los!"},installApp:{message:"App Installieren"},updateAvailable:{message:"Update Verfügbar"}}},welcome:{title:"Willkommen zu bridge.",subtitle:"Add-On Entwicklung einfach gemacht!",quickActions:"Aktionen",recentFiles:"Zuletzt Verwendet",recentProjects:"Letzte Projekte"},windows:{common:{confirm:{title:"Bestätigung"},dropdown:{confirm:"Bestätigung"},information:{confirm:"Okay"},input:{confirm:"Bestätigung"}},loadingWindow:{title:"Laden..."},openFile:{title:"Öffnen",search:"Datei suchen...",noData:"Keine Ergebnisse..."},createProject:{welcome:"Willkommen to bridge.!",welcomeDescription:"Erstelle dein erstes Projekt, um loszulegen.",omitPack:"Nicht Ausgewählt",selectedPack:"Ausgewählt",title:"Projekt Erstellen",packIcon:"Projekt Logo (optional)",projectName:"Projekt Name",projectDescription:"Projekt Beschreibung (optional)",projectPrefix:"Project Präfix",projectAuthor:"Project Author",projectTargetVersion:"Projekt Zielversion",create:"Erstellen!"},createPreset:{title:"Erstelle Preset",searchPresets:"Suche Presets..."},deleteProject:{confirm:"Löschen",cancel:"Abbrechen",description:"Bist du sicher, dass du das Projekt entfernen willst?"},discord:{title:"Discord",content:"Trete dem offizielen bridge. Discord Server bei!",join:"Beitreten",later:"Später"},projectChooser:{title:"Projekte",searchProjects:"Suche Projekte..."},selectFolder:{title:"Ordner Aussuchen",content:"Wähle einen Ordner, indem bridge. deinen Projekte speichern soll.",select:"Auswählen!"},packExplorer:{title:"Paket Explorer",searchFiles:"Suche Dateien...",categories:"Kategorien"},settings:{title:"Einstellungen",searchSettings:"Suche Einstellungen...",appearance:{name:"Aussehen",colorScheme:{name:"Farbschema",description:"Wähle ein Farbschema für bridge.'s Benutzeroberfläche"},darkTheme:{name:"Dunkles Theme",description:"Select the default dark theme bridge. uses"},lightTheme:{name:"Helles Theme",description:"Select the default light theme bridge. uses"},localDarkTheme:{name:"Lokales Dunkles Theme",description:"Choose a dark theme for the currently active project"},localLightTheme:{name:"Lokales Helles Theme",description:"Choose a light theme for the currently active project"},sidebarRight:{name:"Rechte Seitenleiste",description:"Bewege die Seitenleiste auf die rechte Seite des Screens"},shrinkSidebarElements:{name:"Kleine Seitenleistenelemente",description:"Schrumpfe die Seitenleistenelemente, sodass sie weniger Platz benötigen"}},general:{name:"Allgemein",language:{name:"Sprache",description:"Wähle eine Sprache für bridge. aus"},collaborativeMode:{name:"Kollaborativer Modus",description:"Lädt den Cache komplett neu, wenn du die Projekte wechselst. Kann deaktiviert werden, wenn du alleine arbeitest und du nur bridge. für dein Projekt nutzt"},packSpider:{name:"Pack Spider",description:"Pack Spider erkennt Verbindungen zwischen Dateien deines Projektes und bildet diese in einem Virtuellen Dateiensystem ab"},openLinksInBrowser:{name:"Öffne Links im Browser",description:"Öffne Links in deinem Browser anstelle von Applikationsfenstern"},resetBridgeFolder:{name:"Wähle bridge. Ordner",description:"Wähle dein Hautpordner, auf dem bridge. arbeitet"}},developer:{name:"Entwickler",simulateOS:{name:"OS Simulieren",description:"Simuliere ein anderes OS, um platformspezifische Features zu testen"},devMode:{name:"Developermodus",description:"Aktiviere den Developermodus für diese App"}},actions:{name:"Aktionen"}},projectFolder:{title:"Projekte Ordner",content:"bridge. benötigt Zugriff auf deinen Projekteordner."},extensionStore:{title:"Erweiterungen",searchExtensions:"Suche Erweiterungen..."},pluginInstallLocation:{title:"Wähle Installationsart"},unsavedFile:{title:"Bestätigen",description:"Möchtest du die Änderungen an dieser Datei speichern?",cancel:"Abbrechen",noSave:"Schließen",save:"Spichern & Schließen"},browserUnsupported:{title:"Keine Browserunterstützung!",description:"bridge. unterstützt deinen Browser momentan nicht. Bitte nutze Chrome (Desktop) or Edge (Chromium), um bridge. zu nutzen!"}},taskManager:{tasks:{packIndexing:{title:"Paketindizierung",description:"bridge. sammelt Daten aus deinem Paket, die es für seine intelligenten Features benötigt"},compiler:{title:"Projektkompilierung",description:"bridge. kompiliert dein Projekt, um es für die Nutzung in Minecraft vorzubereiten"}}}}),Nt=n("4642"),$t=Object(Wt["a"])(Object(Wt["a"])({},Nt["a"]),{},{languageName:"Nederlands",packType:{behaviorPack:{name:"Gedragspakket",description:"Creëer nieuwe spelmechanismen en verander hoe Minecraft zich gedraagt"},resourcePack:{name:"Resourcepakket",description:"Wordt gebruikt voor het veranderen van Minecraft's uiterlijk en geluid"},skinPack:{name:"Skin Pakket",description:"Voorziet nieuwe uiterlijken die de speler kan selecteren voor hun karakter"},worldTemplate:{name:"Wereldsjabloon",description:"Geef spelers een wereld om te verkennen"}},fileType:{manifest:"Manifest",animation:"Animation",animationController:"Animation Controller",biome:"Biome",block:"Block",entity:"Entity",feature:"Feature",featureRule:"Feature Rule",functionTick:"Function Tick",function:"Function",item:"Item",lootTable:"Loot Table",recipe:"Recipe",script:"Script",spawnRule:"Spawn Rule",mcstructure:"Structure",tradeTable:"Trade Table",clientManifest:"Client Manifest",geometry:"Geometry",clientAnimation:"Client Animation",clientAnimationController:"Client Animation Controller",attachable:"Attachable",clientEntity:"Client Entity",clientItem:"Client Item",fog:"Fog",particle:"Particle",renderController:"Render Controller",textureSet:"Texture Set",itemTexture:"Item Texture",clientBlock:"Client Block",terrainTexture:"Terrain Texture",flipbookTexture:"Flipbook Texture",clientBiome:"Client Biome",soundDefinition:"Sound Definition",musicDefinition:"Music Definition",clientSound:"Client Sound",skins:"Skins",langDef:"Language Definitions",lang:"Language",molang:"Molang",unknown:"Other",simpleFile:"Simple Files"},actions:{newProject:{name:"Nieuw Project",description:"Maak een nieuw bridge. project"},newFile:{name:"Nieuw Bestand",description:"Maak een nieuwe Add-On functie"},openFile:{name:"Open Bestand",description:"Zoek en open een bestand in het huidige project"},saveFile:{name:"Bestand Opslaan",description:"Sla het momenteel geopende bestand op"},closeFile:{name:"Bestand Sluiten",description:"Sluit het momenteel geopende bestand"},settings:{name:"Instellingen",description:"Open de app instellingen van bridge."},extensions:{name:"Extensies",description:"Beheer uw geïnstalleerde extensies"},copy:{name:"Kopiëren",description:"Kopieer geselecteerde tekst naar het klembord"},cut:{name:"Knippen",description:"Kopieer geselecteerde tekst naar het klembord en verwijder deze uit de oorspronkelijke context"},paste:{name:"Plakken",description:"Plak de inhoud van het klembord"},docs:{name:"Documentatie",description:"Opent de Minecraft Add-On documentatie"},releases:{name:"Releases",description:"Bekijk de nieuwste bridge. releases"},bugReports:{name:"Foutmeldingen",description:"Meld een probleem met bridge."},pluginAPI:{name:"Plugin API",description:"Lees meer over de plugin API van bridge"},gettingStarted:{name:"Beginnen",description:"Lees onze gids om aan de slag te gaan met bridge."},faq:{name:"FAQ",description:"Lees veelgestelde vragen over het ontwikkelen van Add-Ons met bridge."},reloadAutoCompletions:{name:"Herlaad automatische aanvullingen",description:"Herlaadt alle gegevens voor automatisch aanvullen opnieuw"},closeTab:{name:"Sluit Tab",description:"Sluit dit tabblad"},closeAll:{name:"Sluit Alles",description:"Sluit alle tabbladen"},closeTabsToRight:{name:"Sluit tabbladen aan de rechterkant",description:"Sluit alle tabbladen aan de rechterkant van dit tabblad"},closeAllSaved:{name:"Sluit alle opgeslagen",description:"Sluit alle opgeslagen tabbladen"},closeOtherTabs:{name:"Sluit andere tabbladen",description:"Sluit alle tabbladen behalve dit tabblad"},pluginInstallLocation:{global:{name:"Globaal Installeren",description:"Globale extensies zijn toegankelijk in al uw projecten"},local:{name:"Locaal Installeren",description:"Lokale extensies zijn alleen toegankelijk binnen de projecten waaraan u ze toevoegt"}}},toolbar:{file:{name:"Bestand",preferences:{name:"Voorkeuren"}},edit:{name:"Bewerk"},tools:{name:"Hulpmiddelen"},help:{name:"Help"}},sidebar:{compiler:{name:"Compiler"},extensions:{name:"Extensies"},notifications:{discord:{message:"Discord Server"},gettingStarted:{message:"Beginnen"},installApp:{message:"Installeer App"},updateAvailable:{message:"Update Beschikbaar"}}},welcome:{title:"Welkom bij bridge.",subtitle:"Het maken van Minecraft addons is nog nooit zo gemakkelijk geweest!",quickActions:"Snelle Acties",recentFiles:"Recente Bestanden",recentProjects:"Recente Projecten"},windows:{common:{confirm:{title:"Bevestigen"},dropdown:{confirm:"Bevestigen"},information:{confirm:"Oke"},input:{confirm:"Bevestigen"}},loadingWindow:{title:"Laden..."},changelogWindow:{title:"Wat is er nieuw?"},openFile:{title:"Openen",search:"Zoek bestand...",noData:"Geen resultaten..."},createProject:{welcome:"Welkom bij bridge.!",welcomeDescription:"Maak alstublieft uw eerste project aan om aan de slag te gaan.",omitPack:"Weglaten",selectedPack:"Geselecteerd",title:"Project Maken",packIcon:"Projectpictogram (optioneel)",projectName:"Projectnaam",projectDescription:"Projectbeschrijving (optioneel)",projectPrefix:"Projectvoorvoegsel",projectAuthor:"Project Auteur",projectTargetVersion:"Doelversie van het project",create:"Creëer!"},createPreset:{title:"Voorinstelling maken",searchPresets:"Voorinstellingen zoeken..."},deleteProject:{confirm:"Verwijderen",cancel:"Annuleren",description:"Weet u zeker dat u dit project wilt verwijderen?"},discord:{title:"Discord",content:"Sluit je aan bij de officiële bridge. Discord server!",join:"Aansluiten",later:"Later"},projectChooser:{title:"Projecten",searchProjects:"Zoek Projecten..."},selectFolder:{title:"Selecteer Map",content:"Selecteer waar u projecten wilt opslaan of kies een bestaande projectenmap.",select:"Selecteer!"},packExplorer:{title:"Pack Explorer",searchFiles:"Zoek bestanden...",categories:"Categorieën"},settings:{title:"Instellingen",searchSettings:"Zoek instellingen...",appearance:{name:"Uiterlijk",colorScheme:{name:"Kleurenschema",description:"Kies het kleurenschema voor de gebruikersinterface van bridge."},darkTheme:{name:"Donker Thema",description:"Selecteer het standaard donkere thema dat door bridge. wordt gebruikt"},lightTheme:{name:"Licht Thema",description:"Selecteer het standaard lichte thema dat door bridge. wordt gebruikt"},localDarkTheme:{name:"Lokaal Donker Thema",description:"Kies een donker thema voor het momenteel actieve project"},localLightTheme:{name:"Lokaal Licht Thema",description:"Kies een licht thema voor het momenteel actieve project"},sidebarRight:{name:"Zijbalk rechts",description:"Verplaatst de zijbalk naar de rechterkant van het scherm"},shrinkSidebarElements:{name:"Zijbalkelementen verkleinen",description:"Verklein de grootte van de zijbalkelementen van bridge."}},general:{name:"Algemeen",language:{name:"Taal",description:"Kies een taal die bridge. moet gebruiken"},collaborativeMode:{name:"Samenwerkingsmodus",description:"Forceert een volledige verversing van de cache bij het wisselen van project. Schakel uit als u alleen werkt en alleen bridge. gebruikt om uw project te bewerken"},packSpider:{name:"Pack Spider",description:"Pack Spider verbindt bestanden binnen uw projecten en presenteert de verbindingen aan u in een virtueel bestandssysteem"},openLinksInBrowser:{name:"Open koppelingen in de standaardbrowser",description:"Open links in uw standaardbrowser in plaats van een native app-venster"},resetBridgeFolder:{name:"Selecteer Werkmap",description:"Kies de hoofdmap waarop bridge. werkt"}},developer:{name:"Ontwikkelaar",simulateOS:{name:"Simuleer OS",description:"Simuleer een ander besturingssysteem om platformspecifiek gedrag te testen"},devMode:{name:"Ontwikkelaarsmodus",description:"Schakel de ontwikkelaarsmodus in voor deze app"}},actions:{name:"Acties"}},projectFolder:{title:"Project Map",content:"bridge. heeft toegang tot zijn projectmap nodig om correct te werken."},extensionStore:{title:"Uitbreiding Winkel",searchExtensions:"Extensie zoeken..."},pluginInstallLocation:{title:"Kies Installatielocatie"},unsavedFile:{title:"Bevestig",description:"Wilt u uw wijzigingen in dit bestand opslaan voordat u het sluit?",cancel:"Annuleren",noSave:"Afsluiten",save:"Opslaan & Afsluiten"},browserUnsupported:{title:"Niet-ondersteunde browser",description:"Uw browser wordt momenteel niet ondersteund. Gebruik Chrome (Desktop) of Edge (Chromium) om aan de slag te gaan met bridge.!"}},taskManager:{tasks:{packIndexing:{title:"Pakketten Indexeren",description:"bridge. verzamelt gegevens over uw pakket die nodig zijn voor zijn intelligente functies."},compiler:{title:"Project Compileren",description:"bridge. compileert uw project om het klaar te maken om in Minecraft te importeren."}}}}),zt=n("f5e4"),Ht=Object(Wt["a"])(Object(Wt["a"])({},zt["a"]),{},{languageName:"한국어",toolbar:{installApp:"Install app",file:{name:"파일",newFile:"새로운 파일",import:{name:"파일 가져오기",openFile:"파일 열기",importOBJ:"OBJ 모델 가져오기"},saveFile:"파일 저장",saveAs:"다른 이름으로 저장",saveAll:"모두 저장",closeEditor:"편집 창 닫기",clearAllNotifications:"알림 전부 지우기",preferences:{name:"환경 설정",settings:"설정",extensions:"플러그인"}},edit:{name:"편집",selection:{name:"선택",unselect:"선택 취소",selectParent:"어버이 선택",selectNext:"다음 선택",selectPrevious:"이전 선택"},jsonNodes:{name:"JSON 개체",toggleOpen:"개체 여닫기",toggleOpenChildren:"개체 자식 여닫기",moveDown:"아래로 이동",moveUp:"위로 이동",commentUncomment:"활성화/비활성화"},delete:"삭제",undo:"실행 취소",redo:"재실행",copy:"복사",cut:"자르기",paste:"붙여넣기",alternativePaste:"다른 붙여넣기"},tools:{name:"도구",docs:"정보 기록문",presets:"프리셋",snippets:"부분적 인용",goToFile:"파일로 이동"},help:{name:"도움말",about:"정보",releases:"최신 릴리스",bugReports:"버그 제보",pluginAPI:"플러그인 API",gettingStarted:"bridge. 시작하는 법",faq:"FAQ"},dev:{name:"개발자 옵션",reloadBrowserWindow:"브라우저 창 재실행",reloadEditorData:"편집 데이터 재실행",developerTools:"개발자 도구"}},sidebar:{explorer:{name:"익스플로러"},vanillaPacks:{name:"바닐라 팩"},debugLog:{name:"디버그 로그"},extensions:{name:"프로그램 확장",intro:{description:"bridge.를 플러그인을 통해 커스터마이즈 해보세요!!",themes:"테마",snippets:"부분적 인용",presets:"프리셋",uiElements:"UI 요소",andMore:"그리고 더 많습니다!!",viewExtensions:"프로그램 확장들 보기"}}},welcome:{title:"bridge.",subtitle:"마인크래프트 애드온을 만들기 더욱 쉽게!!",syntaxHighlighting:"Syntax 하이라이트 기능",richAutoCompletions:"다양한 자동완성 기능",projectManagement:"쉬운 작업 관리",customSyntax:"커스텀 애드온 syntax",customComponents:"커스텀 요소",customCommands:"커스텀 커맨드",plugins:"플러그인을 통해 프로그램 커스텀 가능"},windows:{common:{confirm:{title:"확인"},dropdown:{confirm:"확인"},information:{confirm:"예"},input:{confirm:"확인"}},discord:{content:"bridge.의 공식 디스코드 서버에 들어오세요!!",join:"들어가기",later:"나중에"},selectFolder:{title:"폴더 선택",content:"프로젝트 저장 위치를 선택하거나 이미 존재하는 디렉토리를 선택하세요.",select:"선택!!"},projectFolder:{title:"프로젝트 폴더",content:"bridge.가 제대로 작동하기 위해서는 프로젝트 폴더에 대한 접근 권한이 필요합니다."},managePlugin:{name:"플러그인 관리",done:"완료"}}});i["default"].use(Dt.a),i["default"].config.productionTip=!1;var Ut=new Dt.a({lang:{locales:{nl:$t,de:Lt,en:It,ko:Ht}},theme:{dark:!0,options:{customProperties:!0},themes:{dark:{primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",background:"#121212",sidebarNavigation:"#1F1F1F",expandedSidebar:"#1F1F1F",menu:"#424242",footer:"#111111",tooltip:"#1F1F1F"},light:{primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",background:"#fafafa",sidebarNavigation:"#FFFFFF",expandedSidebar:"#FFFFFF",tooltip:"#424242",toolbar:"#e0e0e0",footer:"#f5f5f5"}}}}),qt=new i["default"]({vuetify:Ut,render:function(e){return e(Et)}});qt.$mount("#app");n("41e6"),n("923f");me["a"].main(qt)},cd82:function(e,t,n){},d009:function(e,t,n){"use strict";n.d(t,"a",(function(){return _c}));var r={};n.r(r),n.d(r,"dirname",(function(){return Pn})),n.d(r,"join",(function(){return _n})),n.d(r,"extname",(function(){return Fn})),n.d(r,"basename",(function(){return Tn})),n.d(r,"relative",(function(){return An}));n("caad"),n("dca8"),n("d3b7"),n("2532"),n("3ca3"),n("ddb0");var i=n("3835"),a=n("b85c"),s=(n("96cf"),n("1da1")),o=n("d4ec"),c=n("bee2"),u=(n("ac1f"),n("1276"),n("8a54")),l=(n("4fad"),n("b2f9")),d=n("a026"),p=(n("4de4"),n("07ac"),n("ec26")),h=n("a6f4"),f=function(){function e(t){var n;Object(o["a"])(this,e),this.config=t,this.id=Object(p["a"])(),this._isVisible=null===(n=this.config.isVisible)||void 0===n||n,Object(h["e"])(l["a"],this.id,this),this._isVisible&&this.updateAppBadge()}return Object(c["a"])(e,[{key:"icon",get:function(){return this.config.icon}},{key:"message",get:function(){return this.config.message}},{key:"color",get:function(){return this.config.color}},{key:"textColor",get:function(){return this.config.textColor}},{key:"isVisible",get:function(){return this._isVisible}},{key:"onClick",value:function(){"function"===typeof this.config.onClick&&this.config.onClick()}},{key:"onMiddleClick",value:function(){var e,t;null===(e=(t=this.config).onMiddleClick)||void 0===e||e.call(t),this.config.disposeOnMiddleClick&&Object(h["b"])(l["a"],this.id)}},{key:"addClickHandler",value:function(e){this.config.onClick=e}},{key:"show",value:function(){this._isVisible||this.updateAppBadge(),this._isVisible=!0}},{key:"dispose",value:function(){Object(h["b"])(l["a"],this.id),this.updateAppBadge()}},{key:"updateAppBadge",value:function(){"function"===typeof navigator.setAppBadge&&navigator.setAppBadge(Object.values(l["a"]).filter((function(e){var t=e.isVisible;return t})).length)}}]),e}();function m(e){return new f(e)}function v(){"function"===typeof navigator.clearAppBadge&&navigator.clearAppBadge();for(var e=0,t=Object.entries(l["a"]);e<t.length;e++){var n=Object(i["a"])(t[e],1),r=n[0];d["default"].delete(l["a"],r)}}function b(e){var t=e.message,n=t;t.includes(": ")&&(n=t.split(": ").shift()),n.length>24&&(n=t.length>24?"".concat(t.substr(0,23),"..."):t);var r=m({icon:"mdi-alert-circle-outline",message:n,color:"error",textColor:"white",disposeOnMiddleClick:!0,onClick:function(){new u["a"]({name:"ERROR: ".concat(n),description:t}),r.dispose()}});return r}window.addEventListener("error",(function(e){var t;b(null!==(t=e.error)&&void 0!==t?t:e),_c.ready.once((function(e){return e.windows.loadingWindow.closeAll()}))})),window.onunhandledrejection=function(e){b(new Error(e.reason)),_c.ready.once((function(e){return e.windows.loadingWindow.closeAll()}))};n("6062"),n("99af");var g=n("262e"),w=n("2caf"),k=n("2909"),y=[[/§4/,"colorCode.darkRed"],[/§c/,"colorCode.red"],[/§6/,"colorCode.gold"],[/§e/,"colorCode.yellow"],[/§2/,"colorCode.darkGreen"],[/§a/,"colorCode.green"],[/§b/,"colorCode.aqua"],[/§3/,"colorCode.darkAqua"],[/§1/,"colorCode.darkBlue"],[/§9/,"colorCode.blue"],[/§d/,"colorCode.lightPurple"],[/§5/,"colorCode.darkPurple"],[/§[fr]/,"colorCode.white"],[/§7/,"colorCode.gray"],[/§8/,"colorCode.darkGray"],[/§0/,"colorCode.black"],[/§g/,"colorCode.minecoinGold"],[/§o/,"colorCode.italic"],[/§l/,"colorCode.bold"],[/§n/,"colorCode.underline"]],x=(n("4ec9"),n("25f0"),n("159b"),n("85b1")),j=n("c2c6"),O=function(){function e(t){var n=this,r=t.id,i=t.extensions,a=t.config,s=t.tokenProvider;Object(o["a"])(this,e),this.disposables=[],this.models=new Map,this.id=r,j["languages"].register({id:r,extensions:i}),this.disposables=[j["languages"].setLanguageConfiguration(r,a),j["languages"].setMonarchTokensProvider(r,s),j["editor"].onDidCreateModel(this.onModelAdded.bind(this)),j["editor"].onWillDisposeModel(this.onModelRemoved.bind(this)),j["editor"].onDidChangeModelLanguage((function(e){n.onModelRemoved(e.model),n.onModelAdded(e.model)}))]}return Object(c["a"])(e,[{key:"onModelAdded",value:function(e){var t=this;e.getModeId()===this.id&&(this.validate(e),this.models.set(e.uri.toString(),e.onDidChangeContent(Object(x["a"])((function(n){return t.validate(e,n)}),500))))}},{key:"onModelRemoved",value:function(e){var t;j["editor"].setModelMarkers(e,this.id,[]);var n=e.uri.toString();null===(t=this.models.get(n))||void 0===t||t.dispose(),this.models.delete(n)}},{key:"dispose",value:function(){this.disposables.forEach((function(e){return e.dispose()})),this.disposables=[]}}]),e}(),S={comments:{lineComment:"##"}},C={tokenizer:{root:[[/##.*/,"comment"],[/=|\.|:/,"definition"]].concat(Object(k["a"])(y))}},R=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.call(this,{id:"lang",extensions:["lang"],config:S,tokenProvider:C})}return Object(c["a"])(n,[{key:"validate",value:function(){}}]),n}(O),P={comments:{lineComment:"#"},autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:'"',close:'"'}]},_={brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"],["{","}","delimiter.curly"]],keywords:["alwaysday","ability","clear","camerashake","clearspawnpoint","clone","difficulty","effect","event","enchant","execute","fill","fog","function","gamemode","gamerule","give","kick","kill","locate","list","me","mobevent","music","particle","playsound","playanimation","ride","reload","replaceitem","say","schedule","score","scoreboard","setblock","setmaxplayers","structure","setworldspawn","spawnpoint","spreadplayers","stopsound","summon","tag","teleport","tell","tellraw","testfor","testforblock","testforblocks","tickingarea","time","title","titleraw","toggledownfall","tp","w","weather","xp"],selectors:["@a","@e","@p","@r","@s"],tokenizer:{root:[[/#.*/,"comment"],[/"[^"]*"|'[^']*'/,"string"],[/\=|\,|\!|%=|\*=|\+=|-=|\/=|<|=|>|<>/,"definition"],[/true|false/,"number"],[/-?([0-9]+(\.[0-9]+)?)|(\~|\^-?([0-9]+(\.[0-9]+)?)?)/,"number"]].concat(Object(k["a"])(y),[[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/@[a|p|r|e|s]/,{cases:{"@selectors":"type.identifier","@default":"identifier"}}]])}},F=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.call(this,{id:"mcfunction",extensions:["mcfunction"],config:P,tokenProvider:_})}return Object(c["a"])(n,[{key:"validate",value:function(){}}]),n}(O),T=n("4b3f"),A={comments:{lineComment:"#"},autoClosingPairs:[{open:"(",close:")"},{open:"[",close:"]"},{open:"{",close:"}"},{open:"'",close:"'"}]},E={ignoreCase:!0,brackets:[["(",")","delimiter.parenthesis"],["[","]","delimiter.square"],["{","}","delimiter.curly"]],keywords:["return","loop","for_each","break","continue","this","function"],identifiers:["v","t","c","q","f","a","arg","variable","temp","context","query"],tokenizer:{root:[[/#.*/,"comment"],[/'[^']'/,"string"],[/[0-9]+(\.[0-9]+)?/,"number"],[/true|false/,"number"],[/\=|\,|\!|%=|\*=|\+=|-=|\/=|<|=|>|<>/,"definition"],[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@identifiers":"type.identifier","@default":"identifier"}}]]}},M=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,{id:"molang",extensions:["molang"],config:A,tokenProvider:E}),e.molang=new T["a"]({}),e}return Object(c["a"])(n,[{key:"validate",value:function(e){try{this.molang.parse(e.getValue()),j["editor"].setModelMarkers(e,this.id,[])}catch(l){var t={},n=t.startColumn,r=void 0===n?0:n,i=t.endColumn,a=void 0===i?1/0:i,s=t.startLineNumber,o=void 0===s?0:s,c=t.endLineNumber,u=void 0===c?1/0:c;j["editor"].setModelMarkers(e,this.id,[{startColumn:r+1,endColumn:a+1,startLineNumber:o+1,endLineNumber:u+1,message:l.message,severity:j["MarkerSeverity"].Error}])}}}]),n}(O),D=function e(){Object(o["a"])(this,e),this.languages=new Set([new M,new R,new F])},W=n("9483"),B=n("ced0");function I(e){e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),navigator.serviceWorker.addEventListener("controllerchange",Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["c"])("firstStartAfterUpdate",!0);case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)}))))}Object(W["a"])("".concat("/editor/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh."),"waiting"===_c.fileSystemSetup.status?I(e):m({icon:"mdi-update",color:"primary",message:"sidebar.notifications.updateAvailable.message",textColor:"white",onClick:function(){return I(e)}})},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var V=n("1834"),L=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(o["a"])(this,e),this.autoCleanEmptyDispatchers=r,this.events=new Map,n.forEach((function(e){return t.create(e)}))}return Object(c["a"])(e,[{key:"create",value:function(e){var t=this,n=this.events.get(e);if(void 0!==n)throw new Error('Dispatcher for event "'.concat(e,'" is already defined.'));return this.events.set(e,new V["a"]),{dispose:function(){t.events.delete(e)}}}},{key:"hasEvent",value:function(e){return this.events.has(e)}},{key:"getDispatcher",value:function(e){var t=this.events.get(e);if(void 0===t)throw new Error('No dispatcher defined for event "'.concat(e,'".'));return t}},{key:"dispatch",value:function(e,t){return this.getDispatcher(e).dispatch(t)}},{key:"on",value:function(e,t){var n=this,r=this.getDispatcher(e),i=r.on(t);return{dispose:function(){i.dispose(),n.autoCleanEmptyDispatchers&&!r.hasListeners&&n.events.delete(e)}}}},{key:"off",value:function(e,t){var n=this.getDispatcher(e);n.off(t),this.autoCleanEmptyDispatchers&&!n.hasListeners&&this.events.delete(e)}},{key:"once",value:function(e,t){var n=this,r=this.getDispatcher(e);r.once((function(i){t(i),n.autoCleanEmptyDispatchers&&!r.hasListeners&&n.events.delete(e)}))}}]),e}(),N=n("f374"),$=n("dffd"),z=(n("b0c0"),n("4d25")),H=n("668b");function U(e,t){return q.apply(this,arguments)}function q(){return q=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,s,o,c,u,l,d,p=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=p.length>2&&void 0!==p[2]?p[2]:"",i=!0,a=!1,e.prev=3,o=Object(H["a"])(t.values());case 5:return e.next=7,o.next();case 7:return c=e.sent,i=c.done,e.next=11,c.value;case 11:if(u=e.sent,i){e.next=28;break}if(l=u,d=0===r.length?l.name:"".concat(r,"/").concat(l.name),"file"!==l.kind){e.next=22;break}if("."!==l.name[0]){e.next=18;break}return e.abrupt("continue",25);case 18:return e.next=20,n(l,d);case 20:e.next=25;break;case 22:if("directory"!==l.kind){e.next=25;break}return e.next=25,U(l,n,d);case 25:i=!0,e.next=5;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e["catch"](3),a=!0,s=e.t0;case 34:if(e.prev=34,e.prev=35,i||null==o.return){e.next=39;break}return e.next=39,o.return();case 39:if(e.prev=39,!a){e.next=42;break}throw s;case 42:return e.finish(39);case 43:return e.finish(34);case 44:case"end":return e.stop()}}),e,null,[[3,30,34,44],[35,,39,43]])}))),q.apply(this,arguments)}var J=n("5e48"),G=n.n(J),K=n("53ca");function Q(e,t){if(Array.isArray(e)&&Array.isArray(t))return e.concat(t);if(Array.isArray(e))return e.concat([t]);if(Array.isArray(t))return t.concat([e]);if("object"!==Object(K["a"])(t))return t;var n={};for(var r in e)void 0===t[r]?n[r]=e[r]:n[r]=Q(e[r],t[r]);for(var i in t)void 0===e[i]&&(n[i]=t[i]);return n}function Z(e){for(var t=e[0],n=1;n<e.length;n++)t=Q(t,e[n]);return t}var Y=n("5530"),X=function(e){return{"colorCode.darkRed":{color:"#AA0000"},"colorCode.red":{color:"#FF5555"},"colorCode.gold":{color:"#FFAA00"},"colorCode.yellow":{color:"#FFFF55"},"colorCode.darkGreen":{color:"#00AA00"},"colorCode.green":{color:"#55FF55"},"colorCode.aqua":{color:"#55FFFF"},"colorCode.darkAqua":{color:"#00AAAA"},"colorCode.darkBlue":{color:"#0000AA"},"colorCode.blue":{color:"#5555FF"},"colorCode.lightPurple":{color:"#FF55FF"},"colorCode.darkPurple":{color:"#AA00AA"},"colorCode.white":{color:"#FFFFFF"},"colorCode.gray":{color:"#AAAAAA"},"colorCode.darkGray":{color:"#555555"},"colorCode.black":{color:"#000000"},"colorCode.minecoinGold":{color:"#ff0000"},"colorCode.bold":{color:e,textDecoration:"bold"},"colorCode.italic":{color:e,textDecoration:"italic"},"colorCode.underline":{color:e,textDecoration:"underline"}}},ee={id:"bridge.default.dark",name:"Default Dark",colorScheme:"dark",colors:{text:"#fff",primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",error:"#ff5252",info:"#2196f3",warning:"#fb8c00",success:"#4caf50",background:"#121212",sidebarNavigation:"#1F1F1F",expandedSidebar:"#1F1F1F",sidebarSelection:"#151515",menu:"#252525",footer:"#111111",tooltip:"#1F1F1F",toolbar:"#000000",tabActive:"#121212",tabInactive:"#1F1F1F",lineHighlightBackground:"#1F1F1F"},highlighter:Object(Y["a"])({type:{color:"#a6e22e"},keyword:{color:"#f92672"},definition:{color:"#fd971f"},atom:{color:"#ae81ff"},number:{color:"#ae81ff"},string:{color:"#e6db74"},variable:{color:"#9effff"},variable_strong:{color:"#9effff"},meta:{color:"white"},comment:{color:"#75715e"}},X("#fff"))},te={id:"bridge.default.light",name:"Default Light",colorScheme:"light",colors:{text:"#000",primary:"#0073FF",secondary:"#0073FF",accent:"#0073FF",error:"#ff5252",info:"#2196f3",warning:"#fb8c00",success:"#4caf50",background:"#fafafa",sidebarNavigation:"#FFFFFF",expandedSidebar:"#FFFFFF",sidebarSelection:"#ececec",menu:"#fff",tooltip:"#424242",toolbar:"#e0e0e0",footer:"#f5f5f5",tabActive:"#fafafa",tabInactive:"#ececec",lineHighlightBackground:"#e0e0e0"},highlighter:Object(Y["a"])({property:{color:"black"},keyword:{color:"#5A5CAD"},definition:{textDecoration:"underline"},atom:{color:"#6C8CD5"},number:{color:"#164"},string:{color:"red"},variable:{color:"black"},variable_strong:{color:"black"},meta:{color:"yellow"},comment:{color:"#0080FF"}},X("#000"))},ne=(n("c1f9"),n("d81d"),n("2ca0"),n("bb15")),re=function(){function e(t){Object(o["a"])(this,e),this.theme=t}return Object(c["a"])(e,[{key:"apply",value:function(){var e=this;j["editor"].defineTheme("bridgeMonacoDefault",{base:"light"===this.theme.colorScheme?"vs":"vs-dark",inherit:!1,colors:Object(Y["a"])({"editor.background":this.convertColor(this.theme.getColor("background")),"editor.lineHighlightBackground":this.convertColor(this.theme.getColor("lineHighlightBackground")),"editorWidget.background":this.convertColor(this.theme.getColor("background")),"editorWidget.border":this.convertColor(this.theme.getColor("sidebarNavigation")),"pickerGroup.background":this.convertColor(this.theme.getColor("background")),"pickerGroup.border":this.convertColor(this.theme.getColor("sidebarNavigation")),"badge.background":this.convertColor(this.theme.getColor("background")),"input.background":this.convertColor(this.theme.getColor("sidebarNavigation")),"input.border":this.convertColor(this.theme.getColor("menu")),"inputOption.activeBorder":this.convertColor(this.theme.getColor("primary")),focusBorder:this.convertColor(this.theme.getColor("primary")),"list.focusBackground":this.convertColor(this.theme.getColor("menu")),"list.hoverBackground":this.convertColor(this.theme.getColor("sidebarNavigation")),contrastBorder:this.convertColor(this.theme.getColor("sidebarNavigation")),"peekViewTitle.background":this.convertColor(this.theme.getColor("background")),"peekView.border":this.convertColor(this.theme.getColor("primary")),"peekViewResult.background":this.convertColor(this.theme.getColor("sidebarNavigation")),"peekViewResult.selectionBackground":this.convertColor(this.theme.getColor("menu")),"peekViewEditor.background":this.convertColor(this.theme.getColor("background")),"peekViewEditor.matchHighlightBackground":this.convertColor(this.theme.getColor("menu"))},this.theme.getMonacoDefinition()),rules:[{background:this.convertColor(this.theme.getColor("background")),foreground:this.convertColor(this.theme.getColor("text"))}].concat(Object(k["a"])(Object.entries(this.theme.getHighlighterDefinition()).map((function(t){var n=Object(i["a"])(t,2),r=n[0],a=n[1],s=a.color,o=a.background,c=a.textDecoration,u=a.isItalic;return{token:r,foreground:e.convertColor(s),background:o?e.convertColor(o):void 0,fontStyle:"".concat(u?"italic ":"").concat(c)}})).filter((function(e){var t=e.foreground;return void 0!==t}))))})}},{key:"convertColor",value:function(e){return e?e.startsWith("#")?4===e.length?"#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3]):e:ne["keyword"].hex(e):e}}]),e}(),ie=function(){function e(t,n){var r;Object(o["a"])(this,e),this.themeDefinition=t,this.isGlobal=n,this.id=t.id,this.name=t.name,this.colorScheme=null!==(r=t.colorScheme)&&void 0!==r?r:"dark",this.colorMap=new Map(Object.entries(t.colors)),this.monacoDef=t.monaco,this.highlighterDef=t.highlighter,this.monacoSubTheme=new re(this)}return Object(c["a"])(e,[{key:"apply",value:function(e,t){var n;d["default"].set(t.theme.themes,this.colorScheme,Object.fromEntries(this.colorMap.entries())),d["default"].set(t.theme,"dark","dark"===this.colorScheme),e.setThemeColor(null!==(n=this.colorMap.get("toolbar"))&&void 0!==n?n:"red"),this.monacoSubTheme.apply()}},{key:"getColor",value:function(e){var t;return null!==(t=this.colorMap.get(e))&&void 0!==t?t:"red"}},{key:"getMonacoDefinition",value:function(){var e;return null!==(e=this.monacoDef)&&void 0!==e?e:{}}},{key:"getHighlighterDefinition",value:function(){var e;return null!==(e=this.highlighterDef)&&void 0!==e?e:{}}},{key:"getThemeDefinition",value:function(){return this.themeDefinition}}]),e}(),ae=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;Object(o["a"])(this,n),r=t.call(this),r.vuetify=e,r.themeMap=new Map,r.themeColorTag=document.querySelector("meta[name='theme-color']"),r.currentTheme="bridge.default.dark",r.colorScheme=new N["a"];var i=window.matchMedia("(prefers-color-scheme: light)");return r.mode=i.matches?"light":"dark",i.addEventListener("change",(function(e){r.colorScheme.dispatch(e.matches?"light":"dark"),r.mode=e.matches?"light":"dark",r.updateTheme()})),r.themeColorTag||(r.themeColorTag=document.createElement("meta"),document.head.appendChild(r.themeColorTag)),r.themeColorTag.setAttribute("name","theme-color"),r.themeColorTag.id="theme-color-tag",r.addTheme(ee,!0),r.addTheme(te,!0),r.applyTheme(r.themeMap.get("bridge.default.dark")),r}return Object(c["a"])(n,[{key:"applyTheme",value:function(e){null===e||void 0===e||e.apply(this,this.vuetify)}},{key:"updateTheme",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,s,o,c,u,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return a=e.sent,s=null===z["b"]||void 0===z["b"]||null===(t=z["b"].appearance)||void 0===t?void 0:t.colorScheme,s&&"auto"!==s||(s=this.mode),e.next=7,a.projectManager.projectReady.fired;case 7:return e.next=9,a.projectConfig.get("".concat(s,"Theme"));case 9:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=13;break}e.t0=void 0!==n;case 13:if(!e.t0){e.next=17;break}e.t2=n,e.next=18;break;case 17:e.t2="bridge.noSelection";case 18:o=e.t2,c=null!==(r=null===z["b"]||void 0===z["b"]||null===(i=z["b"].appearance)||void 0===i?void 0:i["".concat(s,"Theme")])&&void 0!==r?r:"bridge.default.".concat(s),u="bridge.noSelection"!==o?o:c,l=this.themeMap.get("bridge.noSelection"!==o?o:c),d=this.themeMap.get("bridge.default.".concat(s)),this.currentTheme!==(l?u:"bridge.default.".concat(s))&&(this.currentTheme=l?u:"bridge.default.".concat(s),this.applyTheme(null!==l&&void 0!==l?l:d),this.dispatch(null!==(p=null===l||void 0===l?void 0:l.colorScheme)&&void 0!==p?p:"dark"));case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadDefaultThemes",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=U,e.next=4,t.fileSystem.getDirectoryHandle("data/packages/themes");case 4:return e.t1=e.sent,e.t2=function(e){return n.loadTheme(e)},e.next=8,(0,e.t0)(e.t1,e.t2);case 8:e.next=12;break;case 10:e.prev=10,e.t3=e["catch"](0);case 12:this.updateTheme();case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadTheme",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,s,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(o.length>1&&void 0!==o[1])||o[1],r=o.length>2?o[2]:void 0,e.next=4,t.getFile();case 4:return i=e.sent,e.prev=5,e.t0=G.a,e.next=9,i.text();case 9:e.t1=e.sent,a=e.t0.parse.call(e.t0,e.t1),e.next=16;break;case 13:throw e.prev=13,e.t2=e["catch"](5),new Error('Failed to load theme "'.concat(i.name,'"'));case 16:s=this.addTheme(a,n),r&&r.push(s);case 18:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getThemes",value:function(e,t){var n,r=[],s=Object(a["a"])(this.themeMap);try{for(s.s();!(n=s.n()).done;){var o=Object(i["a"])(n.value,2),c=(o[0],o[1]);e&&c.colorScheme!==e||!c.isGlobal&&t!==c.isGlobal||r.push(c)}}catch(u){s.e(u)}finally{s.f()}return r}},{key:"setThemeColor",value:function(e){this.themeColorTag.setAttribute("content",e)}},{key:"addTheme",value:function(e,t){var n,r,i=this,a=this.themeMap.get("bridge.default.".concat(null!==(n=e.colorScheme)&&void 0!==n?n:"dark"));return this.themeMap.set(e.id,new ie(Q(null!==(r=null===a||void 0===a?void 0:a.getThemeDefinition())&&void 0!==r?r:{},e),t)),this.updateTheme(),{dispose:function(){return i.themeMap.delete(e.id)}}}},{key:"getColor",value:function(e){var t=this.themeMap.get(this.currentTheme);if(!t)throw new Error("No theme currently loaded");return t.getColor(e)}}]),n}(V["a"]),se=n("436f"),oe=n("a46c"),ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.selectFolder.title",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!1,isFullscreen:!1,isPersistent:!0,width:420,height:100},on:{closeWindow:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",[e._v(" "+e._s(e.t("windows.selectFolder.content"))+" ")])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.selectFolder}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-folder-outline")]),n("span",[e._v(e._s(e.t("windows.selectFolder.select")))])],1)]},proxy:!0}],null,!1,1838278511)}):e._e()},ue=[],le=n("7c64"),de=n("bd5a"),pe={name:"SelectProjectFolderWindow",mixins:[le["a"]],components:{BaseWindow:de["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{close:function(){this.currentWindow.close()},selectFolder:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return _c.fileSystemSetup.setStatus("userInteracted"),t.prev=1,t.t0=e,t.next=5,window.showDirectoryPicker({mode:"readwrite"});case 5:return t.t1=t.sent,t.next=8,t.t0.callback.call(t.t0,t.t1);case 8:e.close(),t.next=14;break;case 11:t.prev=11,t.t2=t["catch"](1),console.error(t.t2);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()}}},he=pe,fe=n("2877"),me=n("6544"),ve=n.n(me),be=n("8336"),ge=n("132d"),we=n("2fa4"),ke=Object(fe["a"])(he,ce,ue,!1,null,null,null),ye=ke.exports;ve()(ke,{VBtn:be["a"],VIcon:ge["a"],VSpacer:we["a"]});var xe=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,ye),r.callback=e,r.defineWindow(),r}return n}(oe["a"]),je=function(){function e(){Object(o["a"])(this,e),this.confirmPermissionWindow=null,this._status="waiting"}return Object(c["a"])(e,[{key:"status",get:function(){return this._status}},{key:"setStatus",value:function(e){this._status=e}},{key:"setupFileSystem",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"===typeof window.showDirectoryPicker){e.next=3;break}return t.windows.browserUnsupported.open(),e.abrupt("return",!1);case 3:return e.next=5,Object(B["b"])("bridgeBaseDir");case 5:if(n=e.sent,!n){e.next=10;break}return e.next=9,this.verifyPermissions(n);case 9:n=e.sent;case 10:if(n){e.next=16;break}return r=new xe(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return e.next=3,Object(B["c"])("bridgeBaseDir",t);case 3:n=t;case 4:return e.next=6,i.verifyPermissions(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.open(),console.log(r),e.next=16,r.fired;case 16:return this._status="done",e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"verifyPermissions",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={writable:!0,mode:"readwrite"},e.next=3,t.queryPermission(n);case 3:if(e.t1=e.sent,e.t0="granted"!==e.t1,!e.t0){e.next=7;break}e.t0=null===this.confirmPermissionWindow;case 7:if(!e.t0){e.next=11;break}return this.confirmPermissionWindow=new u["a"]({name:"windows.projectFolder.title",description:"windows.projectFolder.content",onClose:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r._status="userInteracted",r.confirmPermissionWindow=null,e.next=4,t.requestPermission(n);case 4:if(e.t0=e.sent,"granted"===e.t0){e.next=8;break}return e.next=8,r.verifyPermissions(t);case 8:case"end":return e.stop()}}),e)})));function i(){return e.apply(this,arguments)}return i}()}),e.next=11,this.confirmPermissionWindow.fired;case 11:return e.prev=11,e.next=14,t.getDirectoryHandle("data",{create:!0});case 14:e.next=19;break;case 16:return e.prev=16,e.t2=e["catch"](11),e.abrupt("return",void 0);case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}}),e,this,[[11,16]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Oe=n("5d94"),Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.sidebar.displayName,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:50,percentageHeight:80},on:{closeWindow:e.onClose}},[n(e.sidebar.component,{tag:"component"})],1):e._e()},Ce=[],Re={name:"OldSidebarCompatWindow",components:{BaseWindow:de["a"]},data:function(){return this.currentWindow},props:["currentWindow"],methods:{onClose:function(){this.currentWindow.close()}}},Pe=Re,_e=Object(fe["a"])(Pe,Se,Ce,!1,null,null,null),Fe=_e.exports;function Te(e){var t=new(function(t){Object(g["a"])(r,t);var n=Object(w["a"])(r);function r(){var t;return Object(o["a"])(this,r),t=n.call(this,Fe),t.sidebar=e,t.defineWindow(),t}return r}(oe["a"]));return t.open(),t}function Ae(e){return new Ee(e)}var Ee=function(){function e(t){Object(o["a"])(this,e),this.config=t,this.sidebarUUID=Object(p["a"])(),this.isLoading=!1,d["default"].set(Oe["a"].sidebarElements,this.sidebarUUID,this)}return Object(c["a"])(e,[{key:"icon",get:function(){return this.config.icon}},{key:"uuid",get:function(){return this.sidebarUUID}},{key:"displayName",get:function(){return this.config.displayName}},{key:"component",get:function(){return this.config.component}},{key:"dispose",value:function(){d["default"].delete(Oe["a"].sidebarElements,this.sidebarUUID)}},{key:"click",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isLoading=!0,"function"!==typeof this.config.onClick){e.next=6;break}return e.next=4,this.config.onClick();case 4:e.next=7;break;case 6:this.config.component&&Te(this);case 7:this.isLoading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}();function Me(){Ae({id:"projects",displayName:"windows.projectChooser.title",icon:"mdi-view-dashboard-outline",onClick:function(){return _c.instance.windows.projectChooser.open()}}),Ae({id:"bpExplorer",displayName:"windows.packExplorer.title",icon:"mdi-folder-outline",onClick:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return n=e.sent,e.next=5,null===(t=n.project)||void 0===t?void 0:t.packIndexer.fired;case 5:n.windows.packExplorer.open();case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),Ae({id:"compiler",displayName:"sidebar.compiler.name",icon:"mdi-cogs",onClick:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return n=e.sent,e.next=5,null===(t=n.project)||void 0===t?void 0:t.compilerManager.openWindow();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),Ae({id:"extensions",displayName:"sidebar.extensions.name",icon:"mdi-puzzle-outline",onClick:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return t=e.sent,e.next=5,t.windows.extensionStore.open();case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()})}var De=n("2dd6"),We=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){var i;return Object(o["a"])(this,n),i=t.call(this),i.icon=e,i.name=r,i.id=Object(p["a"])(),i.type="category",i.isVisible=!1,i.state=Object(h["f"])({}),i.disposables={},i}return Object(c["a"])(n,[{key:"addItem",value:function(e){var t=this;return Object(h["e"])(this.state,e.id,e),this.disposables[e.id]=e.on((function(){return t.trigger()})),this}},{key:"disposeItem",value:function(e){var t;Object(h["b"])(this.state,e.id),null===(t=this.disposables[e.id])||void 0===t||t.dispose(),this.disposables[e.id]=void 0}},{key:"trigger",value:function(){this.isVisible=!1,this.dispatch()}},{key:"dispose",value:function(){_c.toolbar.disposeCategory(this)}}]),n}(V["a"]);function Be(e){var t=new We("mdi-pencil-outline","toolbar.edit.name");t.addItem(e.actionManager.create({icon:"mdi-content-copy",name:"actions.copy.name",description:"actions.copy.description",keyBinding:"Ctrl + C",prevent:function(e){return"INPUT"===e.tagName},onTrigger:function(){var t,n;return null===(t=e.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.copy()}})),t.addItem(e.actionManager.create({icon:"mdi-content-cut",name:"actions.cut.name",description:"actions.cut.description",keyBinding:"Ctrl + X",prevent:function(e){return"INPUT"===e.tagName},onTrigger:function(){var t,n;return null===(t=e.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.cut()}})),t.addItem(e.actionManager.create({icon:"mdi-content-paste",name:"actions.paste.name",description:"actions.paste.description",keyBinding:"Ctrl + V",prevent:function(e){return"INPUT"===e.tagName},onTrigger:function(){var t,n;return null===(t=e.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.paste()}})),_c.toolbar.addCategory(t)}function Ie(e){var t=new We("mdi-file-outline","toolbar.file.name");t.addItem(e.actionManager.create({id:"bridge.action.newProject",icon:"mdi-folder-outline",name:"actions.newProject.name",description:"actions.newProject.description",onTrigger:function(){return e.windows.createProject.open()}})),t.addItem(e.actionManager.create({id:"bridge.action.newFile",icon:"mdi-file-plus-outline",name:"actions.newFile.name",description:"actions.newFile.description",keyBinding:"Ctrl + N",onTrigger:function(){return e.windows.createPreset.open()}})),t.addItem(e.actionManager.create({id:"bridge.action.openFile",icon:"mdi-file-upload-outline",name:"actions.openFile.name",description:"actions.openFile.description",keyBinding:"Ctrl + O",onTrigger:function(){return e.windows.packExplorer.open()}})),t.addItem(e.actionManager.create({id:"bridge.action.searchFile",icon:"mdi-magnify",name:"actions.searchFile.name",description:"actions.searchFile.description",keyBinding:"Ctrl + P",onTrigger:function(){return e.windows.filePicker.open()}})),t.addItem(e.actionManager.create({icon:"mdi-content-save-outline",name:"actions.saveFile.name",description:"actions.saveFile.description",keyBinding:"Ctrl + S",onTrigger:function(){return _c.ready.once((function(e){var t;return null===(t=e.tabSystem)||void 0===t?void 0:t.save()}))}})),t.addItem(e.actionManager.create({icon:"mdi-file-cancel-outline",name:"actions.closeFile.name",description:"actions.closeFile.description",keyBinding:"Ctrl + W",onTrigger:function(){return _c.ready.once((function(e){var t;return null===(t=e.tabSystem)||void 0===t?void 0:t.close()}))}})),t.addItem(e.actionManager.create({icon:"mdi-cancel",name:"actions.clearAllNotifications.name",description:"actions.clearAllNotifications.description",onTrigger:function(){return v()}})),t.addItem(new We("mdi-palette-outline","toolbar.file.preferences.name").addItem(e.actionManager.create({id:"bridge.action.openSettings",icon:"mdi-cog-outline",name:"actions.settings.name",description:"actions.settings.description",keyBinding:"Ctrl + ,",onTrigger:function(){return e.windows.settings.open()}})).addItem(e.actionManager.create({icon:"mdi-puzzle-outline",name:"actions.extensions.name",description:"actions.extensions.description",onTrigger:function(){return e.windows.extensionStore.open()}}))),_c.toolbar.addCategory(t)}function Ve(e){var t=new We("mdi-help","toolbar.help.name");t.addItem(e.actionManager.create({name:"actions.releases.name",icon:"mdi-alert-decagram",description:"actions.releases.description",onTrigger:function(){return window.open("https://github.com/bridge-core/editor/releases","_blank")}})),t.addItem(e.actionManager.create({name:"actions.bugReports.name",icon:"mdi-bug-outline",description:"actions.bugReports.description",onTrigger:function(){return window.open("https://github.com/bridge-core/editor/issues/new/choose","_blank")}})),t.addItem(e.actionManager.create({name:"actions.pluginAPI.name",icon:"mdi-puzzle-outline",description:"actions.pluginAPI.description",onTrigger:function(){return _c.createNativeWindow("https://bridge-core.github.io/plugin-docs/","_blank")}})),t.addItem(e.actionManager.create({name:"actions.gettingStarted.name",icon:"mdi-help-circle-outline",description:"actions.gettingStarted.description",onTrigger:function(){return _c.createNativeWindow("https://bridge-core.github.io/editor-docs/getting-started/","_blank")}})),t.addItem(e.actionManager.create({name:"actions.faq.name",icon:"mdi-frequently-asked-questions",description:"actions.faq.description",onTrigger:function(){return _c.createNativeWindow("https://bridge-core.github.io/editor-docs/faq/","_blank")}})),_c.toolbar.addCategory(t)}function Le(e){var t=new We("mdi-wrench-outline","toolbar.tools.name");t.addItem(e.actionManager.create({icon:"mdi-book-open-page-variant",name:"actions.docs.name",description:"actions.docs.description",onTrigger:function(){return _c.createNativeWindow("https://bedrock.dev","DocWindow")}})),t.addItem(e.actionManager.create({icon:"mdi-reload",name:"actions.reloadAutoCompletions.name",description:"actions.reloadAutoCompletions.description",keyBinding:"Ctrl + Shift + R",onTrigger:function(){return e.project.jsonDefaults.reload()}})),_c.toolbar.addCategory(t)}function Ne(e){return $e.apply(this,arguments)}function $e(){return $e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ie(t),Be(t),Le(t),Ve(t);case 4:case"end":return e.stop()}}),e)}))),$e.apply(this,arguments)}var ze=n("923f"),He=n("9a02"),Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.browserUnsupported.title",isVisible:e.isVisible,isPersistent:!0,hasCloseButton:!1,width:420,height:240},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"text-center"},[n("v-icon",{staticStyle:{"font-size":"8em"},attrs:{color:"error"}},[e._v(" mdi-alert-octagon-outline ")]),n("p",[e._v(e._s(e.t("windows.browserUnsupported.description")))])],1)]},proxy:!0}],null,!1,816675869)}):e._e()},qe=[],Je={name:"Discord",mixins:[le["a"]],components:{BaseWindow:de["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},Ge=Je,Ke=Object(fe["a"])(Ge,Ue,qe,!1,null,null,null),Qe=Ke.exports;ve()(Ke,{VIcon:ge["a"]});var Ze=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,Qe),e.defineWindow(),e}return n}(oe["a"]),Ye=(n("7db0"),n("45eb")),Xe=n("7e84"),et=function(){function e(t){var n=t.items,r=t.text,i=t.isOpen,a=t.shouldSort;Object(o["a"])(this,e),this.type="category",this.text=r,this.items=n,this.isOpen=null===i||void 0===i||i,this.shouldSort=null===a||void 0===a||a,this.shouldSort&&this.sortCategory()}return Object(c["a"])(e,[{key:"addItem",value:function(e){this.items.push(e),this.shouldSort&&this.sortCategory()}},{key:"removeItems",value:function(){this.items=[]}},{key:"getText",value:function(){return this.text}},{key:"getSearchText",value:function(){return this.text.toLowerCase()}},{key:"getItems",value:function(){return this.items}},{key:"setOpen",value:function(e){this.isOpen=e}},{key:"getCurrentElement",value:function(e){return this.items.find((function(t){var n=t.id;return n===e}))}},{key:"sortCategory",value:function(){this.items=this.items.sort((function(e,t){return e.getSearchText().localeCompare(t.getSearchText())}))}},{key:"hasFilterMatches",value:function(e){return void 0!==this.items.find((function(t){return t.getSearchText().includes(e)}))}},{key:"filtered",value:function(t){return 0===t.length?this:d["default"].observable(new e({items:this.items.filter((function(e){return e.getSearchText().includes(t)})),text:this.text,isOpen:!0}))}}]),e}(),tt=function(){function e(t){var n=t.id,r=t.text,i=t.icon,a=t.color;Object(o["a"])(this,e),this.type="item",this.id=n,this.text=r,this.icon=i,this.color=a}return Object(c["a"])(e,[{key:"getText",value:function(){return this.text}},{key:"getSearchText",value:function(){return this.text.toLowerCase()}}]),e}(),nt=function(){function e(t){Object(o["a"])(this,e),this._elements=t,this._filter="",this.state={},this.selected=this.findDefaultSelected()}return Object(c["a"])(e,[{key:"addElement",value:function(e,t){"item"===e.type&&t&&(this.state[e.id]=t),this._elements.push(e)}},{key:"removeElements",value:function(){this._elements=[]}},{key:"filter",get:function(){return this._filter.toLowerCase()}},{key:"elements",get:function(){var e=this,t=this.sortSidebar(this._elements.filter((function(t){return"item"===t.type?t.getSearchText().includes(e.filter):t.hasFilterMatches(e.filter)})).map((function(t){return"item"===t.type?t:t.filtered(e.filter)})));if(1===t.length){var n=t[0];"category"===n.type&&1===n.getItems().length&&(n.setOpen(!0),this.setDefaultSelected(n.getItems()[0].id))}return t}},{key:"rawElements",get:function(){return this._elements}},{key:"currentElement",get:function(){if(!this.selected)return{};var e,t=Object(a["a"])(this._elements);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("item"!==n.type){var r=n.getCurrentElement(this.selected);if(r)return r}else if(n.id===this.selected)return n}}catch(i){t.e(i)}finally{t.f()}return{}}},{key:"currentState",get:function(){var e;return this.selected&&null!==(e=this.state[this.selected])&&void 0!==e?e:{}}},{key:"getState",value:function(e){var t;return null!==(t=this.state[e])&&void 0!==t?t:{}}},{key:"setState",value:function(e,t){d["default"].set(this.state,e,t)}},{key:"sortSidebar",value:function(e){return e.sort((function(e,t){return e.type!==t.type?e.type.localeCompare(t.type):e.getSearchText().localeCompare(t.getSearchText())}))}},{key:"findDefaultSelected",value:function(){var e,t=Object(a["a"])(this.sortSidebar(this.elements));try{for(t.s();!(e=t.n()).done;){var n=e.value;if("category"===n.type&&n.getItems().length>0)return n.getItems()[0].id;if("item"===n.type)return n.id}}catch(r){t.e(r)}finally{t.f()}}},{key:"setDefaultSelected",value:function(e){e?this.selected=e:this.selected||(this.selected=this.findDefaultSelected())}},{key:"resetSelected",value:function(){this.selected=void 0}},{key:"clearFilter",value:function(){this._filter=""}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e}}]),e}(),rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.extensionStore.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.extensionStore.searchExtensions"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[0===e.currentExtensions.length?n("div",[e._v(" No plugins match your search... ")]):e._l(e.currentExtensions,(function(t){return n("ExtensionCard",{key:t.id+"."+t.isInstalled+"."+t.isUpdateAvailable,attrs:{extension:t},on:{search:function(t){return e.sidebar._filter=t},select:function(t){return e.$data.selectedSidebar=t}}})}))]},proxy:!0}]),model:{value:e.$data.selectedSidebar,callback:function(t){e.$set(e.$data,"selectedSidebar",t)},expression:"$data.selectedSidebar"}})},it=[],at=(n("a4d3"),n("e01a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",e._g(e._b({scopedSlots:e._u([{key:"toolbar",fn:function(){return[e._t("toolbar",null,{selectedTab:e.selected})]},proxy:!0},{key:"sidebar",fn:function(){return[e._t("sidebar",null,{selectedSidebar:e.selected}),e._l(e.sidebarItems,(function(t,r){return["item"===t.type?n("SidebarItem",{key:t.text+"."+r,attrs:{icon:t.icon,color:t.color,text:t.text,isSelected:e.selected===t.id},on:{click:function(n){return e.onSidebarChanged(t.id)}}}):n("SidebarGroup",{key:t.text+"."+r+"."+t.isOpen,attrs:{isOpen:t.isOpen,items:t.items,text:t.text,selected:e.selected},on:{toggleOpen:function(n){return e.toggleOpenCategory(t)},click:e.onSidebarChanged}})]}))]},proxy:!0},{key:"default",fn:function(){return[e._t("default",null,{selectedSidebar:e.selected})]},proxy:!0},{key:"actions",fn:function(){return[e._t("actions",null,{selectedSidebar:e.selected})]},proxy:!0}],null,!0)},"BaseWindow",e.$attrs,!1),e.$listeners))}),st=[],ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"ripple",rawName:"v-ripple",value:!e.isSelected,expression:"!isSelected"}],staticClass:"pa-1 rounded-lg category d-flex",class:{selected:e.isSelected},on:{click:function(t){return e.$emit("click")}}},[n("v-icon",{staticClass:"pr-1",staticStyle:{"font-size":"22px"},attrs:{color:e.color}},[e._v(" "+e._s(e.icon)+" ")]),n("span",[e._v(e._s(e.text))])],1)},ct=[],ut={name:"SidebarItem",props:{isSelected:Boolean,text:String,icon:String,color:String}},lt=ut,dt=(n("8136"),n("269a")),pt=n.n(dt),ht=n("5607"),ft=Object(fe["a"])(lt,ot,ct,!1,null,"69614303",null),mt=ft.exports;ve()(ft,{VIcon:ge["a"]}),pt()(ft,{Ripple:ht["a"]});var vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("details",{attrs:{open:e.isOpen}},[n("summary",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"d-flex rounded-lg",on:{click:function(t){return t.preventDefault(),e.$emit("toggleOpen")}}},[n("h2",{staticClass:"d-inline"},[e._v(e._s(e.t(e.text)))]),n("v-spacer"),n("v-icon",{attrs:{color:"primary"}},[e._v(" "+e._s(e.isOpen?"mdi-chevron-down":"mdi-chevron-right")+" ")])],1),e._l(e.items,(function(t,r){var i=t.text,a=t.icon,s=t.color,o=t.id;return n("SidebarItem",{key:i+"."+r,attrs:{icon:a,color:s,text:i,isSelected:e.selected===o},on:{click:function(t){return e.$emit("click",o)}}})}))],2)},bt=[],gt={name:"SidebarGroup",mixins:[le["a"]],components:{SidebarItem:mt},props:{text:String,isOpen:Boolean,items:Array,selected:String}},wt=gt,kt=(n("4f85"),Object(fe["a"])(wt,vt,bt,!1,null,"7fec1faa",null)),yt=kt.exports;ve()(kt,{VIcon:ge["a"],VSpacer:we["a"]}),pt()(kt,{Ripple:ht["a"]});var xt={inheritAttrs:!1,components:{BaseWindow:de["a"],SidebarItem:mt,SidebarGroup:yt},props:{sidebarItems:Array,value:{type:String,default:void 0}},computed:{selected:function(){return this.value}},methods:{onSidebarChanged:function(e){this.$emit("input",e)},toggleOpenCategory:function(e){e.isOpen=!e.isOpen}}},jt=xt,Ot=Object(fe["a"])(jt,at,st,!1,null,null,null),St=Ot.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body-1 pa-4 mb-2 rounded-lg card"},[n("div",{staticClass:"d-flex align-center"},[e.extension.icon?n("v-icon",{staticClass:"mr-1",attrs:{color:"accent"}},[e._v(" "+e._s(e.extension.icon)+" ")]):e._e(),n("h3",[e._v(e._s(e.extension.name))]),n("v-spacer"),e.extension.isInstalled?e.extension.isUpdateAvailable?n("v-btn",{staticClass:"rounded-lg elevation-0",attrs:{loading:e.extension.isLoading,color:"primary",small:""},on:{click:function(t){return e.extension.update()}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-sync")]),e._v(" Update ")],1):n("v-tooltip",{attrs:{color:e.extension.isActive?"success":"error",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[e.extension.isActive?n("v-icon",e._g({attrs:{color:"success"}},r),[e._v(" mdi-check ")]):n("v-icon",e._g({attrs:{color:"error"}},r),[e._v("mdi-close")])]}}])},[n("span",[e._v(" "+e._s(e.extension.isActive?"Extension Active":"Extension Inactive")+" ")])]):n("v-btn",{staticClass:"rounded-lg elevation-0",attrs:{loading:e.extension.isLoading,color:"primary",small:""},on:{click:function(t){return e.extension.download()}}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-download")]),e._v(" Download ")],1),e.extension.isInstalled?n("v-menu",{attrs:{"offset-y":"","offset-x":"",rounded:"lg"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{small:"",icon:""}},"v-btn",i,!1),r),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,3448670655),model:{value:e.extension.showMenu,callback:function(t){e.$set(e.extension,"showMenu",t)},expression:"extension.showMenu"}},[n("v-list",{attrs:{dense:""}},e._l(e.extension.actions,(function(t,r){return n("v-list-item",{key:r,on:{click:function(e){return e.stopPropagation(),t.trigger()}}},[n("v-list-item-icon",[n("v-icon",{attrs:{color:"primary"}},[e._v(" "+e._s(t.icon))])],1),n("v-list-item-title",[e._v(" "+e._s(e.t(t.name))+" ")])],1)})),1)],1):e._e()],1),n("div",{staticClass:"d-flex mb-4"},e._l(e.tags,(function(t){return n("v-chip",{key:t.text,staticClass:"mr-2",attrs:{color:t.color,"text-color":t.color?"white":void 0,small:""},on:{click:function(n){"search"===t.type?e.$emit("search",t.text):e.$emit("select",t.text.toLowerCase())}}},[n("v-icon",{staticClass:"mr-1"},[e._v(e._s(t.icon))]),e._v(" "+e._s(t.text)+" ")],1)})),1),n("span",[e._v(e._s(e.extension.description))])])},Rt=[],Pt={name:"ExtensionCard",mixins:[le["a"]],props:{extension:Object},computed:{tags:function(){return[{icon:"mdi-account-outline",color:"primary",text:this.extension.author,type:"search"},{icon:"mdi-code-braces",text:this.extension.displayVersion,type:"search"}].concat(this.extension.tags)}}},_t=Pt,Ft=(n("8743"),n("cc20")),Tt=n("8860"),At=n("da13"),Et=n("34c3"),Mt=n("5d23"),Dt=n("e449"),Wt=n("3a2f"),Bt=Object(fe["a"])(_t,Ct,Rt,!1,null,"40981367",null),It=Bt.exports;ve()(Bt,{VBtn:be["a"],VChip:Ft["a"],VIcon:ge["a"],VList:Tt["a"],VListItem:At["a"],VListItemIcon:Et["a"],VListItemTitle:Mt["k"],VMenu:Dt["a"],VSpacer:we["a"],VTooltip:Wt["a"]});var Vt={name:"CreatePresetWindow",mixins:[le["a"]],components:{SidebarWindow:St,ExtensionCard:It},props:["currentWindow"],data:function(){return this.currentWindow},computed:{currentExtensions:function(){if(""!==this.sidebar._filter){var e=this.sidebar._filter.toLowerCase();return this.extensions.filter((function(t){return t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.author.toLowerCase().includes(e)||t.version.includes(e)||t.tags.some((function(t){return t.text.toLowerCase().includes(e)}))}))}return this.sidebar.currentState}},methods:{onClose:function(){this.currentWindow.close()}}},Lt=Vt,Nt=n("8654"),$t=Object(fe["a"])(Lt,rt,it,!1,null,null,null),zt=$t.exports;ve()($t,{VTextField:Nt["a"]});var Ht=n("b697");function Ut(){return new Promise((function(e){_c.ready.once((function(t){e(t.fileSystem)}))}))}n("5319"),n("9911");var qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:e.title,isVisible:e.isVisible,hasCloseButton:!e.opts.isPersistent,hasMaximizeButton:!1,percentageWidth:50,maxPercentageHeight:80,isPersistent:e.opts.isPersistent,heightUnset:""},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return e._l(e.$data._actionManager.state,(function(t,r){return n("ActionViewer",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,staticStyle:{cursor:"pointer"},attrs:{action:t,hideTriggerButton:!0},nativeOn:{click:function(n){return e.onClick(t)}}})}))},proxy:!0}])})},Jt=[],Gt=n("a50c"),Kt={name:"InformedChoiceWindow",mixins:[le["a"]],components:{BaseWindow:de["a"],ActionViewer:Gt["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onClick:function(e){e.trigger(),this.currentWindow.close()}}},Qt=Kt,Zt=Object(fe["a"])(Qt,qt,Jt,!1,null,null,null),Yt=Zt.exports;pt()(Zt,{Ripple:ht["a"]});var Xt=n("3490"),en=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o["a"])(this,n),r=t.call(this,Yt,!0),r.title=e,r.opts=i,r._ready=new N["a"],r.setup(),r}return Object(c["a"])(n,[{key:"actionManager",get:function(){var e=this;return new Promise((function(t){return e._ready.once(t)}))}},{key:"setup",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Xt["a"],e.next=3,_c.getApp();case 3:e.t1=e.sent,this._actionManager=new e.t0(e.t1),this._ready.dispatch(this._actionManager),this.defineWindow(),this.open();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.actionManager;case 2:Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){Object(Ye["a"])(Object(Xe["a"])(n.prototype),"dispose",this).call(this),this._actionManager.dispose()}}]),n}(oe["a"]),tn=function(){function e(t,n){Object(o["a"])(this,e),this.parent=t,this.icon=this.parent.getTagIcon(n),this.text=n,this.color=this.parent.getTagColor(n)}return Object(c["a"])(e,[{key:"asSidebarElement",value:function(){return new tt({id:this.text.toLowerCase(),text:this.text,color:this.color,icon:this.icon})}}]),e}(),nn=n("4feb"),rn=function(e){return[new nn["a"]({name:"windows.extensionStore.".concat(e.isActive?"deactivateExtension":"activateExtension"),icon:e.isActive?"mdi-close":"mdi-check",onTrigger:function(){e.setActive(!e.isActive),e.closeActionMenu()}})]},an=function(){function e(t,n){var r=this;Object(o["a"])(this,e),this.parent=t,this.config=n,this.isLoading=!1,this._isInstalled=!1,this.isUpdateAvailable=!1,this.showMenu=!1,this.isActive=!0,this.tags=this.config.tags.map((function(e){return r.parent.tags[e]||(r.parent.tags[e]=new tn(r.parent,e)),r.parent.tags[e]}))}return Object(c["a"])(e,[{key:"author",get:function(){return this.config.author}},{key:"name",get:function(){return this.config.name}},{key:"version",get:function(){return this.config.version}},{key:"description",get:function(){return this.config.description}},{key:"icon",get:function(){return this.config.icon}},{key:"id",get:function(){return this.config.id}},{key:"releaseTimestamp",get:function(){var e;return null!==(e=this.config.releaseTimestamp)&&void 0!==e?e:Date.now()}},{key:"isInstalled",get:function(){return this._isInstalled}},{key:"displayVersion",get:function(){var e,t;return null!==(e=null===(t=this.connected)||void 0===t?void 0:t.version)&&void 0!==e?e:this.config.version}},{key:"actions",get:function(){return rn(this)}},{key:"extension",get:function(){return this.connected}},{key:"hasTag",value:function(e){return this.tags.includes(e)}},{key:"download",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===t){e.next=2;break}return e.abrupt("return",this.downloadExtension(t));case 2:return n=new en("windows.pluginInstallLocation.title"),e.next=5,n.actionManager;case 5:r=e.sent,r.create({icon:"mdi-folder-multiple-outline",name:"actions.pluginInstallLocation.global.name",description:"actions.pluginInstallLocation.global.description",onTrigger:function(){i.downloadExtension(!0)}}),r.create({icon:"mdi-folder-outline",name:"actions.pluginInstallLocation.local.name",description:"actions.pluginInstallLocation.local.description",onTrigger:function(){i.downloadExtension(!1)}});case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"downloadExtension",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,c,u,l,d,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,_c.getApp();case 3:return r=e.sent,e.next=6,fetch(this.parent.getBaseUrl()+this.config.link).then((function(e){return e.arrayBuffer()}));case 6:return i=e.sent,s=t?"extensions":"projects/".concat(r.selectedProject,"/bridge/extensions"),o=t?r.extensionLoader:r.project.extensionLoader,c=s+"/".concat(this.name.replace(/\s+/g,""),".zip"),e.next=12,r.fileSystem.writeFile(c,i);case 12:return e.prev=12,e.next=15,r.fileSystem.unlink(c.replace(".zip",""));case 15:e.next=19;break;case 17:e.prev=17,e.t0=e["catch"](12);case 19:u=Object(a["a"])(null!==(n=this.config.dependencies)&&void 0!==n?n:[]),e.prev=20,u.s();case 22:if((l=u.n()).done){e.next=31;break}if(d=l.value,p=this.parent.getExtensionById(d),!p){e.next=29;break}if(p.isInstalled){e.next=29;break}return e.next=29,p.downloadExtension(t);case 29:e.next=22;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e["catch"](20),u.e(e.t1);case 36:return e.prev=36,u.f(),e.finish(36);case 39:return e.t2=o,e.next=42,r.fileSystem.getDirectoryHandle(s);case 42:return e.t3=e.sent,e.next=45,r.fileSystem.getFileHandle(c);case 45:return e.t4=e.sent,e.next=48,e.t2.loadExtension.call(e.t2,e.t3,e.t4,!0);case 48:h=e.sent,h&&this.setConnected(h),this.setInstalled(),this.isUpdateAvailable=!1,this.isLoading=!1;case 53:case"end":return e.stop()}}),e,this,[[12,17],[20,33,36,39]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=!(n.length>0&&void 0!==n[0])||n[0],this.connected){e.next=3;break}return e.abrupt("return");case 3:return t&&this.parent.updateInstalled(this),this.connected.deactivate(),e.next=7,this.downloadExtension(this.connected.isGlobal);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setInstalled",value:function(){this._isInstalled=!0,this.parent.addInstalledExtension(this)}},{key:"setIsUpdateAvailable",value:function(){this.isUpdateAvailable=!0}},{key:"setConnected",value:function(e){var t;this.connected=e,this.isActive=null===(t=this.connected)||void 0===t?void 0:t.isActive}},{key:"setActive",value:function(e){if(!this.connected)throw new Error("No extension connected to ExtensionViewer");this.connected.setActive(e),this.isActive=e}},{key:"closeActionMenu",value:function(){this.showMenu=!1}}]),e}(),sn=void 0,on=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,zt),e.baseUrl="https://raw.githubusercontent.com/bridge-core/plugins/master",e.sidebar=new nt([]),e.extensions=[],e.installedExtensions=new Set,e.tags={},e.updates=new Set,_c.eventSystem.on("projectChanged",(function(){var e;null===(e=sn)||void 0===e||e.dispose(),sn=void 0})),e.defineWindow(),e}return Object(c["a"])(n,[{key:"open",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,s,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return r=e.sent,r.windows.loadingWindow.open(),this.sidebar.removeElements(),this.installedExtensions.clear(),e.next=8,Ut();case 8:return i=e.sent,e.next=11,i.readJSON("data/packages/extensionTags.json");case 11:return this.extensionTags=e.sent,e.next=14,r.extensionLoader.getInstalledExtensions();case 14:return a=e.sent,e.next=17,fetch("".concat(this.baseUrl,"/extensions.json")).then((function(e){return e.json()}));case 17:s=e.sent,this.extensions=s.map((function(e){return new an(o,e)})),this.updates.clear(),a.forEach((function(e,t){var n=o.extensions.find((function(e){return e.id===t}));n?(n.setInstalled(),n.setConnected(e),Object(Ht["compare"])(e.version,n.version,"<")&&(n.setIsUpdateAvailable(),o.updates.add(n))):e.forStore(o)})),null===(t=sn)||void 0===t||t.dispose(),this.setupSidebar(),r.windows.loadingWindow.close(),Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this);case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=this;Object(Ye["a"])(Object(Xe["a"])(n.prototype),"close",this).call(this),this.updates.size>0&&(sn=new f({icon:"mdi-sync",color:"primary",message:"sidebar.notifications.updateExtensions",onClick:function(){var t;e.updates.forEach((function(e){return e.update(!1)})),null===(t=sn)||void 0===t||t.dispose()}}))}},{key:"updateInstalled",value:function(e){this.updates.delete(e)}},{key:"setupSidebar",value:function(){var e=this;this.sidebar.addElement(new tt({id:"all",text:"All",icon:"mdi-format-list-bulleted-square",color:"primary"}),this.getExtensions()),this.sidebar.addElement(new tt({id:"installed",text:"Installed",icon:"mdi-download-circle-outline",color:"primary"}),this.installedExtensions),Object.values(this.tags).forEach((function(t){return e.sidebar.addElement(t.asSidebarElement(),e.getExtensionsByTag(t))})),this.sidebar.setDefaultSelected()}},{key:"getExtensions",value:function(e){return Object(k["a"])(new Set([].concat(Object(k["a"])(this.extensions),Object(k["a"])(this.installedExtensions)))).filter((function(t){return!e||t.hasTag(e)})).sort((function(e,t){var n=e.releaseTimestamp,r=t.releaseTimestamp;return r-n}))}},{key:"getExtensionsByTag",value:function(e){return this.getExtensions(e)}},{key:"getTagIcon",value:function(e){return this.extensionTags[e].icon}},{key:"getTagColor",value:function(e){return this.extensionTags[e].color}},{key:"getExtensionById",value:function(e){return this.getExtensions().find((function(t){return t.id===e}))}},{key:"selectedSidebar",get:function(){return this.sidebar.selected},set:function(e){this.sidebar.clearFilter(),this.sidebar.selected=e}},{key:"getBaseUrl",value:function(){return this.baseUrl}},{key:"addInstalledExtension",value:function(e){this.installedExtensions.add(e)}}]),n}(oe["a"]),cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:e.$data.message||"windows.loadingWindow.titles.loading",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!1,isPersistent:!0,isFullscreen:!1,width:300,height:40},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-progress-linear",{attrs:{indeterminate:""}})]},proxy:!0}])})},un=[],ln={name:"LoadingWindow",components:{BaseWindow:de["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},dn=ln,pn=n("8e36"),hn=Object(fe["a"])(dn,cn,un,!1,null,null,null),fn=hn.exports;ve()(hn,{VProgressLinear:pn["a"]});var mn=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,fn),e.virtualWindows=0,e.loadingMessages=[],e.defineWindow(),e}return Object(c["a"])(n,[{key:"message",get:function(){return this.loadingMessages[this.loadingMessages.length-1]}},{key:"open",value:function(e){this.virtualWindows++,this.loadingMessages.push(e),this.isVisible||Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this)}},{key:"close",value:function(){this.virtualWindows--,this.loadingMessages.pop(),0===this.virtualWindows?Object(Ye["a"])(Object(Xe["a"])(n.prototype),"close",this).call(this):this.virtualWindows<0&&(this.virtualWindows=0)}},{key:"closeAll",value:function(){this.virtualWindows=0,this.loadingMessages=[],Object(Ye["a"])(Object(Xe["a"])(n.prototype),"close",this).call(this)}}]),n}(oe["a"]),vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("SidebarWindow",{attrs:{windowTitle:"windows.createPreset.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.createPreset.searchPresets"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[n("h1",{staticClass:"mt-2 d-flex align-center",class:{"mb-6":!e.content.description}},[n("v-icon",{staticClass:"mr-1",attrs:{large:""}},[e._v(e._s(e.content.icon))]),e._v(" "+e._s(e.content.name)+" ")],1),e.content.description?n("p",{staticClass:"mt-2 mb-6"},[e._v(" "+e._s(e.content.description)+" ")]):e._e(),e._l(e.content.fields,(function(t,r){var i=t[0],a=t[1],s=t[2];return void 0===s&&(s={}),[s.type&&"textInput"!==s.type?"fileInput"===s.type?n("v-file-input",{key:r,staticClass:"mb-1",attrs:{accept:s.accept,"prepend-icon":null,"prepend-inner-icon":s.icon||"mdi-paperclip",label:i,autocomplete:"off",outlined:"",dense:""},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}}):"selectInput"===s.type?n(s.options.length>4?"v-autocomplete":"v-select",{key:r,tag:"component",staticClass:"mb-1",attrs:{items:s.options,"menu-props":{maxHeight:220},label:i,autocomplete:"off",outlined:"",dense:""},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}}):"switch"===s.type?n("v-switch",{key:r,staticClass:"mb-1",attrs:{label:i},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}}):"numberInput"===s.type?n("v-slider",{key:r,staticClass:"mb-1",attrs:{min:s.min||0,max:s.max||10,discrete:"",step:s.step||1,"thumb-label":"always",label:i},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}}):e._e():n("v-text-field",{key:r,staticClass:"mb-1",attrs:{label:i,autocomplete:"off",outlined:"",dense:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onCreatePreset(t)}},model:{value:e.content.models[a],callback:function(t){e.$set(e.content.models,a,t)},expression:"content.models[id]"}})]}))]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:!e.fieldsReady,loading:!e.isPackIndexerReady},on:{click:e.onCreatePreset}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-plus")]),e._v(" Create ")],1)]},proxy:!0}],null,!1,1230400926),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}}):e._e()},bn=[],gn=n("bd74"),wn={name:"CreatePresetWindow",mixins:[le["a"],gn["a"]],components:{SidebarWindow:St},props:["currentWindow"],data:function(){return this.currentWindow},computed:{content:function(){return this.sidebar.currentState},fieldsReady:function(){var e=this;return Object.values(this.content.fields||{}).every((function(t){var n=Object(i["a"])(t,3),r=(n[0],n[1]),a=n[2],s=void 0===a?{}:a;return!!e.content.models[r]||s.optional}))}},methods:{onClose:function(){this.currentWindow.close()},onCreatePreset:function(){this.fieldsReady&&this.currentWindow.createPreset(this.content)}}},kn=wn,yn=n("23a7"),xn=n("ba0d"),jn=n("b73d"),On=Object(fe["a"])(kn,vn,bn,!1,null,null,null),Sn=On.exports;ve()(On,{VBtn:be["a"],VFileInput:yn["a"],VIcon:ge["a"],VSlider:xn["a"],VSpacer:we["a"],VSwitch:jn["a"],VTextField:Nt["a"]});n("a15b");var Cn=n("df7c"),Rn=n.n(Cn),Pn=Rn.a.dirname,_n=Rn.a.join,Fn=Rn.a.extname,Tn=Rn.a.basename,An=Rn.a.relative,En=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"general.confirm",isVisible:e.isVisible,isPersistent:!0,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:130,hasCloseButton:!1},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",{staticClass:"mt-2"},[e._v(e._s(e.t(e.$data.description)))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{on:{click:e.onCancel}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-close")]),n("span",[e._v(e._s(e.t(e.$data.cancelText)))])],1),n("v-btn",{attrs:{color:"primary"},on:{click:e.onConfirm}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-check")]),n("span",[e._v(e._s(e.t(e.$data.confirmText)))])],1)]},proxy:!0}],null,!1,3017271583)}):e._e()},Mn=[],Dn={name:"Confirm",mixins:[le["a"]],components:{BaseWindow:de["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onCancel:function(){this.currentWindow.onCancel()},onConfirm:function(){this.currentWindow.onConfirm()}}},Wn=Dn,Bn=Object(fe["a"])(Wn,En,Mn,!1,null,null,null),In=Bn.exports;ve()(Bn,{VBtn:be["a"],VIcon:ge["a"],VSpacer:we["a"]});var Vn=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,In,!0,!1),r.opts=e,r.defineWindow(),r.open(),r}return Object(c["a"])(n,[{key:"confirmText",get:function(){var e;return null!==(e=this.opts.confirmText)&&void 0!==e?e:"general.okay"}},{key:"cancelText",get:function(){var e;return null!==(e=this.opts.cancelText)&&void 0!==e?e:"general.cancel"}},{key:"description",get:function(){return this.opts.description}},{key:"onConfirm",value:function(){"function"===typeof this.opts.onConfirm&&this.opts.onConfirm(),this.close(!0)}},{key:"onCancel",value:function(){"function"===typeof this.opts.onCancel&&this.opts.onCancel(),this.close(!1)}}]),n}(oe["a"]);function Ln(e,t,n){return t.forEach((function(t){return e=e.replaceAll("{{".concat(t,"}}"),n[t])})),e}var Nn=n("4478");function $n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["Bridge"];return Hn(e,n,!0).apply(void 0,Object(k["a"])(Array.isArray(t)?t:[t]))}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["Bridge"];return Hn(e,n).apply(void 0,Object(k["a"])(Array.isArray(t)?t:[t]))}function Hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["Bridge"],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?Object(Nn["a"])(Function,Object(k["a"])(t).concat(["return (async () => {\n".concat(e,"\n})()")])):Object(Nn["a"])(Function,Object(k["a"])(t).concat([e]))}function Un(e,t,n,r){return qn.apply(this,arguments)}function qn(){return qn=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,i){var a,o,c,u,l,d,p,h,f,m,v,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return o=e.sent,c=null===(a=o.project)||void 0===a?void 0:a.fileSystem,u=o.fileSystem,n=n.replaceAll("./",t.replace("data/packages/","")+"/"),e.next=8,u.readFile("data/packages/".concat(n));case 8:return l=e.sent,e.next=11,l.text();case 11:d=e.sent,p={},e.prev=13,zn(d,p,["module"]),e.next=20;break;case 17:throw e.prev=17,e.t0=e["catch"](13),new Error('Failed to execute PresetScript "'.concat(n,'": ').concat(e.t0));case 20:if("function"===typeof p.exports){e.next=22;break}throw new Error('Failed to execute PresetScript "'.concat(n,'": module.exports is of type ').concat(Object(K["a"])(p.exports)));case 22:return h=[],f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{inject:[]};return"string"!==typeof t&&(t=JSON.stringify(t,null,"\t")),m(e,t,n)},m=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,o,u,l,d,p=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=p.length>2&&void 0!==p[2]?p[2]:{inject:[]},s=a.inject,o=void 0===s?[]:s,e.t0=void 0===i.mayOverwriteFiles,!e.t0){e.next=6;break}return e.next=5,c.fileExists(t);case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=19;break}return u=new Vn({description:"windows.createPreset.overwriteFiles",confirmText:"windows.createPreset.overwriteFilesConfirm"}),e.next=10,u.fired;case 10:if(l=e.sent,!l){e.next=15;break}i.mayOverwriteFiles=!0,e.next=17;break;case 15:return i.mayOverwriteFiles=!1,e.abrupt("return");case 17:e.next=21;break;case 19:if(!1!==i.mayOverwriteFiles){e.next=21;break}return e.abrupt("return");case 21:return e.next=23,c.getFileHandle(t,!0);case 23:d=e.sent,h.push(d),c.write(d,"string"===typeof n?Ln(n,o,r):n);case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,s,u,l,d,p,f,m,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=v.length>2&&void 0!==v[2]?v[2]:{inject:[]},s=a.inject,u=void 0===s?[]:s,e.next=3,o.project.fileSystem.getFileHandle(t,!0);case 3:if(l=e.sent,void 0!==i.mayOverwriteUnsavedChanges){e.next=22;break}return e.next=7,o.project.getFileTab(l);case 7:if(d=e.sent,void 0===d||!d.isUnsaved){e.next=20;break}return p=new Vn({description:"windows.createPreset.overwriteUnsavedChanges",confirmText:"windows.createPreset.overwriteUnsavedChangesConfirm"}),e.next=12,p.fired;case 12:if(f=e.sent,!f){e.next=18;break}i.mayOverwriteUnsavedChanges=!0,d.close(),e.next=20;break;case 18:return i.mayOverwriteUnsavedChanges=!1,e.abrupt("return");case 20:e.next=24;break;case 22:if(!1!==i.mayOverwriteUnsavedChanges){e.next=24;break}return e.abrupt("return");case 24:return m="",e.prev=25,e.next=28,c.readFile(t);case 28:return e.next=30,e.sent.text();case 30:m=e.sent,e.next=35;break;case 33:e.prev=33,e.t0=e["catch"](25);case 35:if(n=Ln(n,u,r),h.push(l),"string"!==typeof n){e.next=42;break}return e.next=40,c.writeFile(t,"".concat(m,"\n").concat(n));case 40:e.next=44;break;case 42:return e.next=44,c.writeJSON(t,Q(G.a.parse(m),G.a.parse(n)));case 44:case"end":return e.stop()}}),e,null,[[25,33]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(e){return u.readFile("".concat(t,"/").concat(e))},e.next=29,p.exports({models:r,createFile:m,expandFile:v,loadPresetFile:b,createJSONFile:f});case 29:return e.abrupt("return",h);case 30:case"end":return e.stop()}}),e,null,[[13,17]])}))),qn.apply(this,arguments)}function Jn(e,t,n){return Gn.apply(this,arguments)}function Gn(){return Gn=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,s,o,c,u,l,d,p,h,f,m,v,b,g,w,k,y,x;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=Object(i["a"])(n,3),o=s[0],c=s[1],u=s[2],e.next=3,_c.getApp();case 3:return l=e.sent,d=l.fileSystem,p=null!==(a=null===u||void 0===u?void 0:u.inject)&&void 0!==a?a:[],h="".concat(t,"/").concat(o),f=Ln("projects/".concat(l.selectedProject,"/").concat(c),p,r),m=Fn(f),e.next=11,d.mkdir(Object(Cn["dirname"])(f),{recursive:!0});case 11:if(".json"!==m){e.next=29;break}return e.next=14,d.readJSON(h);case 14:return b=e.sent,e.prev=15,e.next=18,d.readJSON(f);case 18:g=e.sent,e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](15),g={};case 24:return e.next=26,d.writeFile(f,Ln(JSON.stringify(Q(g,b),null,"\t"),p,r));case 26:v=e.sent,e.next=50;break;case 29:return e.next=31,d.readFile(h);case 31:return w=e.sent,e.next=34,w.text();case 34:return k=e.sent,e.prev=35,e.next=38,d.readFile(f);case 38:return e.next=40,e.sent.text();case 40:y=e.sent,e.next=46;break;case 43:e.prev=43,e.t1=e["catch"](35),y="";case 46:return x=Ln(k,p,r),e.next=49,d.writeFile(f,"".concat(y).concat(""!==y?"\n":"").concat(x));case 49:v=e.sent;case 50:return e.abrupt("return",v);case 51:case"end":return e.stop()}}),e,null,[[15,21],[35,43]])}))),Gn.apply(this,arguments)}var Kn=[".mcfunction",".json",".js",".ts",".txt",".molang"];function Qn(e,t,n){return Zn.apply(this,arguments)}function Zn(){return Zn=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,s,o,c,u,l,d,p,h,f,m,v,b,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=Object(i["a"])(n,3),o=s[0],c=s[1],u=s[2],e.next=3,_c.getApp();case 3:return l=e.sent,d=l.fileSystem,p=null!==(a=null===u||void 0===u?void 0:u.inject)&&void 0!==a?a:[],h="".concat(t,"/").concat(o),f=Ln("projects/".concat(l.selectedProject,"/").concat(c),p,r),m=Fn(f),e.next=11,d.mkdir(Object(Cn["dirname"])(f),{recursive:!0});case 11:if(0!==p.length&&Kn.includes(m)){e.next=17;break}return e.next=14,d.copyFile(h,f);case 14:v=e.sent,e.next=26;break;case 17:return e.next=19,d.readFile(h);case 19:return b=e.sent,e.next=22,b.text();case 22:return g=e.sent,e.next=25,d.writeFile(f,Ln(g,p,r));case 25:v=e.sent;case 26:return e.abrupt("return",v);case 27:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}var Yn=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,Sn),e.loadPresetPaths=new Map,e.sidebar=new nt([]),e.defineWindow(),e}return Object(c["a"])(n,[{key:"addPreset",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,s,o,c,u,l,d,h,f,m,v,b,g,w,k;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return l=e.sent,e.next=5,t.readJSON(n);case 5:if(d=e.sent,d.category){e.next=8;break}throw new Error("Error loading ".concat(n,": Missing preset category"));case 8:if(null!==(r=l.project)&&void 0!==r&&r.hasPacks(null!==(s=d.packTypes)&&void 0!==s?s:[])){e.next=10;break}return e.abrupt("return");case 10:if(!d.requiredModules){e.next=36;break}return e.next=13,l.projectConfig.get("gameTestAPI");case 13:return h=e.sent,e.next=16,l.projectConfig.get("scriptingAPI");case 16:f=e.sent,m=Object(a["a"])(d.requiredModules),e.prev=18,m.s();case 20:if((v=m.n()).done){e.next=28;break}if(b=v.value,"gameTest"!=b||h){e.next=24;break}return e.abrupt("return");case 24:if("scriping"!=b||f){e.next=26;break}return e.abrupt("return");case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e["catch"](18),m.e(e.t0);case 33:return e.prev=33,m.f(),e.finish(33);case 36:return e.next=38,l.projectConfig.get("targetVersion");case 38:if(e.t2=o=e.sent,e.t1=null!==e.t2,!e.t1){e.next=42;break}e.t1=void 0!==o;case 42:if(!e.t1){e.next=46;break}e.t3=o,e.next=49;break;case 46:return e.next=48,l.fileSystem.readJSON("data/packages/formatVersions.json");case 48:e.t3=e.sent.pop();case 49:if(g=e.t3,!d.targetVersion||Object(Ht["compare"])(g,d.targetVersion[1],d.targetVersion[0])){e.next=52;break}return e.abrupt("return");case 52:return w=this.sidebar.rawElements.find((function(e){return e.getText()===d.category})),w||(w=new et({isOpen:!1,text:d.category,items:[]}),this.sidebar.addElement(w)),k=Object(p["a"])(),w.addItem(new tt({id:k,text:d.name,icon:d.icon,color:"primary"})),e.t4=this.sidebar,e.t5=k,e.t6=Y["a"],e.t7=Object(Y["a"])({},d),e.t8={},e.t9=Pn(n),e.t10=Y["a"],e.t11=Y["a"],e.next=66,l.projectConfig.get("prefix");case 66:if(e.t13=c=e.sent,e.t12=null!==e.t13,!e.t12){e.next=70;break}e.t12=void 0!==c;case 70:if(!e.t12){e.next=74;break}e.t14=c,e.next=75;break;case 74:e.t14="bridge";case 75:e.t15=e.t14,e.t16={PROJECT_PREFIX:e.t15},e.t17=null!==(u=d.additionalModels)&&void 0!==u?u:{},e.t18=(0,e.t11)(e.t16,e.t17),e.t19=Object.fromEntries(d.fields.map((function(e){var t,n=Object(i["a"])(e,3),r=(n[0],n[1]),a=n[2],s=void 0===a?{}:a;return[r,null!==(t=s.default)&&void 0!==t?t:null]}))),e.t20=(0,e.t10)(e.t18,e.t19),e.t21={presetPath:e.t9,models:e.t20},e.t22=(0,e.t6)(e.t7,e.t8,e.t21),e.t4.setState.call(e.t4,e.t5,e.t22);case 84:case"end":return e.stop()}}),e,this,[[18,30,33,36]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadPresets",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:"data/packages/preset",r=[],e.prev=2,e.next=5,t.readdir(n,{withFileTypes:!0});case 5:r=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](2);case 10:i=Object(a["a"])(r),e.prev=11,i.s();case 13:if((s=i.n()).done){e.next=26;break}if(o=s.value,"directory"!==o.kind){e.next=20;break}return e.next=18,this.loadPresets(t,"".concat(n,"/").concat(o.name));case 18:e.next=24;break;case 20:if("manifest.json"!==o.name){e.next=24;break}return e.next=23,this.addPreset(t,"".concat(n,"/").concat(o.name));case 23:return e.abrupt("return",e.sent);case 24:e.next=13;break;case 26:e.next=31;break;case 28:e.prev=28,e.t1=e["catch"](11),i.e(e.t1);case 31:return e.prev=31,i.f(),e.finish(31);case 34:case"end":return e.stop()}}),e,this,[[2,8],[11,28,31,34]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,s,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return t=e.sent,r=t.fileSystem,t.windows.loadingWindow.open(),this.sidebar.removeElements(),e.next=8,this.loadPresets(r);case 8:s=Object(a["a"])(this.loadPresetPaths),e.prev=9,s.s();case 11:if((o=s.n()).done){e.next=17;break}return c=Object(i["a"])(o.value,2),c[0],u=c[1],e.next=15,this.loadPresets(r,u);case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](9),s.e(e.t0);case 22:return e.prev=22,s.f(),e.finish(22);case 25:this.sidebar.setDefaultSelected(),t.windows.loadingWindow.close(),Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this);case 28:case"end":return e.stop()}}),e,this,[[9,19,22,25]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"addPresets",value:function(e){var t=this,n=Object(p["a"])();return this.loadPresetPaths.set(n,e),{dispose:function(){return t.loadPresetPaths.delete(n)}}}},{key:"createPreset",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,o,c,u,l,d,p,h,f,m,v,b,g,w,y,x,j,O,S,C,R,P,_,F,T,A,E,M,D,W,B,I,V=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.presetPath,i=t.createFiles,o=void 0===i?[]:i,c=t.expandFiles,u=void 0===c?[]:c,r){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_c.getApp();case 5:l=e.sent,l.windows.loadingWindow.open(),d=null===(n=l.project)||void 0===n?void 0:n.fileSystem,p=[],h=[],f={mayOverwriteFiles:void 0,mayOverwriteUnsavedChanges:void 0},m=Object(a["a"])(o),e.prev=12,m.s();case 14:if((v=m.n()).done){e.next=35;break}if(w=v.value,"string"!==typeof w){e.next=18;break}return e.abrupt("continue",33);case 18:return y=Ln(w[1],null!==(b=null===(g=w[2])||void 0===g?void 0:g.inject)&&void 0!==b?b:[],this.sidebar.currentState.models),e.next=21,d.fileExists(y);case 21:if(!e.sent){e.next=33;break}return x=new Vn({description:"windows.createPreset.overwriteFiles",confirmText:"windows.createPreset.overwriteFilesConfirm"}),e.next=25,x.fired;case 25:if(j=e.sent,!j){e.next=31;break}return f.mayOverwriteFiles=!0,e.abrupt("break",35);case 31:return l.windows.loadingWindow.close(),e.abrupt("return");case 33:e.next=14;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e["catch"](12),m.e(e.t0);case 40:return e.prev=40,m.f(),e.finish(40);case 43:O=l.project,S=Object(a["a"])(u),e.prev=45,S.s();case 47:if((C=S.n()).done){e.next=72;break}if(_=C.value,"string"!==typeof _){e.next=51;break}return e.abrupt("continue",70);case 51:return F=Ln(_[1],null!==(R=null===(P=_[2])||void 0===P?void 0:P.inject)&&void 0!==R?R:[],this.sidebar.currentState.models),e.next=54,O.fileSystem.getFileHandle(F);case 54:return T=e.sent,e.next=57,O.getFileTab(T);case 57:if(A=e.sent,void 0===A||!A.isUnsaved){e.next=70;break}return E=new Vn({description:"windows.createPreset.overwriteUnsavedChanges",confirmText:"windows.createPreset.overwriteUnsavedChangesConfirm"}),e.next=62,E.fired;case 62:if(M=e.sent,!M){e.next=68;break}f.mayOverwriteUnsavedChanges=!0,O.closeFile(T),e.next=70;break;case 68:return l.windows.loadingWindow.close(),e.abrupt("return");case 70:e.next=47;break;case 72:e.next=77;break;case 74:e.prev=74,e.t1=e["catch"](45),S.e(e.t1);case 77:return e.prev=77,S.f(),e.finish(77);case 80:return p.push.apply(p,Object(k["a"])(o.map(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=11;break}return e.t0=h.push,e.t1=h,e.t2=k["a"],e.next=6,Un(r,t,V.sidebar.currentState.models,f);case 6:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),e.next=16;break;case 11:return e.t5=h,e.next=14,Qn(r,t,V.sidebar.currentState.models);case 14:e.t6=e.sent,e.t5.push.call(e.t5,e.t6);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).concat(Object(k["a"])(u.map(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=h,e.next=3,Jn(r,t,V.sidebar.currentState.models);case 3:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))),e.next=83,Promise.all(p);case 83:!1!==f.mayOverwriteFiles&&this.close(),D=0,W=h;case 85:if(!(D<W.length)){e.next=96;break}return B=W[D],e.next=89,l.project.getProjectPath(B);case 89:return I=e.sent,e.next=92,l.project.updateFile(I);case 92:l.project.openFile(B,B===h[h.length-1]);case 93:D++,e.next=85;break;case 96:l.windows.loadingWindow.close();case 97:case"end":return e.stop()}}),e,this,[[12,37,40,43],[45,74,77,80]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(oe["a"]),Xn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.createProject.title",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!e.isFirstProject,isFullscreen:!1,isPersistent:e.isCreatingProject||e.isFirstProject,percentageWidth:80,percentageHeight:80},on:{closeWindow:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[e.isFirstProject?n("div",{staticClass:"rounded-lg pa-3 content-area mb-2"},[n("h1",{staticClass:"text-h4"},[e._v(" "+e._s(e.t("windows.createProject.welcome"))+" ")]),n("span",[e._v(" "+e._s(e.t("windows.createProject.welcomeDescription"))+" ")])]):e._e(),n("v-row",{staticClass:"mb-6",attrs:{"no-gutters":""}},e._l(e.availablePackTypes,(function(t,r){return n("PackTypeViewer",{key:t.id,class:{"mr-1":0===r,"ml-1":r+1===e.availablePackTypes.length,"mx-1":r>0&&r+1<e.availablePackTypes.length},attrs:{packType:t,isSelectable:"",selected:e.createOptions.packs.includes(t.packPath)},on:{click:function(n){return e.togglePack(t.packPath)}},scopedSlots:e._u(["BP"===t.packPath?{key:"default",fn:function(t){var r=t.selected;return[n("v-switch",{staticClass:"mt-3",attrs:{inset:"",dense:"",label:e.t("windows.createProject.scripting"),value:e.createOptions.scripting,disabled:!r},nativeOn:{click:function(t){t.stopPropagation(),e.createOptions.scripting=!e.createOptions.scripting}}}),n("v-switch",{staticClass:"ma-0",attrs:{inset:"",dense:"",label:e.t("windows.createProject.gameTest"),value:e.createOptions.gameTest,disabled:!r},nativeOn:{click:function(t){t.stopPropagation(),e.createOptions.gameTest=!e.createOptions.gameTest}}})]}}:"RP"===t.packPath?{key:"default",fn:function(t){var r=t.selected;return[n("v-switch",{staticClass:"mt-3",attrs:{inset:"",dense:"",label:e.t("windows.createProject.rpAsBpDependency"),value:e.createOptions.rpAsBpDependency&&e.createOptions.packs.includes("BP"),disabled:!r||!e.createOptions.packs.includes("BP")},nativeOn:{click:function(t){t.stopPropagation(),e.createOptions.rpAsBpDependency=!e.createOptions.rpAsBpDependency}}})]}}:null],null,!0)})})),1),n("div",{staticClass:"d-flex"},[n("v-file-input",{staticClass:"mr-2",attrs:{label:e.t("windows.createProject.packIcon"),"prepend-icon":null,"prepend-inner-icon":"mdi-image-outline",accept:"image/png",outlined:"",dense:""},model:{value:e.createOptions.icon,callback:function(t){e.$set(e.createOptions,"icon",t)},expression:"createOptions.icon"}}),n("v-text-field",{staticClass:"ml-2",attrs:{label:e.t("windows.createProject.projectName"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.name,callback:function(t){e.$set(e.createOptions,"name",t)},expression:"createOptions.name"}})],1),n("v-text-field",{attrs:{label:e.t("windows.createProject.projectDescription"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.description,callback:function(t){e.$set(e.createOptions,"description",t)},expression:"createOptions.description"}}),n("div",{staticClass:"d-flex"},[n("v-text-field",{staticClass:"mr-2",attrs:{label:e.t("windows.createProject.projectPrefix"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.prefix,callback:function(t){e.$set(e.createOptions,"prefix",t)},expression:"createOptions.prefix"}}),n("v-text-field",{staticClass:"mx-2",attrs:{label:e.t("windows.createProject.projectAuthor"),autocomplete:"off",outlined:"",dense:""},model:{value:e.createOptions.author,callback:function(t){e.$set(e.createOptions,"author",t)},expression:"createOptions.author"}}),n("v-autocomplete",{staticClass:"ml-2",attrs:{label:e.t("windows.createProject.projectTargetVersion"),autocomplete:"off",items:e.availableTargetVersions,loading:e.availableTargetVersionsLoading,outlined:"",dense:"","menu-props":{maxHeight:220}},model:{value:e.createOptions.targetVersion,callback:function(t){e.$set(e.createOptions,"targetVersion",t)},expression:"createOptions.targetVersion"}})],1),n("div",{staticClass:"d-flex"},[n("v-switch",{staticClass:"ma-3",attrs:{inset:"",dense:"",label:e.t("windows.createProject.useLangForManifest"),value:e.createOptions.useLangForManifest},nativeOn:{click:function(t){t.stopPropagation(),e.createOptions.useLangForManifest=!e.createOptions.useLangForManifest}}})],1)]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:!e.currentWindow.hasRequiredData,loading:e.shouldLoad},on:{click:e.createProject}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-plus")]),n("span",[e._v(e._s(e.t("windows.createProject.create")))])],1)]},proxy:!0}],null,!1,3679639782)}):e._e()},er=[],tr=(n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-col",{directives:[{name:"ripple",rawName:"v-ripple",value:e.isSelectable,expression:"isSelectable"}],class:{"rounded-lg pa-3 content-area":!0,selected:e.selected},on:{click:function(t){return t.stopPropagation(),e.$emit("click")}}},[n("div",{staticClass:"d-flex"},[n("v-icon",{staticClass:"mr-2",attrs:{color:e.packType.color}},[e._v(" "+e._s(e.packType.icon)+" ")]),n("span",{staticClass:"text-h6"},[e._v(" "+e._s(e.t("packType."+e.packType.id+".name"))+" ")])],1),e.isSelectable?n("div",{staticClass:"d-flex align-center mb-2"},[e.selected?[n("v-icon",{staticClass:"mr-1",attrs:{color:"success",small:""}},[e._v(" mdi-checkbox-marked-circle-outline ")]),n("span",[e._v(" "+e._s(e.t("windows.createProject.selectedPack"))+" ")])]:[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v(" mdi-checkbox-blank-circle-outline ")]),n("span",[e._v(" "+e._s(e.t("windows.createProject.omitPack"))+" ")])]],2):e._e(),e.packType.version?n("div",{staticClass:"mb-2"},[e._v(" Pack Version: v"+e._s(e.packType.version.join("."))+" ")]):e._e(),n("span",[e._v(e._s(e.t("packType."+e.packType.id+".description")))]),e._t("default",null,{selected:e.selected})],2)}),nr=[],rr={name:"PackTypeViewer",mixins:[le["a"]],props:{packType:Object,selected:Boolean,isSelectable:Boolean}},ir=rr,ar=(n("703d"),n("62ad")),sr=Object(fe["a"])(ir,tr,nr,!1,null,"b0f687dc",null),or=sr.exports;ve()(sr,{VCol:ar["a"],VIcon:ge["a"]}),pt()(sr,{Ripple:ht["a"]});var cr=n("b4a2"),ur={name:"CreateProjectWindow",mixins:[le["a"],cr["a"],gn["a"]],components:{BaseWindow:de["a"],PackTypeViewer:or},props:["currentWindow"],data:function(){return this.currentWindow},computed:{shouldLoad:function(){return this.isFirstProject?this.isCreatingProject:this.isCreatingProject||!this.isCompilerReady||!this.isPackIndexerReady}},methods:{close:function(){this.currentWindow.close()},createProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isCreatingProject=!0,t.next=3,e.currentWindow.createProject();case 3:e.isCreatingProject=!1,e.currentWindow.close();case 5:case"end":return t.stop()}}),t)})))()},togglePack:function(e){var t=this.createOptions.packs,n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e)},setModel:function(e,t){console.log(e,t),this.createOptions[e]=t}}},lr=ur,dr=(n("3e36"),n("c6a6")),pr=n("0fd9"),hr=Object(fe["a"])(lr,Xn,er,!1,null,"3ad56f20",null),fr=hr.exports;ve()(hr,{VAutocomplete:dr["a"],VBtn:be["a"],VFileInput:yn["a"],VIcon:ge["a"],VRow:pr["a"],VSpacer:we["a"],VSwitch:jn["a"],VTextField:Nt["a"]});var mr=function(){function e(){Object(o["a"])(this,e)}return Object(c["a"])(e,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir(this.packPath);case 2:r=Object(a["a"])(this.createFiles),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=11;break}return s=i.value,e.next=9,s.create(t,n);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),vr=(n("a9e3"),function e(){Object(o["a"])(this,e)}),br=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.pack=e,r}return Object(c["a"])(n,[{key:"type",get:function(){switch(this.pack){case"BP":return"data";case"RP":return"resources";case"SP":return"skin_pack"}}},{key:"create",value:function(e,t){var n={format_version:2,header:{name:t.useLangForManifest?t.name:"pack.name",description:t.useLangForManifest?t.description:"pack.description",min_engine_version:(this.type,t.targetVersion.split(".").map((function(e){return Number(e)}))),uuid:Object(p["a"])(),version:[1,0,0]},modules:[{description:t.description,type:this.type,uuid:Object(p["a"])(),version:[1,0,0]}]};if(t.rpAsBpDependency&&t.packs.includes("RP"))if("resources"===this.type)t.rpUuid=n.header.uuid;else if("data"===this.type){if(!t.rpUuid)throw new Error("Trying to register RP uuid before it was defined");n.dependencies=[{uuid:t.rpUuid,version:[1,0,0]}]}return"data"===this.type&&t.scripting&&n.modules.push({type:"client_data",uuid:Object(p["a"])(),version:[1,0,0]}),"data"===this.type&&t.gameTest&&(n.modules.push({type:"javascript",uuid:Object(p["a"])(),entry:"scripts/gametests/Main.js",version:[1,0,0]}),n.dependencies||(n.dependencies=[]),n.dependencies.push({uuid:"b26a4d4c-afdf-4690-88f8-931846312678",version:[0,1,0]},{uuid:"6f4b6893-1bb6-42fd-b458-7fa3d0c89616",version:[0,1,0]})),e.writeJSON("".concat(this.pack,"/manifest.json"),n,!0)}}]),n}(vr),gr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.packPath=e,r}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(("BP"==this.packPath||"SP"==this.packPath)&&n.useLangForManifest){e.next=7;break}return e.next=3,t.mkdir("".concat(this.packPath,"/texts"));case 3:return e.next=5,t.writeFile("".concat(this.packPath,"/texts/en_US.lang"),n.useLangForManifest?"":"pack.name=".concat(n.name," ").concat(this.packPath,"\npack.description=").concat(n.description));case 5:return e.next=7,t.writeJSON("".concat(this.packPath,"/texts/languages.json"),["en_US"],!0);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),wr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.packPath=e,r}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=n.icon,r){e.next=8;break}return e.next=4,_c.getApp();case 4:return i=e.sent,e.next=7,i.fileSystem.readFile("data/packages/packIcon.png");case 7:r=e.sent;case 8:return e.next=10,t.writeFile("".concat(this.packPath,"/pack_icon.png"),r);case 10:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),kr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("BP/functions/tick.json",{values:[]},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),yr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.gameTest){e.next=5;break}return e.next=3,t.mkdir("BP/scripts/gametests",{recursive:!0});case 3:return e.next=5,t.writeFile("BP/scripts/gametests/Main.js","");case 5:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),xr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return n=e.sent,e.next=5,n.fileSystem.readFile("data/packages/vanilla/player.json");case 5:return r=e.sent,e.next=8,t.writeFile("BP/entities/player.json",r);case 8:return e.next=10,t.writeFile("BP/loot_tables/empty.json","{}");case 10:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(vr),jr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.packPath="BP",e.createFiles=[new br(e.packPath),new gr(e.packPath),new wr(e.packPath),new kr,new yr,new xr],e}return n}(mr),Or=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("RP/blocks.json",{format_version:[1,1,0]},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),Sr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("RP/textures",{recursive:!0});case 2:return e.next=4,t.writeJSON("RP/textures/item_texture.json",{resource_pack_name:n.name,texture_name:"atlas.items",texture_data:{}},!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),Cr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("RP/textures",{recursive:!0});case 2:return e.next=4,t.writeJSON("RP/textures/terrain_texture.json",{num_mip_levels:4,padding:8,resource_pack_name:n.name,texture_name:"atlas.terrain",texture_data:{}},!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),Rr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("RP/textures",{recursive:!0});case 2:return e.next=4,t.writeJSON("RP/textures/flipbook_texture.json",[],!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),Pr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("RP/biomes_client.json",{biomes:{}},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),_r=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("RP/sounds.json",{},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),Fr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("RP/sounds",{recursive:!0});case 2:return e.next=4,t.writeJSON("RP/sounds/sound_definitions.json",{sound_definitions:{}},!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),Tr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.packPath="RP",e.createFiles=[new br(e.packPath),new gr(e.packPath),new wr(e.packPath),new Or,new Sr,new Cr,new Rr,new Pr,new _r,new Fr],e}return n}(mr),Ar=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(e,t){return e.writeJSON("SP/skins.json",{geometry:"skinpacks/skins.json",skins:[],serialize_name:t.prefix,localization_name:t.prefix},!0)}}]),n}(vr),Er=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.packPath="SP",e.createFiles=[new br(e.packPath),new gr(e.packPath),new wr(e.packPath),new Ar],e}return n}(mr),Mr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.mkdir("bridge/compiler");case 2:return e.next=4,t.writeJSON("bridge/compiler/default.json",{icon:"mdi-cogs",name:"Default Script",description:'Transforms the "bridge." folder structure to "com.mojang". "bridge." runs it automatically in dev mode in the background to enable fast, incremental builds for testing.',plugins:["typeScript","entityIdentifierAlias","customEntityComponents","customItemComponents","customBlockComponents","moLang",["simpleRewrite",{packName:n.name}]]},!0);case 4:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),Dr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeJSON("bridge/config.json",{prefix:n.prefix,author:n.author,targetVersion:n.targetVersion,description:n.description,gameTestAPI:n.gameTest,scriptingAPI:n.scripting},!0);case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),Wr=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.packPath="bridge",e.createFiles=[new Dr,new Mr],e}return n}(mr),Br=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"create",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.writeFile(".gitignore","Desktop.ini    \n.DS_Store \n!bridge/\nbridge/*\n!bridge/compiler/\n!bridge/extensions\n!bridge/config.json\nbuilds");case 2:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(vr),Ir=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,fr,!1),e.isFirstProject=!1,e.createOptions=e.getDefaultOptions(),e.isCreatingProject=!1,e.availableTargetVersions=[],e.availableTargetVersionsLoading=!0,e.packs={BP:new jr,RP:new Tr,SP:new Er,bridge:new Wr},e.availablePackTypes=[],e.createFiles=[new Br],e.defineWindow(),_c.ready.once(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.dataLoader.fired;case 2:return t.next=4,n.fileSystem.readJSON("data/packages/formatVersions.json");case 4:e.availableTargetVersions=t.sent,e.createOptions.targetVersion=e.availableTargetVersions[e.availableTargetVersions.length-1],e.availableTargetVersionsLoading=!1;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),He["a"].ready.once((function(){e.availablePackTypes=He["a"].all().filter((function(e){var t=e.id;return"worldTemplate"!==t}))})),e}return Object(c["a"])(n,[{key:"hasRequiredData",get:function(){return this.createOptions.name.length>0&&this.createOptions.prefix.length>0&&this.createOptions.author.length>0&&this.createOptions.targetVersion.length>0}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isFirstProject=e,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this)}},{key:"createProject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,c,u,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return t=e.sent,n=t.fileSystem,e.next=6,n.getDirectoryHandle("projects/".concat(this.createOptions.name),{create:!0});case 6:r=e.sent,i=new se["a"](r),s=Object(a["a"])(this.createFiles),e.prev=9,s.s();case 11:if((o=s.n()).done){e.next=17;break}return c=o.value,e.next=15,c.create(i,this.createOptions);case 15:e.next=11;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](9),s.e(e.t0);case 22:return e.prev=22,s.f(),e.finish(22);case 25:u=this.createOptions.packs.sort((function(e,t){return t.localeCompare(e)})),l=Object(a["a"])(u),e.prev=27,l.s();case 29:if((d=l.n()).done){e.next=35;break}return p=d.value,e.next=33,this.packs[p].create(i,this.createOptions);case 33:e.next=29;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e["catch"](27),l.e(e.t1);case 40:return e.prev=40,l.f(),e.finish(40);case 43:return e.next=45,t.projectManager.addProject(r);case 45:this.createOptions=this.getDefaultOptions();case 46:case"end":return e.stop()}}),e,this,[[9,19,22,25],[27,37,40,43]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDefaultOptions",value:function(){return{author:"",description:"",icon:null,name:"",prefix:"bridge",targetVersion:"",packs:["bridge","BP","RP"],scripting:!1,gameTest:!1,rpAsBpDependency:!0,useLangForManifest:!1}}}]),n}(oe["a"]),Vr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:"windows.openFile.title",isVisible:e.isVisible,hasMaximizeButton:!1,hasCloseButton:!0,isFullscreen:!1,width:460,height:120},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-autocomplete",{attrs:{label:e.t("windows.openFile.search"),items:e.packFiles,dense:"","no-data-text":e.t("windows.openFile.noData"),outlined:"",autofocus:"","auto-select-first":""},on:{change:e.onChange},model:{value:e.selectedFile,callback:function(t){e.selectedFile=t},expression:"selectedFile"}})]},proxy:!0}])})},Lr=[],Nr={name:"OpenFileWindow",mixins:[le["a"]],components:{BaseWindow:de["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onChange:function(e){e&&this.currentWindow.openFile(e)}}},$r=Nr,zr=Object(fe["a"])($r,Vr,Lr,!1,null,null,null),Hr=zr.exports;ve()(zr,{VAutocomplete:dr["a"]});var Ur=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,Hr,!1,!0),e.packFiles=[],e.selectedFile="",e.isCurrentlyOpening=!1,e.defineWindow(),e}return Object(c["a"])(n,[{key:"open",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isCurrentlyOpening){e.next=2;break}return e.abrupt("return");case 2:return this.isCurrentlyOpening=!0,this.selectedFile="",e.next=6,_c.getApp();case 6:if(r=e.sent,r.windows.loadingWindow.open(),i=null===(t=r.project)||void 0===t?void 0:t.packIndexer,!i){e.next=22;break}return e.next=12,null===(s=i.service)||void 0===s?void 0:s.getAllFiles(!0);case 12:if(e.t1=a=e.sent,e.t0=null!==e.t1,!e.t0){e.next=16;break}e.t0=void 0!==a;case 16:if(!e.t0){e.next=20;break}e.t2=a,e.next=21;break;case 20:e.t2=[];case 21:this.packFiles=e.t2;case 22:r.windows.loadingWindow.close(),Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this),this.isCurrentlyOpening=!1;case 25:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openFile",value:function(e){_c.ready.once(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.fileSystem.getFileHandle("projects/".concat(n.selectedProject,"/").concat(e));case 2:i=t.sent,null===(r=n.project)||void 0===r||r.openFile(i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.close()}}]),n}(oe["a"]),qr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("SidebarWindow",{attrs:{windowTitle:"windows.packExplorer.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements,actions:e.actions},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.packExplorer.searchFiles"),autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(t){var r=t.selectedSidebar;return["directory"===e.sidebar.currentElement.kind?n("div",[n("h1",{staticClass:"mt-2 mb-6 d-flex align-center"},[n("v-icon",{staticClass:"mr-1",attrs:{large:"",color:e.sidebar.currentState.color}},[e._v(" "+e._s(e.sidebar.currentState.icon)+" ")]),e._v(" "+e._s(e.sidebar.currentState.text)+" ")],1),n("FileDisplayer",{key:r,attrs:{startPath:r?r.split("/"):void 0,entry:e.sidebar.currentState.directoryEntry},on:{closeWindow:e.onClose}})],1):"file"===e.sidebar.currentElement.kind?n("div",{staticClass:"body-1"},[n("h1",{staticClass:"mt-2 mb-6 d-flex align-center"},[n("v-icon",{staticClass:"mr-1",attrs:{large:"",color:e.sidebar.currentState.color}},[e._v(" "+e._s(e.sidebar.currentState.icon)+" ")]),e._v(" "+e._s(e.sidebar.currentState.text)+" ")],1),n("p",[n("strong",[e._v("Path:")]),e._v(" "+e._s(r))]),n("div",{staticClass:"mt-8 d-flex"},[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.openFile(r)}}},[e._v(" Open ")])],1)]):e._e()]}}],null,!1,1683312880),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}}):e._e()},Jr=[],Gr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.directoryEntry&&!e.directoryEntry.isLoading&&e.isPackIndexerReady?n("div",{staticClass:"body-1"},[e._l(e.directoryEntry.children,(function(t){return[t.isFile?n("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.uuid,staticClass:"file rounded-lg",on:{click:function(n){return n.stopPropagation(),e.onClick(t)}}},[n("v-icon",{attrs:{color:t.color,small:""}},[e._v(" "+e._s(t.icon||"mdi-file-outline")+" ")]),e._v(" "+e._s(t.name)+" ")],1):n("details",{key:t.uuid,staticClass:"folder",attrs:{open:t.isFolderOpen}},[n("summary",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"d-flex rounded-lg",on:{click:function(n){return n.preventDefault(),e.onClick(t)}}},[n("v-icon",{staticClass:"pr-1",attrs:{color:t.color,small:""}},[e._v(" "+e._s(t.isFolderOpen?"mdi-folder-open":"mdi-folder")+" ")]),n("span",{staticClass:"folder"},[e._v(e._s(t.name))])],1),n("FileDisplayer",{attrs:{entry:t},on:{closeWindow:function(t){return e.$emit("closeWindow")}}})],1)]}))],2):n("v-progress-linear",{attrs:{indeterminate:""}})},Kr=[],Qr=n("8ed7"),Zr=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(o["a"])(this,e),this.fileSystem=t,this.parent=n,this.path=r,this._isFile=i,this.children=[],this.uuid=Object(p["a"])(),this.isFolderOpen=!1,this.hasLoadedChildren=this._isFile,this.isLoading=!1,i||this.isFolderOpen&&this.loadChildren(r)}return Object(c["a"])(e,[{key:"loadChildren",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r,i,s,o,c,u,l,d,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,_c.getApp();case 3:return s=t.sent,t.next=6,null===(i=s.project)||void 0===i?void 0:i.packIndexer.readdir(n,{withFileTypes:!0});case 6:if(t.t1=r=t.sent,t.t0=null!==t.t1,!t.t0){t.next=10;break}t.t0=void 0!==r;case 10:if(!t.t0){t.next=14;break}t.t2=r,t.next=15;break;case 14:t.t2=[];case 15:o=t.t2,c=Object(a["a"])(o),t.prev=17,c.s();case 19:if((u=c.n()).done){t.next=29;break}if(d=u.value,"darwin"!==Object(Qr["a"])()||".DS_Store"!==d.name||"file"!==d.kind){t.next=23;break}return t.abrupt("return");case 23:p=new e(this.fileSystem,this,null!==(l=d.path)&&void 0!==l?l:n.concat([d.name]),"file"===d.kind),p.setDisplayName(d.displayName),d.filePath&&p.setPath(d.filePath),this.children.push(p);case 27:t.next=19;break;case 29:t.next=34;break;case 31:t.prev=31,t.t3=t["catch"](17),c.e(t.t3);case 34:return t.prev=34,c.f(),t.finish(34);case 37:this.sortChildren(),this.isLoading=!1,this.hasLoadedChildren=!0;case 40:case"end":return t.stop()}}),t,this,[[17,31,34,37]])})));function n(e){return t.apply(this,arguments)}return n}()},{key:"name",get:function(){var e;return null!==(e=this.displayName)&&void 0!==e?e:this.path[this.path.length-1]}},{key:"isFile",get:function(){return this._isFile}},{key:"color",get:function(){var e;return null===(e=He["a"].get(this.getFullPath()))||void 0===e?void 0:e.color}},{key:"icon",get:function(){var e;return null===(e=$["a"].get(this.getPath()))||void 0===e?void 0:e.icon}},{key:"getFullPath",value:function(){return["projects",_c.instance.selectedProject].concat(this.path).join("/")}},{key:"getPath",value:function(){return this.path.join("/")}},{key:"getPathWithoutPack",value:function(){var e=Object(k["a"])(this.path);return e.shift(),e.join("/")}},{key:"setPath",value:function(e){return this.path=e.split("/")}},{key:"open",value:function(){var e=this;return this.isFile?(_c.ready.once(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.fileSystem.getFileHandle(e.getFullPath());case 2:i=t.sent,null===(r=n.project)||void 0===r||r.openFile(i);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),!0):(this.isFolderOpen=!this.isFolderOpen,this.hasLoadedChildren||this.loadChildren(this.path),!1)}},{key:"setDisplayName",value:function(e){this.displayName=e}},{key:"sortChildren",value:function(){this.children=this.children.sort((function(e,t){if(e.isFile&&!t.isFile)return 1;if(!e.isFile&&t.isFile)return-1;if(e.isFile){if(e.getPathWithoutPack()>t.getPathWithoutPack())return 1;if(e.getPathWithoutPack()<t.getPathWithoutPack())return-1}else{if(e.name>t.name)return 1;if(e.name<t.name)return-1}return 0}))}},{key:"updateUUID",value:function(){this.uuid=Object(p["a"])()}}],[{key:"create",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:[],r=a.length>1&&void 0!==a[1]&&a[1],i=new e(_c.instance.fileSystem,null,n,r),i.open(),t.abrupt("return",Object(h["c"])(i));case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}]),e}(),Yr={name:"FileDisplayer",mixins:[gn["a"]],props:{entry:Object,startPath:Array},mounted:function(){this.loadDirectory()},data:function(){return{directoryEntry:null,tree:[]}},methods:{loadDirectory:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.entry){t.next=7;break}return t.next=3,_c.getApp();case 3:n=t.sent,n.project.packIndexer.once(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Zr.create(e.startPath);case 2:e.directoryEntry=t.sent;case 3:case"end":return t.stop()}}),t)})))),t.next=8;break;case 7:e.directoryEntry=e.entry;case 8:case"end":return t.stop()}}),t)})))()},onClick:function(e){var t=e.open();t&&this.$emit("closeWindow")}},watch:{startPath:function(){this.loadDirectory()}}},Xr=Yr,ei=(n("1927"),Object(fe["a"])(Xr,Gr,Kr,!1,null,"37b43c7d",null)),ti=ei.exports;ve()(ei,{VIcon:ge["a"],VProgressLinear:pn["a"]}),pt()(ei,{Ripple:ht["a"]});var ni={name:"PackExplorerWindow",mixins:[le["a"]],components:{SidebarWindow:St,FileDisplayer:ti},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},openFile:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.currentWindow.close(),n.next=3,_c.getApp();case 3:return r=n.sent,n.next=6,r.fileSystem.getFileHandle("projects/".concat(r.project.name,"/").concat(e));case 6:i=n.sent,r.project.openFile(i);case 8:case"end":return n.stop()}}),n)})))()},createPreset:function(){this.currentWindow.close(),_c.ready.once((function(e){return e.windows.createPreset.open()}))}},computed:{isDarkMode:function(){return this.$vuetify.theme.dark}}},ri=ni,ii=Object(fe["a"])(ri,qr,Jr,!1,null,null,null),ai=ii.exports;ve()(ii,{VBtn:be["a"],VIcon:ge["a"],VSpacer:we["a"],VTextField:Nt["a"]});var si=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,e),r.packType=e.packType,r.kind=e.kind,r}return n}(tt),oi=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,ai,!1,!0),e.loadedPack=!1,e.sidebar=new nt([]),_c.eventSystem.on("projectChanged",(function(){e.sidebar.resetSelected(),e.loadedPack=!1})),e.defineWindow(),e.addAction(new nn["a"]({icon:"mdi-refresh",name:"windows.packExplorer.refresh",onTrigger:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.close(),t.next=3,_c.getApp();case 3:return n=t.sent,t.next=6,n.project.refresh();case 6:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})),e.addAction(new nn["a"]({icon:"mdi-plus",name:"windows.packExplorer.createPreset",onTrigger:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.close(),t.next=3,_c.getApp();case 3:return n=t.sent,t.next=6,n.windows.createPreset.open();case 6:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})),e}return Object(c["a"])(n,[{key:"loadPack",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,i,s,o,c,u,l,d,p,h,f,m,v,b,g,w,k,y,x,j=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.sidebar.removeElements(),e.next=3,_c.getApp();case 3:return s=e.sent,e.next=6,null===(r=s.project)||void 0===r?void 0:r.packIndexer.readdir([]);case 6:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=10;break}e.t0=void 0!==t;case 10:if(!e.t0){e.next=14;break}e.t2=t,e.next=15;break;case 14:e.t2=[];case 15:o=e.t2,c=null===z["b"]||void 0===z["b"]||null===(i=z["b"].general)||void 0===i?void 0:i.enablePackSpider,u=Object(a["a"])(o),e.prev=18,u.s();case 20:if((l=u.n()).done){e.next=45;break}if(h=l.value,f=h.kind,m=h.displayName,v=h.name,b=h.path,g=c?$["a"].get(void 0,v):$["a"].get(b,v),w=null!==(d=He["a"].get("projects/test/".concat(b)))&&void 0!==d?d:He["a"].get("projects/test/".concat("string"===typeof(null===g||void 0===g?void 0:g.matcher)?null===g||void 0===g?void 0:g.matcher:null===g||void 0===g?void 0:g.matcher[0])),k=g&&g.icon?g.icon:"mdi-".concat("directory"===f?"folder":"file","-outline"),y=null!==m&&void 0!==m?m:s.locales.translate("fileType.".concat(v)),x=w?w.color:void 0,w?function(){var e="packType.".concat(w.id,".name"),t=j.sidebar.rawElements.find((function(t){return t.getText()===e}));t||(t=new et({isOpen:!1,text:e,items:[]}),j.sidebar.addElement(t)),t.addItem(new si({kind:f,packType:w.id,id:null!==b&&void 0!==b?b:v,text:y,icon:k,color:x}))}():this.sidebar.addElement(new si({kind:f,packType:"unknown",id:null!==b&&void 0!==b?b:v,text:y,icon:k,color:x})),e.t3=this.sidebar,e.t4=null!==b&&void 0!==b?b:v,e.t5=y,e.t6=k,e.t7=x,"directory"!==f){e.next=39;break}return e.next=36,Zr.create(null===(p=null!==b&&void 0!==b?b:v)||void 0===p?void 0:p.split("/"));case 36:e.t8=e.sent,e.next=40;break;case 39:e.t8=void 0;case 40:e.t9=e.t8,e.t10={text:e.t5,icon:e.t6,color:e.t7,directoryEntry:e.t9},e.t3.setState.call(e.t3,e.t4,e.t10);case 43:e.next=20;break;case 45:e.next=50;break;case 47:e.prev=47,e.t11=e["catch"](18),u.e(e.t11);case 50:return e.prev=50,u.f(),e.finish(50);case 53:this.loadedPack=!0,this.sidebar.setDefaultSelected(),Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this);case 56:case"end":return e.stop()}}),e,this,[[18,47,50,53]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.loadedPack){e.next=8;break}return e.next=3,_c.getApp();case 3:return t=e.sent,t.windows.loadingWindow.open(),e.next=7,this.loadPack();case 7:t.windows.loadingWindow.close();case 8:Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.loadedPack=!1,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"close",this).call(this)}}]),n}(oe["a"]),ci=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.projectChooser.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements,actions:e.actions},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.projectChooser.searchProjects"),outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter",t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(){return[n("div",{staticClass:"d-flex align-center mb-4 rounded-lg content-area pa-4"},[n("img",{staticClass:"mr-2 project-logo rounded-lg",attrs:{height:"64",src:e.sidebar.currentState.imgSrc}}),n("div",[n("h1",{staticClass:"text-h4"},[e._v(e._s(e.sidebar.currentState.name))]),n("h2",{staticClass:"text-h6"},[e._v(" by "+e._s(e.sidebar.currentState.author||"Unknown")+" ")])])]),n("div",{staticClass:"d-flex"},e._l(e.sidebar.currentState.contains,(function(t,r){return n("PackTypeViewer",{key:t.id,class:{"mr-1":0===r,"ml-1":r+1===e.sidebar.currentState.contains.length,"mx-1":r>0&&r+1<e.sidebar.currentState.contains.length},attrs:{packType:t}})})),1)]},proxy:!0},{key:"actions",fn:function(t){var r=t.selectedSidebar;return[n("v-spacer"),n("v-btn",{attrs:{color:"error",disabled:e.currentProject===r},on:{click:function(t){return e.onDeleteProject(r)}}},[n("v-icon",[e._v("mdi-delete")]),e._v(" Delete ")],1),n("v-btn",{attrs:{color:"primary",disabled:e.currentProject===r,loading:e.currentProject!==r&&(!e.isPackIndexerReady||!e.isCompilerReady)},on:{click:e.onSelectProject}},[n("v-icon",[e._v("mdi-check")]),e._v(" Select ")],1)]}}]),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}})},ui=[],li={name:"ProjectChooserWindow",mixins:[le["a"],gn["a"],cr["a"]],components:{SidebarWindow:St,PackTypeViewer:or},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onSelectProject:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_c.getApp();case 2:n=t.sent,n.projectManager.selectProject(e.sidebar.selected),e.currentWindow.close();case 5:case"end":return t.stop()}}),t)})))()},onDeleteProject:function(e){var t=this;new Vn({description:"windows.deleteProject.description",confirmText:"windows.deleteProject.confirm",cancelText:"general.cancel",onConfirm:function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,_c.getApp();case 2:return r=n.sent,n.next=5,r.projectManager.removeProject(e);case 5:return n.next=7,t.currentWindow.loadProjects();case 7:case"end":return n.stop()}}),n)})));function r(){return n.apply(this,arguments)}return r}()})}}},di=li,pi=(n("d3d1"),Object(fe["a"])(di,ci,ui,!1,null,"e1fd1fd6",null)),hi=pi.exports;ve()(pi,{VBtn:be["a"],VIcon:ge["a"],VSpacer:we["a"],VTextField:Nt["a"]});var fi=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,hi,!1,!0),e.sidebar=new nt([]),e.currentProject=void 0,e.defineWindow(),e.actions.push(new nn["a"]({icon:"mdi-plus",name:"windows.projectChooser.newProject",onTrigger:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_c.getApp();case 2:n=t.sent,e.close(),n.windows.createProject.open();case 5:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()})),e}return Object(c["a"])(n,[{key:"addProject",value:function(e,t,n){this.sidebar.addElement(new tt({color:"primary",text:t,icon:"mdi-alpha-".concat(t[0].toLowerCase(),"-box-outline"),id:e}),n),this.sidebar.setDefaultSelected()}},{key:"loadProjects",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.sidebar.removeElements(),e.next=3,_c.getApp();case 3:return t=e.sent,e.next=6,t.projectManager.getProjects();case 6:return n=e.sent,n.forEach((function(e){return r.addProject(e.path,e.name,e)})),this.sidebar.setDefaultSelected(t.projectManager.selectedProject),e.abrupt("return",t.projectManager.selectedProject);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"open",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadProjects();case 2:this.currentProject=e.sent,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(oe["a"]),mi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SidebarWindow",{attrs:{windowTitle:"windows.settings.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,percentageWidth:80,percentageHeight:80,sidebarItems:e.sidebar.elements},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"sidebar",fn:function(){return[n("v-text-field",{staticClass:"pt-2",attrs:{"prepend-inner-icon":"mdi-magnify",label:e.t("windows.settings.searchSettings"),autocomplete:"off",autofocus:"",outlined:"",dense:""},model:{value:e.sidebar._filter,callback:function(t){e.$set(e.sidebar,"_filter","string"===typeof t?t.trim():t)},expression:"sidebar._filter"}})]},proxy:!0},{key:"default",fn:function(t){var r=t.selectedSidebar;return[0===e.sidebar.currentState.length&&""!==e.sidebar.filter?n("span",[e._v(' No setting matches your search for "'+e._s(e.sidebar.filter)+'". ')]):e._e(),e._l(e.sidebar.currentState,(function(t,i){return n(t.component,{key:r+"."+i+"."+t.value,tag:"component",staticClass:"mb-6",attrs:{config:t.config,value:t.value},on:{change:t.onChange,closeWindow:e.onClose}})}))]}}]),model:{value:e.sidebar.selected,callback:function(t){e.$set(e.sidebar,"selected",t)},expression:"sidebar.selected"}})},vi=[],bi={name:"PackExplorerWindow",mixins:[le["a"]],components:{SidebarWindow:St},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},gi=bi,wi=Object(fe["a"])(gi,mi,vi,!1,null,null,null),ki=wi.exports;ve()(wi,{VTextField:Nt["a"]});var yi=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z["b"];Object(o["a"])(this,e),this.state=i,this.onChange=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.value=t;case 2:if("function"!==typeof r.config.onChange){e.next=5;break}return e.next=5,r.config.onChange(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d["default"].set(this,"config",n),d["default"].set(this,"component",t),void 0===this.value&&void 0!==n.default&&(this.value=n.default)}return Object(c["a"])(e,[{key:"value",get:function(){var e;return null===(e=this.state[this.config.category])||void 0===e?void 0:e[this.config.key]},set:function(e){void 0===this.state[this.config.category]&&d["default"].set(this.state,this.config.category,{}),d["default"].set(this.state[this.config.category],this.config.key,e)}}]),e}(),xi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.t(e.config.name)))]),n("div",{staticClass:"d-flex"},[n("div",[n("v-btn-toggle",{attrs:{inset:"",dense:"",mandatory:"",label:e.config.description,value:e.value_},on:{change:e.onChange}},e._l(e.config.options,(function(t){return n("v-btn",{key:t,attrs:{color:"sidebarSelection"}},[e._v(" "+e._s(t)+" ")])})),1)],1),n("span",{staticClass:"ml-4 body-1"},[e._v(e._s(e.t(e.config.description)))])])])},ji=[],Oi=(n("c740"),{props:{config:Object,value:String},mixins:[le["a"]],data:function(){return{value_:void 0}},created:function(){var e=this;this.value_=this.config.options.findIndex((function(t){return t===e.value}))||0},methods:{onChange:function(e){var t=this;this.$nextTick((function(){return t.$emit("change",t.config.options[e])}))}}}),Si=Oi,Ci=n("a609"),Ri=Object(fe["a"])(Si,xi,ji,!1,null,null,null),Pi=Ri.exports;ve()(Ri,{VBtn:be["a"],VBtnToggle:Ci["a"]});var _i=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,Pi,e)}return Object(c["a"])(n,[{key:"matches",value:function(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)||this.config.options.some((function(t){return t.toLowerCase().includes(e)}))}}]),n}(yi),Fi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.t(e.config.name)))]),n("v-switch",{staticStyle:{"margin-top":"0"},attrs:{inset:"",dense:"",label:e.t(e.config.description),value:e.value_},on:{change:e.onChange}})],1)},Ti=[],Ai={props:{value:[Boolean,Promise],config:Object},mixins:[le["a"]],data:function(){return{value_:void 0}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.value;case 2:e.value_=t.sent;case 3:case"end":return t.stop()}}),t)})))()},methods:{onChange:function(e){this.$emit("change",null!==e&&e)}}},Ei=Ai,Mi=Object(fe["a"])(Ei,Fi,Ti,!1,null,null,null),Di=Mi.exports;ve()(Mi,{VSwitch:jn["a"]});var Wi=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,Di,e)}return Object(c["a"])(n,[{key:"matches",value:function(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)}}]),n}(yi),Bi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ActionViewer",{attrs:{action:e.config.action}})},Ii=[],Vi={props:{config:Object},components:{ActionViewer:Gt["a"]},mixins:[le["a"]]},Li=Vi,Ni=Object(fe["a"])(Li,Bi,Ii,!1,null,null,null),$i=Ni.exports,zi=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r,i;return Object(o["a"])(this,n),i=t.call(this,$i,{category:"actions",action:{},description:null!==(r=e.description)&&void 0!==r?r:"No description provided",key:e.id,name:e.name},void 0),i.config=Object(h["f"])({category:"actions",action:{}}),i.onChange=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),i.config.action=e,i}return Object(c["a"])(n,[{key:"matches",value:function(e){return this.config.action.name.includes(e)||this.config.action.description.includes(e)}}]),n}(yi),Hi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.t(e.config.name)))]),n("div",{staticClass:"d-flex align-center"},[n("div",[n("v-autocomplete",{attrs:{inset:"",dense:"",mandatory:"",outlined:"",value:e.value_,items:e.config.options,"hide-details":"","menu-props":{maxHeight:220}},on:{change:e.onChange}})],1),n("span",{staticClass:"ml-4 body-1"},[e._v(e._s(e.t(e.config.description)))])])])},Ui=[],qi={props:{config:Object,value:[String,Promise]},mixins:[le["a"]],data:function(){return{value_:void 0}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.value;case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=e.config.default;case 5:e.value_=t.t0;case 6:case"end":return t.stop()}}),t)})))()},methods:{onChange:function(e){var t=this;this.$nextTick((function(){return t.$emit("change",e)}))}}},Ji=qi,Gi=Object(fe["a"])(Ji,Hi,Ui,!1,null,null,null),Ki=Gi.exports;ve()(Gi,{VAutocomplete:dr["a"]});var Qi=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,Ki,e)}return Object(c["a"])(n,[{key:"matches",value:function(e){return this.config.name.toLowerCase().includes(e)||this.config.description.toLowerCase().includes(e)||this.config.options.some((function(t){return"string"===typeof t?t.toLowerCase().includes(e):t.text.toLowerCase().includes(e)}))}}]),n}(yi),Zi=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"value",get:function(){var e=this;return _c.getApp().then((function(t){return t.projectConfig.get(e.config.key)}))},set:function(e){var t=this;_c.getApp().then((function(n){return n.projectConfig.set(t.config.key,e)}))}}]),n}(Qi),Yi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-center"},[n("v-btn",{attrs:{color:"primary"},on:{click:e.config.onClick}},[e._v(" "+e._s(e.t(e.config.name))+" ")]),n("span",{staticClass:"ml-4 body-1"},[e._v(e._s(e.t(e.config.description)))])],1)},Xi=[],ea={props:{config:Object},mixins:[le["a"]]},ta=ea,na=Object(fe["a"])(ta,Yi,Xi,!1,null,null,null),ra=na.exports;ve()(na,{VBtn:be["a"]});var ia=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,ra,Object(Y["a"])(Object(Y["a"])({},e),{},{key:"N/A"})),r.onChange=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),r}return Object(c["a"])(n,[{key:"matches",value:function(e){return this.config.name.includes(e)||this.config.description.includes(e)}}]),n}(yi);function aa(e){return sa.apply(this,arguments)}function sa(){return sa=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.addControl(new _i({category:"appearance",name:"windows.settings.appearance.colorScheme.name",description:"windows.settings.appearance.colorScheme.description",key:"colorScheme",options:["auto","dark","light"],default:"auto",onChange:function(){_c.getApp().then((function(e){return e.themeManager.updateTheme()}))}})),e.t0=t,e.t1=Qi,e.t2=function(){_c.getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t3={category:"appearance",name:"windows.settings.appearance.darkTheme.name",description:"windows.settings.appearance.darkTheme.description",key:"darkTheme",get options(){return t.parent.themeManager.getThemes("dark").map((function(e){return{text:e.name,value:e.id}}))},default:"bridge.default.dark",onChange:e.t2},e.t4=new e.t1(e.t3),e.t0.addControl.call(e.t0,e.t4),e.t5=t,e.t6=Qi,e.t7=function(){_c.getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t8={category:"appearance",name:"windows.settings.appearance.lightTheme.name",description:"windows.settings.appearance.lightTheme.description",key:"lightTheme",get options(){return t.parent.themeManager.getThemes("light").map((function(e){return{text:e.name,value:e.id}}))},default:"bridge.default.light",onChange:e.t7},e.t9=new e.t6(e.t8),e.t5.addControl.call(e.t5,e.t9),e.t10=t,e.t11=Zi,e.t12=function(){_c.getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t13={category:"appearance",name:"windows.settings.appearance.localDarkTheme.name",description:"windows.settings.appearance.localDarkTheme.description",key:"darkTheme",get options(){return t.parent.themeManager.getThemes("dark",!1).map((function(e){return{text:e.name,value:e.id}})).concat([{text:"None",value:"bridge.noSelection"}])},default:"bridge.noSelection",onChange:e.t12},e.t14=new e.t11(e.t13),e.t10.addControl.call(e.t10,e.t14),e.t15=t,e.t16=Zi,e.t17=function(){_c.getApp().then((function(e){return e.themeManager.updateTheme()}))},e.t18={category:"appearance",name:"windows.settings.appearance.localLightTheme.name",description:"windows.settings.appearance.localLightTheme.description",key:"lightTheme",get options(){return t.parent.themeManager.getThemes("light",!1).map((function(e){return{text:e.name,value:e.id}})).concat([{text:"None",value:"bridge.noSelection"}])},default:"bridge.noSelection",onChange:e.t17},e.t19=new e.t16(e.t18),e.t15.addControl.call(e.t15,e.t19),t.addControl(new Wi({category:"appearance",name:"windows.settings.appearance.sidebarRight.name",description:"windows.settings.appearance.sidebarRight.description",key:"isSidebarRight",default:!1})),t.addControl(new Wi({category:"appearance",name:"windows.settings.appearance.shrinkSidebarElements.name",description:"windows.settings.appearance.shrinkSidebarElements.description",key:"smallerSidebarElements",default:!1})),t.addControl(new _i({category:"developers",name:"windows.settings.developer.simulateOS.name",description:"windows.settings.developer.simulateOS.description",key:"simulateOS",options:["auto","win32","darwin","linux"],default:"auto"})),t.addControl(new Wi({category:"developers",name:"windows.settings.developer.devMode.name",description:"windows.settings.developer.devMode.description",key:"isDevMode"})),e.next=31,_c.getApp().then((function(e){return e.locales}));case 31:return n=e.sent,e.t20=t,e.t21=Qi,e.t22=n.getCurrentLanguage(),e.t23=function(e){n.selectLanguage(e)},e.t24={category:"general",name:"windows.settings.general.language.name",description:"windows.settings.general.language.description",key:"locale",get options(){return n.getLanguages().map((function(e){return{text:e[1],value:e[0]}}))},default:e.t22,onChange:e.t23},e.t25=new e.t21(e.t24),e.t20.addControl.call(e.t20,e.t25),t.addControl(new Wi({category:"general",name:"windows.settings.general.collaborativeMode.name",description:"windows.settings.general.collaborativeMode.description",key:"fullLightningCacheRefresh",default:!0})),t.addControl(new Wi({category:"general",name:"windows.settings.general.packSpider.name",description:"windows.settings.general.packSpider.description",key:"enablePackSpider",default:!0})),t.addControl(new Wi({category:"general",name:"windows.settings.general.formatOnSave.name",description:"windows.settings.general.formatOnSave.description",key:"formatOnSave",default:!0})),t.addControl(new Wi({category:"general",name:"windows.settings.general.openLinksInBrowser.name",description:"windows.settings.general.openLinksInBrowser.description",key:"openLinksInBrowser",default:!1})),t.addControl(new Wi({category:"general",name:"windows.settings.general.restoreTabs.name",description:"windows.settings.general.restoreTabs.description",key:"restoreTabs",default:!0})),t.addControl(new ia({category:"general",name:"windows.settings.general.resetBridgeFolder.name",description:"windows.settings.general.resetBridgeFolder.description",onClick:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["a"])("bridgeBaseDir");case 2:location.reload();case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()})),t.addControl(new Wi({category:"editor",name:"windows.settings.editor.wordWrap.name",description:"windows.settings.editor.wordWrap.description",key:"wordWrap",default:!1,onChange:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:n=e.sent,n.projectManager.updateAllEditorOptions({wordWrap:t?"bounded":"off"});case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()})),e.next=48,_c.getApp();case 48:r=e.sent,Object.values(r.actionManager.state).forEach((function(e){t.addControl(new zi(e))}));case 50:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}var oa=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"elements",get:function(){var e=this,t=void 0,n=this._elements.filter((function(n){if("category"===n.type)return!0;var r=e.getState(n.id),i=r.some((function(t){return t.matches(e.filter)}));return!t&&i&&(t=n.id),i}));return t&&this.lastFilter!==this.filter&&0===this.currentState.length&&this.setDefaultSelected(t),this.lastFilter=this.filter,this.sortSidebar(n)}},{key:"currentState",get:function(){var e,t=this;return this.selected?(null!==(e=this.state[this.selected])&&void 0!==e?e:[]).filter((function(e){return e.matches(t.filter)})):[]}}]),n}(nt),ca=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,ki,!1,!0),r.parent=e,r.sidebar=new oa([]),r.defineWindow(),r}return Object(c["a"])(n,[{key:"setup",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp().then((function(e){return e.locales}));case 2:return t=e.sent,this.addCategory("general",t.translate("windows.settings.general.name"),"mdi-circle-outline"),this.addCategory("appearance",t.translate("windows.settings.appearance.name"),"mdi-palette-outline"),this.addCategory("editor","Editor","mdi-pencil-outline"),this.addCategory("actions",t.translate("windows.settings.actions.name"),"mdi-keyboard-outline"),this.addCategory("developers",t.translate("windows.settings.developer.name"),"mdi-wrench-outline"),e.next=10,aa(this);case 10:this.sidebar.setDefaultSelected();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addCategory",value:function(e,t,n){void 0===z["b"][e]&&(z["b"][e]={}),this.sidebar.addElement(new tt({color:"primary",text:t,icon:n,id:e}),[])}},{key:"addControl",value:function(e){var t=this.sidebar.state[e.config.category];if(!t)throw new Error("Undefined settings category: ".concat(e.config.category));t.push(e)}},{key:"open",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isVisible){e.next=2;break}return e.abrupt("return");case 2:return this.sidebar.removeElements(),e.next=5,this.setup();case 5:Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(Ye["a"])(Object(Xe["a"])(n.prototype),"close",this).call(this),e.next=3,_c.getApp();case 3:return t=e.sent,t.windows.loadingWindow.open(),e.next=7,n.saveSettings();case 7:t.windows.loadingWindow.close();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"saveSettings",value:function(){return new Promise((function(e){_c.ready.once(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.fileSystem.writeJSON("data/settings.json",z["b"]);case 2:e();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}},{key:"loadSettings",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=z["a"],e.next=4,t.fileSystem.readJSON("data/settings.json");case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=10;break;case 8:e.prev=8,e.t2=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(oe["a"]),ua=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseWindow",{attrs:{windowTitle:"windows.changelogWindow.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:600,height:600},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{staticClass:"mt-4 mb-2 d-flex align-center"},[n("v-icon",{staticClass:"mr-2",attrs:{color:"primary",large:""}},[e._v("mdi-update")]),n("h1",[e._v("v"+e._s(e.$data.version))])],1),n("v-divider",{staticClass:"mb-4"}),n("div",{staticClass:"changelog",domProps:{innerHTML:e._s(e.$data.changelog)}})]},proxy:!0}])})},la=[],da={name:"ChangelogComponent",components:{BaseWindow:de["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()}}},pa=da,ha=(n("60a6"),n("ce7e")),fa=Object(fe["a"])(pa,ua,la,!1,null,null,null),ma=fa.exports;ve()(fa,{VDivider:ha["a"],VIcon:ge["a"]});var va="/editor/",ba=n("6396"),ga=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,ma),e.defineWindow(),e}return Object(c["a"])(n,[{key:"open",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return t=e.sent,t.windows.loadingWindow.open(),e.next=6,fetch(va+"/changelog.html").then((function(e){return e.text()})).then((function(e){r.changelog=e,r.version=ba["a"]}));case 6:t.windows.loadingWindow.close(),Object(Ye["a"])(Object(Xe["a"])(n.prototype),"open",this).call(this);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(oe["a"]),wa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"windows.discord.title",isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:420,height:80},on:{closeWindow:e.close},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",[e._v(e._s(e.t("windows.discord.content")))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{on:{click:e.close}},[n("span",[e._v(e._s(e.t("windows.discord.later")))])]),n("v-btn",{attrs:{color:"#7289DA"},on:{click:e.openDiscord}},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-discord")]),n("span",{staticClass:"white--text"},[e._v(e._s(e.t("windows.discord.join")))])],1)]},proxy:!0}],null,!1,3500719864)}):e._e()},ka=[],ya=void 0,xa={name:"Discord",mixins:[le["a"]],components:{BaseWindow:de["a"]},data:function(){return this.currentWindow},props:["currentWindow"],methods:{close:function(){return ya.currentWindow.close()},openDiscord:function(){window.open("https://discord.gg/jj2PmqU","_blank"),this.currentWindow.close()}}},ja=xa,Oa=Object(fe["a"])(ja,wa,ka,!1,null,null,null),Sa=Oa.exports;ve()(Oa,{VBtn:be["a"],VIcon:ge["a"],VSpacer:we["a"]});var Ca=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,Sa),e.defineWindow(),e}return n}(oe["a"]),Ra=function e(t){Object(o["a"])(this,e),this.app=t,this.discordWindow=new Ca,this.projectChooser=new fi,this.packExplorer=new oi,this.createProject=new Ir,this.loadingWindow=new mn,this.filePicker=new Ur,this.createPreset=new Yn,this.extensionStore=new on,this.browserUnsupported=new Ze,this.changelogWindow=new ga,this.settings=new ca(t)},Pa=(n("fb6a"),n("c65b")),_a=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.app=e,r}return Object(c["a"])(n,[{key:"start",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.app.windows.loadingWindow.open("windows.loadingWindow.titles.downloadingData"),e.next=3,this.app.fileSystem.fired;case 3:return e.next=5,this.isUpdateAvailable();case 5:if(!e.sent){e.next=8;break}return e.next=8,this.downloadData();case 8:this.dispatch(),this.app.windows.loadingWindow.close();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isUpdateAvailable",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(va+"data/version.txt").then((function(e){return e.text()}));case 3:t=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",!1);case 9:return e.prev=9,e.next=12,this.app.fileSystem.readFile("data/packages/version.txt").then((function(e){return e.text()}));case 12:n=e.sent,e.next=18;break;case 15:return e.prev=15,e.t1=e["catch"](9),e.abrupt("return",!0);case 18:if(""!==n){e.next=20;break}return e.abrupt("return",!0);case 20:return console.log("App version: ".concat(ba["a"],"\nLocal data version: ").concat(n,"\nRemote data version: ").concat(t)),"'"===t[0]&&"'"===t[t.length-1]&&(t=t.slice(1,-1)),"'"===n[0]&&"'"===n[n.length-1]&&(n=n.slice(1,-1)),e.abrupt("return",Object(Ht["compare"])(t,n,">"));case 24:case"end":return e.stop()}}),e,this,[[0,6],[9,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"downloadData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("Downloading new data..."),e.prev=1,e.next=4,this.app.fileSystem.unlink("data/packages");case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](1);case 8:return e.t1=Pa["a"],e.next=11,this.app.fileSystem.getDirectoryHandle("data/packages",{create:!0});case 11:return e.t2=e.sent,t=new e.t1(e.t2),t.createTask(this.app.taskManager,{icon:"mdi-download",description:"taskManager.tasks.dataLoader.description",name:"taskManager.tasks.dataLoader.title"}),e.next=16,fetch(va+"data/package.zip").then((function(e){return e.body?t.unzip(e.body):null}));case 16:console.log("Data updated!");case 17:case"end":return e.stop()}}),e,this,[[1,6]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(N["a"]),Fa=n("8d8a"),Ta=n("9803"),Aa=["Control","Alt","Meta"],Ea=function(){function e(){var t=this;Object(o["a"])(this,e),this.state=Object(h["f"])({}),this.lastTimeStamp=0,document.addEventListener("keydown",(function(e){var n=e.key,r=e.ctrlKey,i=e.altKey,a=e.metaKey,s=e.shiftKey;if(!Aa.includes(n)){var o=Object(Ta["b"])({key:n,ctrlKey:"darwin"===Object(Qr["a"])()?a:r,altKey:i,metaKey:"darwin"===Object(Qr["a"])()?r:a,shiftKey:s}),c=t.state[o];if(c&&t.lastTimeStamp+100<Date.now()){if(c.prevent(e.target))return;t.lastTimeStamp=Date.now(),e.preventDefault(),e.stopImmediatePropagation(),c.trigger()}}}))}return Object(c["a"])(e,[{key:"create",value:function(e){var t=new Fa["a"](this,e),n=t.toStrKeyCode();if(this.state[n])throw new Error('KeyBinding with keyCode "'.concat(n,'" already exists!'));return Object(h["e"])(this.state,n,t),t}},{key:"disposeKeyBinding",value:function(e){Object(h["b"])(this.state,e)}}]),e}(),Ma=function(){function e(){Object(o["a"])(this,e),this.state=Object(h["f"])({})}return Object(c["a"])(e,[{key:"addCategory",value:function(e){Object(h["e"])(this.state,e.id,e)}},{key:"disposeCategory",value:function(e){Object(h["b"])(this.state,e.id)}}]),e}(),Da=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this),window.addEventListener("resize",Object(x["a"])((function(){return e.dispatch()}),200,{trailing:!0})),e}return Object(c["a"])(n,[{key:"dispatch",value:function(){Object(Ye["a"])(Object(Xe["a"])(n.prototype),"dispatch",this).call(this,[window.innerWidth,window.innerHeight])}}]),n}(V["a"]),Wa=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this,{message:"sidebar.notifications.installApp.message",color:"primary",icon:"mdi-download",textColor:"white",isVisible:!1}),window.addEventListener("beforeinstallprompt",(function(t){return e.onInstallPrompt(t)})),window.addEventListener("appinstalled",(function(){return e.dispose()})),e.addClickHandler((function(){return e.prompt()})),e}return Object(c["a"])(n,[{key:"onInstallPrompt",value:function(e){e.preventDefault(),this.installEvent=e,this.show()}},{key:"prompt",value:function(){var e=this;this.installEvent?(this.installEvent.prompt(),this.installEvent.userChoice.then((function(t){"accepted"===t.outcome&&e.dispose()}))):this.dispose()}}]),n}(f),Ba=(n("b64b"),n("257e")),Ia=n("ed38"),Va=n("c3ee"),La=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"monacoContainer",on:{click:function(t){return e.tab.parent.setActive(!0)}}})},Na=[],$a={name:"TextTab",props:{tab:Object},computed:{tabSystem:function(){return this.tab.parent}},activated:function(){this.updateEditor()},mounted:function(){this.updateEditor()},methods:{updateEditor:function(){this.tabSystem.createMonacoEditor(this.$refs.monacoContainer)}},watch:{fontSize:function(e){this.monacoEditor.updateOptions({fontSize:this.fontSize})},fontFamily:function(e){this.monacoEditor.updateOptions({fontFamily:this.fontFamily})}}},za=$a,Ha=(n("0b51"),Object(fe["a"])(za,La,Na,!1,null,null,null)),Ua=Ha.exports,qa=n("2ef0"),Ja=(n("0481"),n("4069"),n("b9f1"));function Ga(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n){e.next=5;break}return e.next=3,_c.getApp();case 3:r=e.sent,n=r.fileSystem;case 5:return e.abrupt("return",new Promise(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r,i){var a,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FileReader,e.prev=1,e.next=4,n.getFileHandle(t);case 4:return s=e.sent,e.next=7,s.getFile();case 7:o=e.sent,a.addEventListener("load",(function(){r(a.result)})),a.addEventListener("error",i),a.readAsDataURL(o),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),i('File does not exist: "'.concat(t,'"'));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}var Qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:function(t){return e.tab.parent.setActive(!0)}}},[n("canvas",{ref:"canvas"})])},Za=[],Ya={name:"ThreePreviewTab",props:{tab:Object},activated:function(){this.tab.receiveCanvas(this.$refs.canvas)},mounted:function(){this.tab.receiveCanvas(this.$refs.canvas)},watch:{tab:function(){this.tab.receiveCanvas(this.$refs.canvas)}}},Xa=Ya,es=Object(fe["a"])(Xa,Qa,Za,!1,null,null,null),ts=es.exports,ns=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r,i){var a;return Object(o["a"])(this,n),a=t.call(this,r,i),a.tab=e,a.isForeignFile=!0,a.onCreate(),a}return Object(c["a"])(n,[{key:"onCreate",value:function(){}},{key:"onActivate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.onChange(),this.isActive=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"name",get:function(){return"Preview: ".concat(Object(Ye["a"])(Object(Xe["a"])(n.prototype),"name",this))}},{key:"save",value:function(){}},{key:"getFile",value:function(){return this.tab.getFile()}}],[{key:"is",value:function(){return!1}}]),n}(Va["a"]),rs=n("5a89"),is=n("4721"),as=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.component=ts,e.setupComplete=new N["a"],e.disposables=[],e.renderingRequested=!1,e.width=0,e.height=0,e}return Object(c["a"])(n,[{key:"scene",get:function(){if(!this._scene)throw new Error("Scene is not defined yet");return this._scene}},{key:"camera",get:function(){if(!this._camera)throw new Error("Camera is not defined yet");return this._camera}},{key:"receiveCanvas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:r=e.sent,this.canvas=t,this.renderer=new rs["M"]({antialias:!1,canvas:t}),this.renderer.setPixelRatio(window.devicePixelRatio),this._camera||(this._camera=new rs["y"](70,2,.1,1e3),this._camera.position.x=-16,this._camera.position.y=16,this._camera.position.z=-16),null===(n=this.controls)||void 0===n||n.dispose(),this.controls=new is["a"](this.camera,t),this.controls.addEventListener("change",(function(){i.requestRendering(),i.parent.isActive||i.parent.setActive(!0)})),this._scene||(this._scene=new rs["C"],this._scene.add(new rs["a"](16777215))),this._scene.background=new rs["h"](r.themeManager.getColor("background")),this.disposables.push(r.windowResize.on((function(){return setTimeout((function(){return i.onResize()}))}))),this.onResize(),this.setupComplete.dispatch();case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onActivate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.setupComplete.fired;case 2:return e.next=4,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"onActivate",this).call(this);case 4:return e.next=6,_c.getApp();case 6:t=e.sent,this.disposables.push(t.themeManager.on((function(){var e=t.themeManager.getColor("background");r.scene.background=new rs["h"](e),r.requestRendering()})));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){var e,t,r;this.setupComplete.resetSignal(),null===(e=this.controls)||void 0===e||e.dispose(),null===(t=this.renderer)||void 0===t||t.resetState(),null===(r=this.renderer)||void 0===r||r.dispose(),this.renderer=void 0,this.controls=void 0,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"onDeactivate",this).call(this)}},{key:"render",value:function(){var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(e=this.controls)||void 0===e||e.update(),null===(t=this.renderer)||void 0===t||t.render(this.scene,this.camera),this.renderingRequested=!1,n&&this.model&&this.model.shouldTick&&(this.model.tick(),this.isActive&&this.requestRendering())}},{key:"requestRendering",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return this.render(!1);this.renderingRequested||(this.renderingRequested=!0,requestAnimationFrame((function(){return e.render()})))}},{key:"onResize",value:function(){var e,t,n,r,i,a=null===(e=this.canvas)||void 0===e||null===(t=e.parentElement)||void 0===t?void 0:t.getBoundingClientRect();this.width=null!==(n=null===a||void 0===a?void 0:a.width)&&void 0!==n?n:0,this.height=null!==(r=null===a||void 0===a?void 0:a.height)&&void 0!==r?r:0,null===(i=this.renderer)||void 0===i||i.setSize(this.width,this.height,!0),this.camera&&(this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()),this.requestRendering()}},{key:"toOtherTabSystem",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"toOtherTabSystem",this).call(this,t);case 2:return e.next=4,this.setupComplete.fired;case 4:this.onResize();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(ns);function ss(e){if(e["minecraft:geometry"])return e;var t,n=Object.entries(e).filter((function(e){var t=Object(i["a"])(e,2),n=(t[0],t[1]);return"string"!==typeof n})),r=[],s=Object(a["a"])(n);try{for(s.s();!(t=s.n()).done;){var o=Object(i["a"])(t.value,2),c=o[0],u=o[1];r.push({description:{identifier:c,texture_width:u.texturewidth,texture_height:u.textureheight},bones:u.bones})}}catch(l){s.e(l)}finally{s.f()}return{format_version:"1.12.0","minecraft:geometry":r}}var os=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){var i;return Object(o["a"])(this,n),i=t.call(this),i.app=e,i.filePath=r,i.children=[],i.ready=new N["a"],i.activate(),e.project.getFileFromDiskOrTab(r).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.onFileChange(t);case 2:i.ready.dispatch();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i}return Object(c["a"])(n,[{key:"activate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.disposable){e.next=2;break}return e.abrupt("return");case 2:this.disposable=this.app.project.fileChange.on(this.filePath,(function(e){return t.onFileChange(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"requestFile",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.onFileChange(t);case 2:return e.abrupt("return",new Promise((function(e){n.on((function(t){return e(t)}))})));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onFileChange",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.project.compilerManager.fired;case 2:return e.next=4,this.app.project.compilerManager.compileWithFile(this.filePath,t);case 4:n=e.sent,r=Object(i["a"])(n,2),a=r[0],s=r[1],this.children.forEach((function(e){return e.dispose()})),this.children=[],a.forEach((function(e){var n=new cs(c.app,e);c.children.push(n),n.on((function(){return c.onFileChange(t)}))})),o=new File([s],t.name),this.dispatch(o);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){var e;null===(e=this.disposable)||void 0===e||e.dispose(),this.disposable=void 0,this.children.forEach((function(e){return e.dispose()}))}}]),n}(V["a"]),cs=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){var i;return Object(o["a"])(this,n),i=t.call(this),i.app=e,i.filePath=r,i.activate(),i}return Object(c["a"])(n,[{key:"activate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this.disposable){e.next=2;break}return e.abrupt("return");case 2:this.disposable=this.app.project.fileSave.on(this.filePath,(function(e){return t.onFileChange(e)}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onFileChange",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dispatch();case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"dispose",value:function(){var e;null===(e=this.disposable)||void 0===e||e.dispose(),this.disposable=void 0}}]),n}(V["a"]),us=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){var i;return Object(o["a"])(this,n),i=t.call(this,e,r),i.isInitial=!0,i.on((function(e){i.onChange(e,i.isInitial),i.isInitial&&(i.isInitial=!1)})),i}return n}(os),ls=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r,i){var a;return Object(o["a"])(this,n),a=t.call(this,e.app,r),a.parent=e,a.includedGeometryIdentifiers=i,a}return Object(c["a"])(n,[{key:"select",value:function(e){this.selected=e}},{key:"onChange",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.t0=ss,e.t1=G.a,e.next=6,t.text();case 6:e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),this.geometryJson=(0,e.t0)(e.t3),n||this.parent.onChange(),e.next=14;break;case 12:e.prev=12,e.t4=e["catch"](1);case 14:case"end":return e.stop()}}),e,this,[[1,12]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"includedGeometries",get:function(){var e,t,n,r,i,a=this;return void 0===this.includedGeometryIdentifiers?null!==(e=null===(t=this.geometryJson)||void 0===t?void 0:t["minecraft:geometry"])&&void 0!==e?e:[]:null!==(n=null===(r=this.geometryJson)||void 0===r||null===(i=r["minecraft:geometry"])||void 0===i?void 0:i.filter((function(e){var t=e.description;return!a.includedGeometryIdentifiers.includes(t.identifier)})))&&void 0!==n?n:[]}},{key:"identifiers",get:function(){return this.includedGeometries.map((function(e){var t=e.description;return t.identifier}))}},{key:"geometry",get:function(){var e,t=this;return null!==(e=this.includedGeometries.find((function(e){var n=e.description;return n.identifier===t.selected})))&&void 0!==e?e:this.includedGeometries[0]}}]),n}(us),ds=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r,i){var a;return Object(o["a"])(this,n),a=t.call(this,e.app,r),a.parent=e,a.includedAnimationIdentifiers=i,a}return Object(c["a"])(n,[{key:"onChange",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.t0=G.a,e.next=5,t.text();case 5:e.t1=e.sent,this.animationJson=e.t0.parse.call(e.t0,e.t1),n||this.parent.onChange(),e.next=12;break;case 10:e.prev=10,e.t2=e["catch"](1);case 12:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"includedAnimations",get:function(){var e=this;return void 0===this.includedAnimationIdentifiers?Object.entries(this.animationJson["animations"]):Object.entries(this.animationJson["animations"]).filter((function(t){var n=Object(i["a"])(t,2),r=(n[0],n[1].description);return!e.includedAnimationIdentifiers.includes(r.identifier)}))}},{key:"identifiers",get:function(){return this.includedAnimations.map((function(e){var t=Object(i["a"])(e,1),n=t[0];return n}))}}]),n}(us),ps=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){var i;return Object(o["a"])(this,n),i=t.call(this),i.app=e,i.renderData=r,i._geometries=[],i._animations=[],i.readyPromises=[],i._currentTexturePath=i.texturePaths[0],i}return Object(c["a"])(n,[{key:"ready",get:function(){return Promise.all(this.readyPromises)}},{key:"update",value:function(e){this.renderData=e}},{key:"createGeometry",value:function(e,t){var n=new ls(this,e,t);this._geometries.push(n),this.readyPromises.push(n.ready.fired)}},{key:"createAnimation",value:function(e,t){var n=new ds(this,e,t);this._animations.push(n),this.readyPromises.push(n.ready.fired)}},{key:"selectGeometry",value:function(e){var t,n=Object(a["a"])(this._geometries);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.identifiers.includes(e))return r.select(e)}}catch(i){n.e(i)}finally{n.f()}throw new Error('Failed to find geometry with ID "'.concat(e,'"'))}},{key:"selectTexturePath",value:function(e){this._currentTexturePath=e}},{key:"onChange",value:function(){this.dispatch()}},{key:"identifier",get:function(){return this.renderData.identifier}},{key:"texturePaths",get:function(){return this.renderData.texturePaths}},{key:"geometryIdentifiers",get:function(){return this._geometries.map((function(e){return e.identifiers})).flat()}},{key:"animations",get:function(){return this._animations.map((function(e){return e.includedAnimations})).flat()}},{key:"modelData",get:function(){return this._geometries[0].geometry}},{key:"currentTexturePath",get:function(){return this._currentTexturePath}},{key:"activate",value:function(){this._geometries.forEach((function(e){return e.activate()}))}},{key:"dispose",value:function(){this._geometries.forEach((function(e){return e.dispose()}))}}]),n}(V["a"]),hs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.$data.title,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,isPersistent:!e.$data.isClosable,hasCloseButton:!1,width:440,height:140},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-select",{staticClass:"mt-4",attrs:{autofocus:"",solo:"",items:e.$data.options,"background-color":"background"},model:{value:e.$data.currentSelection,callback:function(t){e.$set(e.$data,"currentSelection",t)},expression:"$data.currentSelection"}})]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:""===e.$data.currentSelection},on:{click:e.onConfirm}},[n("span",[e._v(e._s(e.t("general.confirm")))])])]},proxy:!0}],null,!1,355833146)}):e._e()},fs=[],ms={name:"Dropdown",mixins:[le["a"]],components:{BaseWindow:de["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close()},onConfirm:function(){this.currentWindow.confirm()}}},vs=ms,bs=n("b974"),gs=Object(fe["a"])(vs,hs,fs,!1,null,null,null),ws=gs.exports;ve()(gs,{VBtn:be["a"],VSelect:bs["a"],VSpacer:we["a"]});var ks=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,ws,!0,!1),r.opts=e,r.currentSelection=e.default,r.defineWindow(),r.open(),r}return Object(c["a"])(n,[{key:"title",get:function(){return this.opts.name}},{key:"options",get:function(){return this.opts.options}},{key:"placeholder",get:function(){return this.opts.placeholder}},{key:"isClosable",get:function(){return this.opts.isClosable}},{key:"confirm",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof this.opts.onConfirm){e.next=3;break}return e.next=3,this.opts.onConfirm(this.currentSelection);case 3:Object(Ye["a"])(Object(Xe["a"])(n.prototype),"close",this).call(this,null!==(t=this.currentSelection)&&void 0!==t?t:null);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(oe["a"]),ys=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"renderContainer",get:function(){if(!this._renderContainer)throw new Error("Preview.renderContainer was not defined yet");return this._renderContainer}},{key:"onActivate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"onActivate",this).call(this);case 2:null===(t=this._renderContainer)||void 0===t||t.activate();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCreate",value:function(){var e=this;this.addAction(new nn["a"]({icon:"mdi-refresh",name:"Reload",onTrigger:function(){return e.reload()}}),new nn["a"]({icon:"mdi-image-outline",name:"Texture",onTrigger:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.renderContainer.texturePaths,r=new ks({name:"Texture",isClosable:!1,options:n,default:e.renderContainer.currentTexturePath}),t.next=4,r.fired;case 4:i=t.sent,e.renderContainer.selectTexturePath(i),e.createModel();case 7:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}),new nn["a"]({icon:"mdi-cube-outline",name:"Model",onTrigger:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.renderContainer.geometryIdentifiers,r=new ks({name:"Geometry",isClosable:!1,options:n,default:n[0]}),t.next=4,r.fired;case 4:i=t.sent,e.renderContainer.selectGeometry(i),e.createModel();case 7:case"end":return t.stop()}}),t)})));function n(){return t.apply(this,arguments)}return n}()}),new nn["a"]({icon:"mdi-movie-open-outline",name:"Animation",onTrigger:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}))}},{key:"loadRenderContainer",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,c,u,l,d,p,h,f,m,v,b=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0===this._renderContainer){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getFile();case 4:return r=e.sent,e.next=7,this.setupComplete;case 7:return e.next=9,r.text();case 9:return i=e.sent,e.next=12,_c.getApp();case 12:s=e.sent,e.prev=13,o=ss(G.a.parse(i)),e.next=20;break;case 17:return e.prev=17,e.t0=e["catch"](13),e.abrupt("return");case 20:if(!(o["minecraft:geometry"].length>1)){e.next=23;break}e.next=28;break;case 23:if(1!==o["minecraft:geometry"].length){e.next=27;break}o=o["minecraft:geometry"][0],e.next=28;break;case 27:return e.abrupt("return");case 28:if(c=s.project.packIndexer.service,c){e.next=31;break}return e.abrupt("return");case 31:return e.next=33,c.find("clientEntity","geometryIdentifier",[o.description.identifier],!0);case 33:if(e.t2=t=e.sent,e.t1=null!==e.t2,!e.t1){e.next=37;break}e.t1=void 0!==t;case 37:if(!e.t1){e.next=41;break}e.t3=t,e.next=42;break;case 41:e.t3=[];case 42:return u=e.t3,e.next=45,c.find("block","geometryIdentifier",[o.description.identifier],!0);case 45:if(e.t5=n=e.sent,e.t4=null!==e.t5,!e.t4){e.next=49;break}e.t4=void 0!==n;case 49:if(!e.t4){e.next=53;break}e.t6=n,e.next=54;break;case 53:e.t6=[];case 54:return l=e.t6,e.next=57,Promise.all(u.map((function(e){return c.getCacheDataFor("clientEntity",e)})));case 57:return d=e.sent,e.next=60,Promise.all([].concat(Object(k["a"])(d.map((function(e){return e.texturePath}))),Object(k["a"])(l.map((function(e){return c.getCacheDataFor("block",e,"texturePath")})))));case 60:return p=e.sent.flat(),e.next=63,Promise.all(Object(k["a"])(d.map((function(e){return c.find("clientAnimation","identifier",e.animationIdentifier,!0)}))));case 63:h=e.sent.flat(),this._renderContainer=new ps(s,{identifier:o.description.identifer,texturePaths:p}),this._renderContainer.createGeometry(this.tab.getProjectPath()),f=Object(a["a"])(h);try{for(f.s();!(m=f.n()).done;)v=m.value,this._renderContainer.createAnimation(v)}catch(g){f.e(g)}finally{f.f()}this._renderContainer.on((function(){return b.createModel()}));case 69:case"end":return e.stop()}}),e,this,[[13,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChange",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadRenderContainer();case 2:if(!this._renderContainer){e.next=7;break}return e.next=5,this.renderContainer.ready;case 5:return e.next=7,this.createModel();case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDestroy",value:function(){var e;null===(e=this._renderContainer)||void 0===e||e.dispose(),Object(Ye["a"])(Object(Xe["a"])(n.prototype),"onDestroy",this).call(this)}},{key:"createModel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,s,o,c,u,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return n=e.sent,this.model&&(null===(t=this.scene)||void 0===t||t.remove(this.model.getGroup())),e.t0=Ja["a"],e.t1=this.renderContainer.modelData,e.next=8,Ga("RP/".concat(this.renderContainer.currentTexturePath),n.project.fileSystem);case 8:e.t2=e.sent,this.model=new e.t0(e.t1,e.t2),this.scene.add(this.model.getGroup()),r=Object(a["a"])(this.renderContainer.animations);try{for(r.s();!(s=r.n()).done;)o=Object(i["a"])(s.value,2),c=o[0],u=o[1],this.model.animator.addAnimation(c,u),"animation.bee.flying"===c&&this.model.animator.play(c)}catch(d){r.e(d)}finally{r.f()}setTimeout((function(){l.requestRendering()}),100);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"reload",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.model&&(null===(t=this.scene)||void 0===t||t.remove(this.model.getGroup())),null===(n=this._renderContainer)||void 0===n||n.dispose(),this._renderContainer=void 0,e.next=5,this.onChange();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"icon",get:function(){return"mdi-cube-outline"}},{key:"iconColor",get:function(){return"primary"}}]),n}(as),xs=n("42b0"),js=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,e.tabSystem.app,e.getProjectPath()),r.tab=e,r}return Object(c["a"])(n,[{key:"onChange",value:function(e){this.tab.onChange(e)}}]),n}(us),Os=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r,i){var a;return Object(o["a"])(this,n),a=t.call(this,e,r,i),a.isReloadingDone=new N["a"],a.wintersky=new xs["a"].Scene({fetchTexture:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return n=e.sent,e.prev=3,e.next=6,Ga("RP/".concat(t.particle_texture_path,".png"),n.project.fileSystem);case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e["catch"](3);case 11:case"end":return e.stop()}}),e,null,[[3,9]])})));function t(t){return e.apply(this,arguments)}return t}()}),a.setupComplete.once((function(){a.scene.add(new rs["b"](16)),a.wintersky.global_options.tick_rate=60,a.wintersky.global_options.max_emitter_particles=1e3,a.wintersky.global_options.scale=16})),a.isReloadingDone.dispatch(),a}return Object(c["a"])(n,[{key:"onActivate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"onActivate",this).call(this);case 2:return e.next=4,this.onChange();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){var e;null===(e=this.emitter)||void 0===e||e.stop(!0),Object(Ye["a"])(Object(Xe["a"])(n.prototype),"onDeactivate",this).call(this)}},{key:"onDestroy",value:function(){var e,t;null===(e=this.fileWatcher)||void 0===e||e.dispose(),null===(t=this.emitter)||void 0===t||t.delete(),Object(Ye["a"])(Object(Xe["a"])(n.prototype),"onDestroy",this).call(this)}},{key:"onCreate",value:function(){var e=this;this.addAction(new nn["a"]({icon:"mdi-refresh",name:"Reload",onTrigger:function(){return e.reload()}}))}},{key:"receiveCanvas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=!this._camera,e.next=3,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"receiveCanvas",this).call(this,t);case 3:r&&this.camera.position.set(60,30,60);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadParticle",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.fileWatcher||(this.fileWatcher=new js(this)),t){e.next=25;break}if(null!==(r=this.fileWatcher)&&void 0!==r){e.next=6;break}e.t1=void 0,e.next=11;break;case 6:return e.t2=r,e.next=9,this.getFile();case 9:e.t3=e.sent,e.t1=e.t2.requestFile.call(e.t2,e.t3);case 11:return e.next=13,e.t1;case 13:if(e.t4=n=e.sent,e.t0=null!==e.t4,!e.t0){e.next=17;break}e.t0=void 0!==n;case 17:if(!e.t0){e.next=21;break}e.t5=n,e.next=24;break;case 21:return e.next=23,this.getFile();case 23:e.t5=e.sent;case 24:t=e.t5;case 25:return e.prev=25,e.t6=G.a,e.next=29,t.text();case 29:e.t7=e.sent,a=e.t6.parse.call(e.t6,e.t7),e.next=36;break;case 33:return e.prev=33,e.t8=e["catch"](25),e.abrupt("return");case 36:null===(i=this.emitter)||void 0===i||i.delete(),this.scene.remove(this.wintersky.space),this.config=new xs["a"].Config(this.wintersky,a,{path:this.getProjectPath()}),this.emitter=new xs["a"].Emitter(this.wintersky,this.config,{loop_mode:"looping",parent_mode:"world"}),this.scene.add(this.wintersky.space),this.emitter.start();case 42:case"end":return e.stop()}}),e,this,[[25,33]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"render",value:function(){var e,t,n;null===(e=this.controls)||void 0===e||e.update(),this.wintersky.updateFacingRotation(this.camera),null===(t=this.emitter)||void 0===t||t.tick(),null===(n=this.renderer)||void 0===n||n.render(this.scene,this.camera),this.renderingRequested=!1,this.isActive&&this.requestRendering()}},{key:"onChange",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.isReloadingDone.fired;case 2:return this.isReloadingDone.resetSignal(),e.next=5,this.loadParticle(t);case 5:this.isReloadingDone.dispatch();case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reload",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.onChange();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"icon",get:function(){return"mdi-cube-outline"}},{key:"iconColor",get:function(){return"primary"}}]),n}(as),Ss=Object(qa["debounce"])(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.editorModel&&!t.editorModel.isDisposed()){e.next=2;break}return e.abrupt("return");case 2:return i=null===(n=t.editorModel)||void 0===n?void 0:n.getValue(),e.next=5,_c.getApp();case 5:return a=e.sent,e.next=8,a.project.packIndexer.updateFile(t.getProjectPath(),i);case 8:return e.next=10,a.project.jsonDefaults.updateDynamicSchemas(t.getProjectPath());case 10:a.project.fileChange.dispatch(t.getProjectPath(),new File([null===(r=t.editorModel)||void 0===r?void 0:r.getValue()],t.name));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),600),Cs=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){var i;return Object(o["a"])(this,n),i=t.call(this,e,r),i.component=Ua,i.disposables=[],i.isActive=!1,i.modelLoaded=new N["a"],i.fired.then(Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:t=e.sent,i.getProjectPath().startsWith("RP/models/")?i.addAction(new nn["a"]({icon:"mdi-play",name:"View Model",onTrigger:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.editorModel){e.next=2;break}return e.abrupt("return");case 2:r=new ys(Object(Ba["a"])(i),i.parent,i.fileHandle),i.connectedTabs.push(r),null===(n=t.project.tabSystem)||void 0===n||n.add(r,!0);case 5:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})):i.getProjectPath().startsWith("RP/animations/")?i.addAction(new nn["a"]({icon:"mdi-play",name:"View Animation",onTrigger:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.editorModel){e.next=2;break}return e.abrupt("return");case 2:r=new ys(Object(Ba["a"])(i),i.parent,i.fileHandle),i.connectedTabs.push(r),null===(n=t.project.tabSystem)||void 0===n||n.add(r,!0);case 5:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})):i.getProjectPath().startsWith("RP/particles/")&&i.addAction(new nn["a"]({icon:"mdi-play",name:"View Particle",onTrigger:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i.editorModel){e.next=2;break}return e.abrupt("return");case 2:r=new Os(Object(Ba["a"])(i),i.parent,i.fileHandle),i.connectedTabs.push(r),null===(n=t.project.tabSystem)||void 0===n||n.add(r,!0);case 5:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}));case 4:case"end":return e.stop()}}),e)})))),i}return Object(c["a"])(n,[{key:"editorInstance",get:function(){return this.parent.monacoEditor}},{key:"getFile",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.modelLoaded.fired;case 2:if(this.editorModel){e.next=4;break}throw new Error("Cannot get tab content because no editor model was defined");case 4:if(!this.editorModel.isDisposed()){e.next=6;break}return e.abrupt("return",new File([""],this.name));case 6:return e.abrupt("return",new File([this.editorModel.getValue()],this.name));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setIsUnsaved",value:function(e){Object(Ye["a"])(Object(Xe["a"])(n.prototype),"setIsUnsaved",this).call(this,e)}},{key:"onActivate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,s,o,c,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isActive){e.next=2;break}return e.abrupt("return");case 2:return this.isActive=!0,e.next=5,_c.getApp();case 5:return e.sent,e.next=8,this.parent.fired;case 8:if(this.editorModel){e.next=21;break}return e.next=11,this.fileHandle.getFile();case 11:return s=e.sent,e.next=14,s.text();case 14:o=e.sent,c=j["Uri"].file(this.getPath()),this.editorModel=null!==(a=j["editor"].getModel(c))&&void 0!==a?a:j["editor"].createModel(o,void 0,c),this.modelLoaded.dispatch(),this.loadEditor(),e.next=22;break;case 21:this.loadEditor();case 22:this.disposables.push(null===(t=this.editorModel)||void 0===t?void 0:t.onDidChangeContent((function(){u.isUnsaved=!0,Ss(u)}))),this.disposables.push(null===(n=this.editorInstance)||void 0===n?void 0:n.onDidFocusEditorText((function(){u.parent.setActive(!0)}))),null===(r=this.editorInstance)||void 0===r||r.focus(),null===(i=this.editorInstance)||void 0===i||i.layout();case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onDeactivate",value:function(){var e,t;this.tabSystem.hasFired&&(this.editorViewState=null!==(e=null===(t=this.editorInstance)||void 0===t?void 0:t.saveViewState())&&void 0!==e?e:void 0),this.disposables.forEach((function(e){return null===e||void 0===e?void 0:e.dispose()})),this.isActive=!1}},{key:"onDestroy",value:function(){var e;this.disposables.forEach((function(e){return null===e||void 0===e?void 0:e.dispose()})),null===(e=this.editorModel)||void 0===e||e.dispose(),this.editorViewState=void 0,this.isActive=!1,this.modelLoaded.resetSignal()}},{key:"updateParent",value:function(e){Object(Ye["a"])(Object(Xe["a"])(n.prototype),"updateParent",this).call(this,e)}},{key:"focus",value:function(){var e;null===(e=this.editorInstance)||void 0===e||e.focus()}},{key:"loadEditor",value:function(){var e,t;this.editorModel&&(null===(e=this.editorInstance)||void 0===e||e.setModel(this.editorModel)),this.editorViewState&&(null===(t=this.editorInstance)||void 0===t||t.restoreViewState(this.editorViewState))}},{key:"save",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,o,c,u,l,d,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:if(a=e.sent,o=null===(t=this.editorInstance)||void 0===t?void 0:t.getAction("editor.action.formatDocument"),c=$["a"].get(this.getProjectPath()),!o||null!==(n=null===z["b"]||void 0===z["b"]||null===(r=z["b"].general)||void 0===r?void 0:r.formatOnSave)&&void 0!==n&&!n||null!==(i=null===c||void 0===c?void 0:c.formatOnSaveCapable)&&void 0!==i&&!i){e.next=13;break}return a.windows.loadingWindow.open(),null===(u=this.editorInstance)||void 0===u||u.executeEdits("automatic",[{forceMoveMarkers:!1,range:{startLineNumber:0,endLineNumber:0,startColumn:0,endColumn:0},text:"\t"}]),d=null===(l=this.editorModel)||void 0===l?void 0:l.onDidChangeContent(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===d||void 0===d||d.dispose(),e.next=3,p.saveFile(a);case 3:a.windows.loadingWindow.close();case 4:case"end":return e.stop()}}),e)})))),e.next=11,o.run();case 11:e.next=15;break;case 13:return e.next=15,this.saveFile(a);case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveFile",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isUnsaved=!1,!this.editorModel){e.next=4;break}return e.next=4,t.fileSystem.write(this.fileHandle,this.editorModel.getValue());case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"paste",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==(t=this.editorInstance)&&void 0!==t){e.next=4;break}e.next=10;break;case 4:return e.t0=t,e.next=7,navigator.clipboard.readText();case 7:e.t1=e.sent,e.t2={text:e.t1},e.t0.trigger.call(e.t0,"keyboard","paste",e.t2);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(Ye["a"])(Object(Xe["a"])(n.prototype),"close",this).call(this),!this.isUnsaved){e.next=13;break}return e.next=4,_c.getApp();case 4:return t=e.sent,e.next=7,t.fileSystem.readFile(this.getPath());case 7:return r=e.sent,e.next=10,r.text();case 10:return i=e.sent,e.next=13,t.project.packIndexer.updateFile(this.getProjectPath(),i);case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(Va["a"]),Rs=(n("8a79"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-center justify-center",on:{click:function(t){return e.tab.parent.setActive(!0)}}},[n("img",{staticClass:"img-preview",attrs:{src:e.tab.dataUrl,alt:e.tab.path}})])}),Ps=[],_s={name:"ImageTab",props:{tab:Object}},Fs=_s,Ts=(n("1e30"),Object(fe["a"])(Fs,Rs,Ps,!1,null,"1a2a2cc2",null)),As=Ts.exports,Es=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.component=As,e.dataUrl=void 0,e}return Object(c["a"])(n,[{key:"onActivate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ga(this.getPath());case 2:this.dataUrl=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"icon",get:function(){return"mdi-file-image-outline"}},{key:"iconColor",get:function(){return"primary"}},{key:"save",value:function(){}}],[{key:"is",value:function(e){var t=e.name;return t.endsWith(".png")||t.endsWith(".jpg")||t.endsWith(".jpeg")}}]),n}(Va["a"]),Ms=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:"general.confirm",isVisible:e.isVisible,isPersistent:!1,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:130,hasCloseButton:!1},scopedSlots:e._u([{key:"default",fn:function(){return[n("p",{staticClass:"mt-2"},[e._v(e._s(e.t("windows.unsavedFile.description")))])]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{on:{click:e.onCancel}},[n("span",[e._v(e._s(e.t("general.cancel")))])]),n("v-btn",{attrs:{color:"error"},on:{click:e.onNoSave}},[n("span",[e._v(e._s(e.t("general.close")))])]),n("v-btn",{attrs:{color:"primary"},on:{click:e.onSave}},[n("span",[e._v(e._s(e.t("windows.unsavedFile.save")))])])]},proxy:!0}],null,!1,2118487357)}):e._e()},Ds=[],Ws={name:"Confirm",mixins:[le["a"]],components:{BaseWindow:de["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onCancel:function(){this.currentWindow.cancel()},onNoSave:function(){this.currentWindow.noSave()},onSave:function(){this.currentWindow.save()}}},Bs=Ws,Is=Object(fe["a"])(Bs,Ms,Ds,!1,null,null,null),Vs=Is.exports;ve()(Is,{VBtn:be["a"],VSpacer:we["a"]});var Ls=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,Vs,!0,!1),r.tab=e,r.defineWindow(),r.open(),r}return Object(c["a"])(n,[{key:"noSave",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.close("close"),e.next=3,_c.getApp();case 3:return n=e.sent,e.next=6,null===(t=n.tabSystem)||void 0===t?void 0:t.close(this.tab,!1);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.close("save"),e.next=3,_c.getApp();case 3:return r=e.sent,e.next=6,null===(t=r.tabSystem)||void 0===t?void 0:t.save(this.tab);case 6:return e.next=8,null===(n=r.tabSystem)||void 0===n?void 0:n.close(this.tab,!1);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.close("cancel");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(oe["a"]),Ns=(n("bf19"),n("d28b"),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=arguments.length>1?arguments[1]:void 0;Object(o["a"])(this,e),this.maxSize=t,this.array=[];var r,i=Object(a["a"])(null!==n&&void 0!==n?n:[]);try{for(i.s();!(r=i.n()).done;){var s=r.value;this.add(s)}}catch(c){i.e(c)}finally{i.f()}}return Object(c["a"])(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isEquals.bind(this),n=this.array.findIndex((function(n){return t(n,e)}));return n>-1?(this.array.splice(n,1),this.array.unshift(e),this):(this.array.length>=this.maxSize&&this.array.pop(),this.array.unshift(e),this)}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isEquals.bind(this),n=this.array.findIndex((function(n){return t(n,e)}));return n>-1&&this.array.splice(n,1),this}},{key:"clear",value:function(){this.array=[]}},{key:"isEquals",value:function(e,t){return e===t}},{key:"toJSON",value:function(){return JSON.stringify(this.array)}},{key:Symbol.iterator,value:function(){return this.array.values()}},{key:"size",get:function(){return this.maxSize}},{key:"elementCount",get:function(){return this.array.length}},{key:"elements",get:function(){return Object(k["a"])(this.array)}}]),e}()),$s=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r,i){var a,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Object(o["a"])(this,n),a=t.call(this),a.app=e,a.maxSize=r,a.savePath=i,d["default"].set(Object(Ba["a"])(a),"queue",new Ns(r)),s&&a.setup(),a}return Object(c["a"])(n,[{key:"setup",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.fileSystem.fired;case 2:return t=[],e.prev=3,e.next=6,this.app.fileSystem.readJSON(this.savePath);case 6:t=e.sent,e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](3);case 11:t.forEach((function(e){return n.queue.add(e)})),this.dispatch(this.queue);case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isEquals",value:function(e,t){return e===t}},{key:"keep",value:function(e){var t=this,n=new Ns(this.maxSize);this.elements.filter((function(t){return e(t)})).forEach((function(e){return n.add(e,t.isEquals.bind(t))})),this.queue=n}},{key:"add",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return this.queue.add(t,this.isEquals.bind(this)),e.next=5,this.saveQueue();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return this.queue.remove(t,this.isEquals.bind(this)),e.next=5,this.saveQueue();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){return this.queue.clear(),this.saveQueue()}},{key:"saveQueue",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.fileSystem.mkdir(Pn(this.savePath),{recursive:!0});case 2:return e.next=4,this.app.fileSystem.writeFile(this.savePath,this.queue.toJSON());case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"elements",get:function(){return this.queue.elements}}]),n}(N["a"]),zs=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r,i){var a,c,u;return Object(o["a"])(this,n),u=t.call(this,r,1/0,i),(null===(a=null===z["b"]||void 0===z["b"]||null===(c=z["b"].general)||void 0===c?void 0:c.restoreTabs)||void 0===a||a)&&u.once(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<n.elements.length)){t.next=7;break}return t.next=4,e.openPath(n.elements[r],r+1===n.elementCount);case 4:r++,t.next=1;break;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),u}return n}($s),Hs=(n("466d"),n("2fdd"));function Us(e,t){var n=e.getLineContent(t.lineNumber),r=Js(n,t.column),i=qs(n,t.column);return{word:n.substring(r,i),range:new j["Range"](t.lineNumber,r,t.lineNumber,i)}}function qs(e,t){for(var n=t+1;n<e.length;n++)if('"'===e[n])return n;return e.length}function Js(e,t){for(var n=t-1;n>0;n--)if('"'===e[n])return n+1;return 0}var Gs=n("db05"),Ks=function(){function e(){Object(o["a"])(this,e)}return Object(c["a"])(e,[{key:"provideDefinition",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,o,c,u,l,d,p,h,f,m,v,b,g,w,k,y,x,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:if(c=e.sent,u=Us(t,n),l=u.word,u.range,d=null===(i=c.project.tabSystem)||void 0===i||null===(a=i.selectedTab)||void 0===a?void 0:a.getProjectPath(),d){e.next=7;break}return e.abrupt("return");case 7:return p=d.split("/").shift(),h=null!==(o=$["a"].get(d))&&void 0!==o?o:{},f=h.definitions,e.next=11,$["a"].getLightningCache(d);case 11:if(m=e.sent,f&&"string"!==typeof m&&0!==m.length){e.next=14;break}return e.abrupt("return");case 14:if(v=Object(Hs["a"])(t.getValue(),t.getOffsetAt(n)).path.join("/"),b=this.getDefinition(l,v,m),g=b.definitionId,w=b.transformedWord,g&&w){e.next=18;break}return e.abrupt("return");case 18:if(k=f[g],k){e.next=21;break}return e.abrupt("return");case 21:return Array.isArray(k)||(k=[k]),y=c.project.name,e.next=25,this.getFilePath(w,k,p);case 25:return x=e.sent,e.next=28,Promise.all(x.map(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="projects/".concat(y,"/").concat(t),r=j["Uri"].file(n),j["editor"].getModel(r)){e.next=20;break}return e.prev=3,e.next=6,c.fileSystem.getFileHandle(n);case 6:i=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e["catch"](3),e.abrupt("return",void 0);case 12:return e.t1=j["editor"],e.next=15,i.getFile().then((function(e){return e.text()}));case 15:e.t2=e.sent,e.t3=void 0,e.t4=r,a=e.t1.createModel.call(e.t1,e.t2,e.t3,e.t4),setTimeout((function(){c.project.getFileTab(i)||a.dispose()}),5e3);case 20:return e.abrupt("return",{uri:r,range:new j["Range"](0,0,1/0,1/0)});case 21:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()));case 28:return O=e.sent,e.abrupt("return",O.filter((function(e){return void 0!==e})));case 30:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"getDefinition",value:function(e,t,n){var r,a=e,s=n.map((function(e){var t=e["@filter"],n=e["@map"],r=Object.keys(e).find((function(e){return!e.startsWith("@")}));if(!r)throw new Error("Invalid lightning cache definition: Missing definition key and/or path pair");return[r,e[r],{map:n,filter:t}]})).filter((function(e){return void 0!==e}));return{definitionId:null===(r=s.find((function(n){var r=Object(i["a"])(n,3),s=(r[0],r[1]),o=r[2],c=o.map,u=o.filter,l=Object(Gs["isMatch"])(t,s);return!!l&&(u&&u.includes(e)&&(a=void 0),a&&c&&(a=zn(c,{value:a})),!0)})))||void 0===r?void 0:r[0],transformedWord:a}}},{key:"getFilePath",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,s,o,c,u,l,d,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:i=e.sent,s=[],o=Object(a["a"])(n),e.prev=5,o.s();case 7:if((c=o.n()).done){e.next=27;break}if(d=c.value,!d.directReference){e.next=12;break}return s.push("".concat(r,"/").concat(t)),e.abrupt("continue",25);case 12:return e.next=14,null===(l=i.project.packIndexer.service)||void 0===l?void 0:l.find(d.from,d.match,[t]);case 14:if(e.t1=u=e.sent,e.t0=null!==e.t1,!e.t0){e.next=18;break}e.t0=void 0!==u;case 18:if(!e.t0){e.next=22;break}e.t2=u,e.next=23;break;case 22:e.t2=[];case 23:p=e.t2,s.push.apply(s,Object(k["a"])(p));case 25:e.next=7;break;case 27:e.next=32;break;case 29:e.prev=29,e.t3=e["catch"](5),o.e(e.t3);case 32:return e.prev=32,o.f(),e.finish(32);case 35:return e.abrupt("return",s);case 36:case"end":return e.stop()}}),e,null,[[5,29,32,35]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}();j["languages"].typescript.javascriptDefaults.setCompilerOptions({target:j["languages"].typescript.ScriptTarget.ESNext,allowNonTsExtensions:!0,noLib:!0,alwaysStrict:!0}),j["languages"].registerDefinitionProvider("json",new Ks);var Qs=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r._app=e,r}return Object(c["a"])(n,[{key:"monacoEditor",get:function(){if(!this._monacoEditor)throw new Error("Accessed Monaco Editor before it was defined");return this._monacoEditor}},{key:"createMonacoEditor",value:function(e){var t,n,r=this;this.dispose(),this._monacoEditor=j["editor"].create(e,{theme:"bridgeMonacoDefault",roundedSelection:!1,autoIndent:"full",fontSize:14,wordWrap:null!==z["b"]&&void 0!==z["b"]&&null!==(t=z["b"].editor)&&void 0!==t&&t.wordWrap?"bounded":"off",tabSize:4});var i=this._monacoEditor._codeEditorService,a=i.openCodeEditor.bind(i);i.openCodeEditor=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,i){var s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a(t,n,i);case 2:if(s=e.sent,s){e.next=12;break}return e.prev=4,e.next=7,null===(o=r._app.project.tabSystem)||void 0===o?void 0:o.openPath(t.resource.path.slice(1));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](4),console.error('Failed to open file "'.concat(t.resource.path.slice(1),'"'));case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t,n,r){return e.apply(this,arguments)}}(),null===(n=this._monacoEditor)||void 0===n||n.layout(),this.windowResize=this._app.windowResize.on((function(){return setTimeout((function(){var e;return null===(e=r._monacoEditor)||void 0===e?void 0:e.layout()}))})),this.dispatch()}},{key:"updateOptions",value:function(e){var t;null===(t=this._monacoEditor)||void 0===t||t.updateOptions(e)}},{key:"dispose",value:function(){var e,t;null===(e=this._monacoEditor)||void 0===e||e.dispose(),null===(t=this.windowResize)||void 0===t||t.dispose()}}]),n}(N["a"]),Zs=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(o["a"])(this,n),r=t.call(this,e.app),r.project=e,r.uuid=Object(p["a"])(),r.tabs=[],r._selectedTab=void 0,r.tabTypes=[Es,Cs],r._isActive=!0,r.openedFiles=new zs(Object(Ba["a"])(r),e.app,"projects/".concat(e.name,"/bridge/openedFiles_").concat(i,".json")),r}return Object(c["a"])(n,[{key:"isActive",get:function(){return this._isActive}},{key:"shouldRender",get:function(){return this.tabs.length>0}},{key:"app",get:function(){return this._app}},{key:"selectedTab",get:function(){return this._selectedTab}},{key:"projectRoot",get:function(){return this.project.baseDirectory}},{key:"projectName",get:function(){return this.project.name}},{key:"open",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=!(c.length>1&&void 0!==c[1])||c[1],r=Object(a["a"])(this.tabs),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=12;break}return s=i.value,e.next=8,s.isFor(t);case 8:if(!e.sent){e.next=10;break}return e.abrupt("return",n?s.select():s);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](2),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:return e.next=22,this.getTabFor(t);case 22:return o=e.sent,e.next=25,this.add(o,n);case 25:return e.abrupt("return",o);case 26:case"end":return e.stop()}}),e,this,[[2,14,17,20]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openPath",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],e.next=3,this.project.app.fileSystem.getFileHandle(t);case 3:return r=e.sent,e.next=6,this.open(r,n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTabFor",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=void 0,r=Object(a["a"])(this.tabTypes),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=13;break}return s=i.value,e.next=8,s.is(t);case 8:if(!e.sent){e.next=11;break}return n=new s(this,t),e.abrupt("break",13);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](2),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return n||(n=new Cs(this,t)),e.next=24,n.fired;case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"add",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=!(r.length>1&&void 0!==r[1])||r[1],t.hasFired){e.next=4;break}return e.next=4,t.fired;case 4:if(this.tabs=[].concat(Object(k["a"])(this.tabs),[t]),t.isForeignFile){e.next=8;break}return e.next=8,this.openedFiles.add(t.getPath());case 8:return n&&t.select(),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.onDeactivate();var n=this.tabs.findIndex((function(t){return t===e}));if(-1!==n)return this.tabs.splice(n,1),t&&e.onDestroy(),e===this._selectedTab&&this.select(this.tabs[n-1]),e.isForeignFile||this.openedFiles.remove(e.getPath()),e}},{key:"close",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:this.selectedTab,n=!(i.length>1&&void 0!==i[1])||i[1],t){e.next=4;break}return e.abrupt("return",!1);case 4:if(!n||!t.isUnsaved){e.next=12;break}return r=new Ls(t),e.next=8,r.fired;case 8:return e.t0=e.sent,e.abrupt("return","cancel"!==e.t0);case 12:return this.remove(t),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"closeByPath",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTab(t);case 2:n=e.sent,n&&this.close(n);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"select",value:function(e){var t,n=this;this.isActive!==!!e&&this.setActive(!!e),null!==e&&void 0!==e&&e.isSelected||(null===(t=this._selectedTab)||void 0===t||t.onDeactivate(),this._selectedTab=e,e&&d["default"].nextTick(Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(t=n._selectedTab)||void 0===t?void 0:t.onActivate();case 2:null===(r=n._monacoEditor)||void 0===r||r.layout();case 3:case"end":return e.stop()}}),e)})))))}},{key:"save",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:this.selectedTab,t){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,_c.getApp();case 5:return n=e.sent,n.windows.loadingWindow.open(),e.next=9,t.save();case 9:if(t.isForeignFile){e.next=20;break}return e.next=12,this.project.updateFile(t.getProjectPath());case 12:return e.next=14,this.project.recentFiles.add({path:t.getPath(),name:t.name,color:t.iconColor,icon:t.icon});case 14:return e.t0=this.project.fileSave,e.t1=t.getProjectPath(),e.next=18,t.getFile();case 18:e.t2=e.sent,e.t0.dispatch.call(e.t0,e.t1,e.t2);case 20:t===this.selectedTab&&_c.eventSystem.dispatch("refreshCurrentContext",t.getProjectPath()),n.windows.loadingWindow.close(),t.focus();case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"activate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.selectedTab)||void 0===t?void 0:t.onActivate();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){var e;null===(e=this.selectedTab)||void 0===e||e.onDeactivate(),this.dispose()}},{key:"setActive",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(n&&this.project.setActiveTabSystem(this,!e),this._isActive=e,e)&&_c.eventSystem.dispatch("currentTabSwitched",null===(t=this._selectedTab)||void 0===t?void 0:t.getProjectPath())}},{key:"getTab",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(a["a"])(this.tabs),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}return i=r.value,e.next=7,i.isFor(t);case 7:if(!e.sent){e.next=9;break}return e.abrupt("return",i);case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"closeTabs",value:function(e){var t,n=Object(k["a"])(this.tabs).reverse(),r=Object(a["a"])(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;e(i)&&i.close()}}catch(s){r.e(s)}finally{r.f()}}},{key:"has",value:function(e){var t,n=Object(a["a"])(this.tabs);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return!0}}catch(i){n.e(i)}finally{n.f()}return!0}},{key:"currentComponent",get:function(){var e,t;return null!==(e=null===(t=this._selectedTab)||void 0===t?void 0:t.component)&&void 0!==e?e:Ia["a"]}},{key:"hasUnsavedTabs",get:function(){return this.tabs.some((function(e){return e.isUnsaved}))}}]),n}(Qs),Ys=function(){function e(t){Object(o["a"])(this,e),this.fileSystem=t}return Object(c["a"])(e,[{key:"loadData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fileSystem.readJSON("bridge/config.json");case 3:this.data=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.data={};case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getConfig",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.data){e.next=3;break}return e.next=3,this.loadData();case 3:return e.abrupt("return",this.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.data){e.next=3;break}return e.next=3,this.loadData();case 3:return e.abrupt("return",this.data[t]);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.data){e.next=3;break}return e.next=3,this.loadData();case 3:return this.data[t]=n,e.next=6,this.fileSystem.writeJSON("bridge/config.json",this.data,!0);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),Xs=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){return Object(o["a"])(this,n),t.call(this,e,5,r)}return Object(c["a"])(n,[{key:"isEquals",value:function(e,t){return e.path===t.path}}]),n}($s);function eo(e,t){return to.apply(this,arguments)}function to(){return to=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ga("".concat(t,"/BP/pack_icon.png"),n);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e["catch"](0);case 8:return e.prev=8,e.next=11,Ga("".concat(t,"/RP/pack_icon.png"),n);case 11:return e.abrupt("return",e.sent);case 14:e.prev=14,e.t1=e["catch"](8);case 16:return e.prev=16,e.next=19,Ga("".concat(t,"/SP/pack_icon.png"),n);case 19:return e.abrupt("return",e.sent);case 22:e.prev=22,e.t2=e["catch"](16);case 24:case"end":return e.stop()}}),e,null,[[0,6],[8,14],[16,22]])}))),to.apply(this,arguments)}function no(e,t,n){return e.fileSystem.readJSON("projects/".concat(t,"/").concat(n,"/manifest.json"))}function ro(e,t){return io.apply(this,arguments)}function io(){return io=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,s,o,c,u,l,d,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,He["a"].ready.fired;case 2:return e.next=4,t.fileSystem.readdir("projects/".concat(n),{withFileTypes:!0});case 4:r=e.sent,i=[],s=Object(a["a"])(r),e.prev=7,s.s();case 9:if((o=s.n()).done){e.next=28;break}if(d=o.value,"directory"===d.kind){e.next=13;break}return e.abrupt("continue",26);case 13:if(p=He["a"].get("projects/".concat(n,"/").concat(d.name)),p){e.next=16;break}return e.abrupt("continue",26);case 16:return h={},e.prev=17,e.next=20,no(t,n,d.name);case 20:h=e.sent,e.next=25;break;case 23:e.prev=23,e.t0=e["catch"](17);case 25:i.push(Object(Y["a"])(Object(Y["a"])({},p),{},{version:null!==(c=null===(u=h)||void 0===u||null===(l=u.header)||void 0===l?void 0:l.version)&&void 0!==c?c:[1,0,0]}));case 26:e.next=9;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](7),s.e(e.t1);case 33:return e.prev=33,s.f(),e.finish(33);case 36:return e.abrupt("return",i);case 37:case"end":return e.stop()}}),e,null,[[7,30,33,36],[17,23]])}))),io.apply(this,arguments)}var ao=n("56cb"),so=n("3897"),oo=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.project=e,r.compilers=new Map,r}return Object(c["a"])(n,[{key:"start",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return r=e.sent,e.next=5,r.extensionLoader.fired;case 5:if(i=this.compilers.get(t),!i){e.next=8;break}return e.abrupt("return",i.activate(n));case 8:return i=new so["a"](this,this.project,t),this.compilers.set(t,i),e.next=12,i.activate(n);case 12:this.dispatch();case 13:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"updateFile",value:function(e,t){var n=this.compilers.get(e);if(!n)throw new Error('Cannot update file because compiler for config "bridge/compiler/'.concat(e,"\" doesn't exist"));return n.updateFile(t)}},{key:"compileWithFile",value:function(e,t){var n=this.compilers.get("default.json");if(!n)throw new Error('Cannot update file because compiler for config "bridge/compiler/default.json" doesn\'t exist');return n.compileWithFile(e,t)}},{key:"remove",value:function(e){this.compilers.delete(e)}},{key:"deactivate",value:function(){this.compilers.forEach((function(e){return e.deactivate()}))}},{key:"getCompilerPlugins",value:function(){return Z(this.project.app.extensionLoader.mapActive((function(e){return e.compilerPlugins})))}},{key:"openWindow",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,a,s,o,c,u,l,d,p=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.project.fileSystem.getDirectoryHandle("bridge/compiler",{create:!0});case 2:return t=e.sent,n=new en("sidebar.compiler.name"),e.next=6,n.actionManager;case 6:r=e.sent,i=!0,a=!1,e.prev=9,o=regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=l,"file"===t.kind&&".DS_Store"!==t.name){e.next=3;break}return e.abrupt("return","continue");case 3:return e.next=5,t.getFile();case 5:return n=e.sent,i=void 0,e.prev=7,e.t0=G.a,e.next=11,n.text();case 11:e.t1=e.sent,i=e.t0.parse.call(e.t0,e.t1),e.next=18;break;case 15:return e.prev=15,e.t2=e["catch"](7),e.abrupt("return","continue");case 18:r.create({icon:i.icon,name:i.name,description:i.description,onTrigger:function(){return p.start(t.name,"build")}});case 19:case"end":return e.stop()}}),e,null,[[7,15]])})),c=Object(H["a"])(t.values());case 12:return e.next=14,c.next();case 14:return u=e.sent,i=u.done,e.next=18,u.value;case 18:if(l=e.sent,i){e.next=27;break}return e.delegateYield(o(),"t0",21);case 21:if(d=e.t0,"continue"!==d){e.next=24;break}return e.abrupt("continue",24);case 24:i=!0,e.next=12;break;case 27:e.next=33;break;case 29:e.prev=29,e.t1=e["catch"](9),a=!0,s=e.t1;case 33:if(e.prev=33,e.prev=34,i||null==c.return){e.next=38;break}return e.next=38,c.return();case 38:if(e.prev=38,!a){e.next=41;break}throw s;case 41:return e.finish(38);case 42:return e.finish(33);case 43:case"end":return e.stop()}}),e,this,[[9,29,33,43],[34,,38,42]])})));function t(){return e.apply(this,arguments)}return t}()}]),n}(N["a"]);function co(e){return uo.apply(this,arguments)}function uo(){return uo=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return n=e.sent,e.next=5,n.dataLoader.fired;case 5:if(null===t||void 0===t){e.next=9;break}e.t0=t,e.next=12;break;case 9:return e.next=11,n.projectConfig.get("targetVersion");case 11:e.t0=e.sent;case 12:return r=e.t0,e.next=15,n.fileSystem.readJSON("data/packages/formatVersions.json");case 15:return i=e.sent,e.abrupt("return",i.filter((function(e){return!r||Object(Ht["compare"])(e,r,"<=")})));case 17:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}var lo=n("ade3"),po=(n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("f0b9"));n("a630");function ho(e){return Array.from(e).map((function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var fo=Object(po["a"])()?{encode:function(){}}:new TextEncoder;function mo(e){return vo.apply(this,arguments)}function vo(){return vo=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=fo.encode(t),n){e.next=3;break}return e.abrupt("return","");case 3:return e.next=5,bo(n);case 5:return r=e.sent,e.abrupt("return",ho(r));case 7:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function bo(e){return go.apply(this,arguments)}function go(){return go=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,crypto.subtle.digest("sha-1",t);case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}var wo=function(){function e(t,n){Object(o["a"])(this,e),this.fileType=t,this.componentSrc=n,this.animations=[],this.animationControllers=[],this.createOnPlayer=[]}return Object(c["a"])(e,[{key:"name",get:function(){return this._name}},{key:"load",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={exports:{}},zn(this.componentSrc.replace("export default ","module.exports = "),[n,function(e){return e}],["module","defineComponent"]),"function"===typeof n.exports){e.next=4;break}return e.abrupt("return");case 4:return r=function(e){return s._name=e},i=function(e){return s.schema=e},a=function(){},t&&"server"!==t||(i=function(){},a=function(e){return s.template=e}),e.next=10,n.exports({name:r,schema:i,template:a});case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){this.animations=[],this.animationControllers=[]}},{key:"getSchema",value:function(){return this.schema}},{key:"create",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"minecraft:".concat(this.fileType),i=r.split("/"),a=e;while(i.length>1){var s=i.shift();void 0===a[s]?void 0!==a[Number(s)]?a=a[Number(s)]:(a[s]={},a=a[s]):a=a[s]}a[i[0]]=Q(null!==(n=a[i[0]])&&void 0!==n?n:{},null!==t&&void 0!==t?t:{})}},{key:"processTemplates",value:function(e,t,n){var r,i,a=this;if("function"===typeof this.template){var s=function(e,t){return a.animations.push([e,t])},o=function(e,t){return a.animationControllers.push([e,t])},c=null===(r=e["minecraft:".concat(this.fileType)])||void 0===r||null===(i=r.description)||void 0===i?void 0:i.identifier;"entity"===this.fileType?this.template(null!==t&&void 0!==t?t:{},{create:function(t,n){return a.create(e,t,n)},location:n,identifier:c,animationController:o,animation:s}):"item"===this.fileType?this.template(null!==t&&void 0!==t?t:{},{create:function(t,n){return a.create(e,t,n)},location:n,identifier:c,player:{animationController:o,animation:s,create:function(e,t){return a.createOnPlayer.push([null!==t&&void 0!==t?t:"minecraft:player",e])}}}):"block"===this.fileType&&this.template(null!==t&&void 0!==t?t:{},{create:function(t,n){return a.create(e,t,n)},location:n,identifier:c})}}},{key:"processAnimations",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,l,d=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=null!==(n=null===(r=t["minecraft:".concat(this.fileType)])||void 0===r||null===(a=r.description)||void 0===a?void 0:a.identifier)&&void 0!==n?n:"bridge:no_identifier",e.next=3,mo("".concat(this.name,"/").concat(o));case 3:return c=e.sent,u="BP/animations/bridge/".concat(c,".json"),l="BP/animation_controllers/bridge/".concat(c,".json"),this.createOnPlayer.forEach((function(e){var n=Object(i["a"])(e,2),r=n[0],a=n[1];d.create(t,a,r)})),e.abrupt("return",(s={},Object(lo["a"])(s,u,this.createAnimations(c,t)),Object(lo["a"])(s,l,this.createAnimationControllers(c,t)),s));case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createAnimations",value:function(e,t){if(0!==this.animations.length){var n,r=0,s={format_version:"1.10.0",animations:{}},o=Object(a["a"])(this.animations);try{for(o.s();!(n=o.n()).done;){var c,u=Object(i["a"])(n.value,2),l=u[0],d=u[1];if(l){var p="animation.".concat(e,"_").concat(r),h="".concat(null!==(c=e.slice(0,16))&&void 0!==c?c:"bridge_auto","_anim_").concat(r);s.animations[p]=l,this.create(t,{animations:Object(lo["a"])({},h,p),scripts:{animate:[d?Object(lo["a"])({},h,d):h]}},"minecraft:entity/description"),r++}}}catch(f){o.e(f)}finally{o.f()}return JSON.stringify(s,null,"\t")}}},{key:"createAnimationControllers",value:function(e,t){if(0!==this.animationControllers.length){var n,r=0,s={format_version:"1.10.0",animation_controllers:{}},o=Object(a["a"])(this.animationControllers);try{for(o.s();!(n=o.n()).done;){var c,u=Object(i["a"])(n.value,2),l=u[0],d=u[1];if(l){var p="controller.animation.".concat(e,"_").concat(r),h="".concat(null!==(c=e.slice(0,16))&&void 0!==c?c:"bridge_auto","_control_").concat(r);s.animation_controllers[p]=l,this.create(t,{animations:Object(lo["a"])({},h,p),scripts:[d?Object(lo["a"])({},h,d):h]},"minecraft:entity/description"),r++}}}catch(f){o.e(f)}finally{o.f()}return JSON.stringify(s,null,"\t")}}}]),e}();function ko(e){return yo.apply(this,arguments)}function yo(){return yo=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return n=e.sent,e.prev=3,e.next=6,n.project.fileSystem.getDirectoryHandle("BP/components/".concat(t));case 6:r=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e["catch"](3),e.abrupt("return");case 12:return i={},e.next=15,U(r,function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getFile();case 2:return r=e.sent,e.next=5,r.text();case 5:return a=e.sent,s=new wo(t,a),e.prev=7,e.next=10,s.load("client");case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e["catch"](7),e.abrupt("return");case 15:s.name&&(i[s.name]=s.getSchema());case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}());case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),yo.apply(this,arguments)}var xo={},jo=!1,Oo=function(){function e(t){Object(o["a"])(this,e),this.project=t,this.loadedSchemas=!1,this.localSchemas={},this.disposables=[]}return Object(c["a"])(e,[{key:"activate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.time("[SETUP] JSONDefaults"),this.disposables=[_c.eventSystem.on("currentTabSwitched",(function(e){return t.updateDynamicSchemas(e)})),_c.eventSystem.on("refreshCurrentContext",(function(e){return t.updateDynamicSchemas(e)})),_c.eventSystem.on("disableValidation",(function(){t.setJSONDefaults(!1)}))].filter((function(e){return void 0!==e})),this.loadedSchemas){e.next=5;break}return e.next=5,this.loadAllSchemas();case 5:this.setJSONDefaults(),console.timeEnd("[SETUP] JSONDefaults");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){this.disposables.forEach((function(e){return e.dispose()})),this.disposables=[]}},{key:"loadAllSchemas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.localSchemas={},e.next=3,_c.getApp();case 3:return n=e.sent,e.prev=4,e.t0=this,e.next=8,n.fileSystem.getDirectoryHandle("data/packages/schema");case 8:return e.t1=e.sent,e.next=11,e.t0.loadStaticSchemas.call(e.t0,e.t1);case 11:e.next=16;break;case 13:return e.prev=13,e.t2=e["catch"](4),e.abrupt("return");case 16:return e.t3=this,e.next=19,this.getDynamicSchemas();case 19:return e.t4=e.sent,e.t3.addSchemas.call(e.t3,e.t4,!1),e.next=23,this.runSchemaScripts(n);case 23:if(r=null===(t=this.project.tabSystem)||void 0===t?void 0:t.selectedTab,!r){e.next=33;break}return i=$["a"].getId(r.getProjectPath()),e.t5=this,e.next=29,this.requestSchemaFor(i,r.getProjectPath());case 29:return e.t6=e.sent,e.t5.addSchemas.call(e.t5,e.t6,!1),e.next=33,this.runSchemaScripts(n,r.getProjectPath());case 33:this.loadedSchemas=!0;case 34:case"end":return e.stop()}}),e,this,[[4,13]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"setJSONDefaults",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];j["languages"].json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!1,allowComments:!0,validate:e,schemas:Object.values(Object.assign({},xo,this.localSchemas))})}},{key:"reload",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return t=e.sent,t.windows.loadingWindow.open(),this.loadedSchemas=!1,this.localSchemas={},e.next=8,this.deactivate();case 8:return e.next=10,this.activate();case 10:t.windows.loadingWindow.close();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateDynamicSchemas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return n=e.sent,r=$["a"].getId(t),e.t0=this,e.next=7,this.requestSchemaFor(r,t);case 7:return e.t1=e.sent,e.t0.addSchemas.call(e.t0,e.t1,!1),e.next=11,this.runSchemaScripts(n,t);case 11:this.setJSONDefaults();case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addSchemas",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.forEach((function(e){t.localSchemas[e.uri]?(e.schema&&(t.localSchemas[e.uri].schema=e.schema),e.fileMatch&&(t.localSchemas[e.uri].fileMatch=e.fileMatch)):t.localSchemas[e.uri]=e})),n&&this.setJSONDefaults()}},{key:"requestSchemaFor",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=this.project.packIndexer,e.next=3,r.service.getSchemasFor(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getDynamicSchemas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all($["a"].getIds().map((function(e){return t.requestSchemaFor(e)})));case 2:return e.abrupt("return",e.sent.flat());case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadStaticSchemas",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u,l,d,p,h=this,f=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:"data/packages/schema",!jo){e.next=3;break}return e.abrupt("return");case 3:r=[],a=!0,s=!1,e.prev=6,c=regeneratorRuntime.mark((function e(){var t,a,s,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=d,a=Object(i["a"])(t,2),s=a[0],o=a[1],c="".concat(n,"/").concat(s),".DS_Store"!==o.name){e.next=4;break}return e.abrupt("return","continue");case 4:if("file"!==o.kind){e.next=12;break}return e.t0="file:///".concat(c),e.next=8,o.getFile().then((function(e){return e.text()})).then(G.a.parse).catch((function(){throw new Error('Failed to load schema "'.concat(c,'"'))}));case 8:e.t1=e.sent,xo["file:///".concat(c)]={uri:e.t0,schema:e.t1},e.next=13;break;case 12:r.push(h.loadStaticSchemas(o,c));case 13:case"end":return e.stop()}}),e)})),u=Object(H["a"])(t.entries());case 9:return e.next=11,u.next();case 11:return l=e.sent,a=l.done,e.next=15,l.value;case 15:if(d=e.sent,a){e.next=24;break}return e.delegateYield(c(),"t0",18);case 18:if(p=e.t0,"continue"!==p){e.next=21;break}return e.abrupt("continue",21);case 21:a=!0,e.next=9;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e["catch"](6),s=!0,o=e.t1;case 30:if(e.prev=30,e.prev=31,a||null==u.return){e.next=35;break}return e.next=35,u.return();case 35:if(e.prev=35,!s){e.next=38;break}throw o;case 38:return e.finish(35);case 39:return e.finish(30);case 40:return e.next=42,Promise.all(r);case 42:if("data/packages/schema"===n){e.next=44;break}return e.abrupt("return");case 44:$["a"].getMonacoSchemaArray().forEach((function(e){e.uri&&(xo[e.uri]?(e.schema&&(xo[e.uri].schema=e.schema),e.fileMatch&&(xo[e.uri].fileMatch=e.fileMatch)):xo[e.uri]=e)})),jo=!0;case 46:case"end":return e.stop()}}),e,null,[[6,26,30,40],[31,,35,39]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"runSchemaScripts",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fileSystem.getDirectoryHandle("data/packages/schemaScript");case 2:return r=e.sent,i=this.project.fileSystem,e.next=6,U(r,function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r){var o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.getFile();case 2:return o=e.sent,e.t0=G.a,e.next=6,o.text();case 6:return e.t1=e.sent,c=e.t0.parse.call(e.t0,e.t1),u=[],e.prev=9,e.next=12,$n(c.script,[i.readFilesFromDir.bind(i),p["a"],co,function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a.project.packIndexer,e.abrupt("return",i.service.getCacheDataFor(t,n,r));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),function(){return t.projectConfig.get("prefix")},function(){return n?n.split(/\/|\\/g).pop():void 0},function(e){return ko(e)}],["readdir","uuid","getFormatVersions","getCacheDataFor","getProjectPrefix","getFileName","customComponents"]);case 12:u=e.sent,e.next=17;break;case 15:e.prev=15,e.t2=e["catch"](9);case 17:if("object"!==c.type||Array.isArray(u)||"object"!==Object(K["a"])(u)){e.next=20;break}return a.localSchemas["file:///data/packages/schema/".concat(c.generateFile)]={uri:"file:///data/packages/schema/".concat(c.generateFile),schema:{type:"object",properties:u}},e.abrupt("return");case 20:a.localSchemas["file:///data/packages/schema/".concat(c.generateFile)]={uri:"file:///data/packages/schema/".concat(c.generateFile),schema:{type:"enum"===c.type?"string":"object",enum:"enum"===c.type?u:void 0,properties:"properties"===c.type?Object.fromEntries(u.map((function(e){return[e,{}]}))):void 0}};case 21:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),So=new Map,Co=function(){function e(t){Object(o["a"])(this,e),this.fileSystem=t,this.disposables=[],this.typeDisposables=[],this.currentTypeEnv=null}return Object(c["a"])(e,[{key:"activate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.disposables=[_c.eventSystem.on("currentTabSwitched",(function(e){return n.setTypeEnv(e)}))],!t){e.next=4;break}return e.next=4,this.setTypeEnv(t);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){this.typeDisposables.forEach((function(e){return e.dispose()})),this.disposables.forEach((function(e){return e.dispose()})),this.typeDisposables=[],this.disposables=[]}},{key:"load",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=So.get(t),!n){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,this.fileSystem.readFile("data/packages/".concat(t));case 5:return r=e.sent,e.next=8,r.text();case 8:return n=e.sent,So.set(t,n),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setTypeEnv",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,c,u,l,d,p,h,f,m,v,b=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t!==this.currentTypeEnv){e.next=2;break}return e.abrupt("return");case 2:return this.currentTypeEnv=t,this.typeDisposables.forEach((function(e){return e.dispose()})),this.typeDisposables=[],e.next=7,$["a"].ready.fired;case 7:return r=null!==(n=$["a"].get(t))&&void 0!==n?n:{},o=r.types,c=void 0===o?[]:o,e.next=10,Promise.all(c.map(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=6;break}return e.t0=t,e.next=4,b.load(t);case 4:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 6:return e.next=8,_c.getApp();case 8:return n=e.sent,r=Object(i["a"])(t,2),a=r[0],s=Object(i["a"])(r[1].targetVersion,2),o=s[0],c=s[1],e.next=12,n.projectConfig.get("targetVersion");case 12:if(u=e.sent,!Object(Ht["compare"])(u,c,o)){e.next=19;break}return e.t2=a,e.next=17,b.load(a);case 17:return e.t3=e.sent,e.abrupt("return",[e.t2,e.t3]);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:u=e.sent,l=u.filter((function(e){return void 0!==e})),d=Object(a["a"])(l);try{for(d.s();!(p=d.n()).done;)h=Object(i["a"])(p.value,2),f=h[0],m=h[1],v=j["Uri"].file(f),this.typeDisposables.push(j["languages"].typescript.javascriptDefaults.addExtraLib(m,v.toString()),j["languages"].typescript.typescriptDefaults.addExtraLib(m,v.toString()),j["editor"].createModel(m,"typescript",v))}catch(g){d.e(g)}finally{d.f()}case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Ro=n("72ba"),Po=function(e){var t=e.disposables;return{create:function(e){var n=Ae(e);return t.push(n),n},getSelected:function(){throw new Error("This function no longer works with bridge. v2")},onChange:function(){throw new Error("This function no longer works with bridge. v2")},select:Oe["b"]}},_o=function(e){var t=e.uiStore;return Object(Y["a"])(Object(Y["a"])({},null===t||void 0===t?void 0:t.UI),{},{BuiltIn:{BaseWindow:de["a"],SidebarWindow:St}})},Fo=function(e){var t=e.disposables;return{create:function(e){var n=m(e);return t.push(n),n},createError:function(e){var n=b(e);return t.push(n),n}}},To=(n("7039"),n("3410"),n("8468")),Ao=function(e){return Object(To["a"])(e),new Promise((function(e){_c.ready.once((function(t){var n,r={},i=Object(a["a"])(Object.getOwnPropertyNames(Object.getPrototypeOf(t.fileSystem)));try{for(i.s();!(n=i.n()).done;){var s=n.value;"constructor"!==s&&"function"===typeof t.fileSystem[s]&&(r[s]=t.fileSystem[s].bind(t.fileSystem))}}catch(o){i.e(o)}finally{i.f()}e(r)}))}))},Eo=function(e){return Object(To["a"])(e),{APP_VERSION:ba["a"],getCurrentBP:function(){return"projects/".concat(_c.instance.selectedProject,"/BP")},getCurrentRP:function(){return"projects/".concat(_c.instance.selectedProject,"/RP")},getCurrentProject:function(){return"projects/".concat(_c.instance.selectedProject)},getProjectPrefix:function(){return _c.getApp().then((function(e){return e.projectConfig.get("prefix")}))},getProjectTargetVersion:function(){return _c.getApp().then((function(e){return e.projectConfig.get("targetVersion")}))},getProjectAuthor:function(){return _c.getApp().then((function(e){return e.projectConfig.get("author")}))},getContext:function(){}}},Mo=function(e){return Object(To["a"])(e),{openExternal:function(e){return window.open(e,"_blank")}}},Do=function(e){e.disposables;throw new Error("Module not yet supported on bridge. v2")},Wo=function(){return r},Bo=function(e){return Object(To["a"])(e),{fetchDefinition:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,s,o,c,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=u.length>3&&void 0!==u[3]&&u[3],e.next=3,_c.getApp();case 3:if(s=e.sent,o=null===(i=s.project)||void 0===i?void 0:i.packIndexer,o){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,Promise.all(n.map((function(e){var n,i;return null!==(n=null===(i=o.service)||void 0===i?void 0:i.find(t,e,[r],a))&&void 0!==n?n:[]})));case 9:return c=e.sent,e.abrupt("return",c.flat());case 11:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}},Io=n("e6b7");function Vo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i={};i.done=new Promise((function(e){i.setDone=e}));var a=Object(p["a"])(),s=d["default"].observable(Object.assign(t,{isVisible:!1,shouldRender:!1})),o={component:e,getState:function(){return s},close:function(){r(),s.isVisible=!1,setTimeout((function(){s.shouldRender=!1,n&&o.dispose()}),600)},open:function(){s.shouldRender=!0,s.isVisible=!0},dispose:function(){return d["default"].delete(Io["a"].state,a)},status:i,get isVisible(){return s.isVisible}};return d["default"].set(Io["a"].state,a,o),o}var Lo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldRender?n("BaseWindow",{attrs:{windowTitle:e.$data.title,isVisible:e.isVisible,hasMaximizeButton:!1,isFullscreen:!1,width:440,height:120},on:{closeWindow:e.onClose},scopedSlots:e._u([{key:"default",fn:function(){return[n("v-row",[n("v-text-field",{attrs:{label:e.$data.label,autofocus:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onConfirm(t)}},model:{value:e.$data.inputValue,callback:function(t){e.$set(e.$data,"inputValue",t)},expression:"$data.inputValue"}}),""!==e.$data.expandText?n("p",{staticClass:"expand_text"},[e._v(" "+e._s(e.$data.expandText)+" ")]):e._e()],1)]},proxy:!0},{key:"actions",fn:function(){return[n("v-spacer"),n("v-btn",{attrs:{color:"primary",disabled:""===e.$data.inputValue},on:{click:e.onConfirm}},[n("span",[e._v(e._s(e.t("general.confirm")))])])]},proxy:!0}],null,!1,2202123756)}):e._e()},No=[],$o={name:"Input",mixins:[le["a"]],components:{BaseWindow:de["a"]},props:["currentWindow"],data:function(){return this.currentWindow},methods:{onClose:function(){this.currentWindow.close(),this.currentWindow.inputValue=""},onConfirm:function(){this.currentWindow.close(),this.currentWindow.confirm(),this.currentWindow.inputValue=""}}},zo=$o,Ho=(n("b948"),Object(fe["a"])(zo,Lo,No,!1,null,"12e2bfca",null)),Uo=Ho.exports;ve()(Ho,{VBtn:be["a"],VRow:pr["a"],VSpacer:we["a"],VTextField:Nt["a"]});var qo=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r,i,a,s;return Object(o["a"])(this,n),s=t.call(this,Uo,!0,!1),s.opts=e,s.inputValue=null!==(r=e.default)&&void 0!==r?r:"",Object(Ye["a"])((i=Object(Ba["a"])(s),Object(Xe["a"])(n.prototype)),"defineWindow",i).call(i),Object(Ye["a"])((a=Object(Ba["a"])(s),Object(Xe["a"])(n.prototype)),"open",a).call(a),s}return Object(c["a"])(n,[{key:"title",get:function(){return this.opts.name}},{key:"label",get:function(){return this.opts.label}},{key:"expandText",get:function(){return this.opts.expandText}},{key:"confirm",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.inputValue+(null!==(t=this.expandText)&&void 0!==t?t:""),"function"!==typeof this.opts.onConfirm){e.next=4;break}return e.next=4,this.opts.onConfirm(r);case 4:Object(Ye["a"])(Object(Xe["a"])(n.prototype),"close",this).call(this,r);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(oe["a"]),Jo=function(e){return Object(To["a"])(e),{BaseWindow:oe["a"],createWindow:function(e,t){return console.warn('[@bridge/windows] Calling "createWindow" is deprecated. Please replace direct function calls by defining a class based window instead.'),Vo(e,t)},createInformationWindow:function(e,t){return new u["a"]({name:e,description:t})},createInputWindow:function(e,t,n,r,i){return new qo({name:e,label:t,default:n,expandText:i,onConfirm:r})},createDropdownWindow:function(e,t,n,r,i){return new ks({name:e,default:r,options:n,placeholder:t,onConfirm:i})},createConfirmWindow:function(e,t,n,r,i){return new Vn({description:e,confirmText:t,cancelText:n,onConfirm:r,onCancel:i})}}},Go=void 0,Ko=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(To["a"])(t),e.prev=1,void 0!==Go){e.next=4;break}return e.abrupt("return",new Promise((function(e){_c.ready.once(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.fileSystem.readJSON("projects/".concat(n.selectedProject,"/globals.json"));case 2:Go=t.sent,e(Go);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](1),e.abrupt("return",{});case 9:return e.abrupt("return",Object(Y["a"])({},Go));case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Qo=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.disposables,e.t0=We,e.next=4,_c.getApp();case 4:return e.t1=e.sent.actionManager,e.t2=function(e){_c.toolbar.addCategory(e),n.push(e)},e.abrupt("return",{ToolbarCategory:e.t0,actionManager:e.t1,addCategory:e.t2});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zo=function(){return{compare:Ht["compare"]}},Yo=new Map([["@bridge/ui",_o],["@bridge/sidebar",Po],["@bridge/notification",Fo],["@bridge/fs",Ao],["@bridge/path",Wo],["@bridge/env",Eo],["@bridge/globals",Ko],["@bridge/utils",Mo],["@bridge/file-importer",Do],["@bridge/fetch-definition",Bo],["@bridge/windows",Jo],["@bridge/toolbar",Qo],["@bridge/compare-versions",Zo]]);new Map([["@bridge/notification",Fo],["@bridge/fs",Ao],["@bridge/path",Wo],["@bridge/env",Eo],["@bridge/globals",Ko],["@bridge/utils",Mo],["@bridge/fetch-definition",Bo],["@bridge/compare-versions",Zo]]);function Xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yo;return function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(i){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=n.get(i),!a){r.next=5;break}return r.next=4,a({uiStore:t,disposables:e});case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Xo(e,t)}function tc(e,t,n){return nc.apply(this,arguments)}function nc(){return nc=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,s,o,c,u,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=!0,a=!1,e.prev=2,o=Object(H["a"])(t.values());case 4:return e.next=6,o.next();case 6:return c=e.sent,i=c.done,e.next=10,c.value;case 10:if(u=e.sent,i){e.next=33;break}if(l=u,"directory"!==l.kind){e.next=18;break}return e.next=16,tc(l,n,r);case 16:e.next=30;break;case 18:if("file"!==l.kind){e.next=30;break}return e.next=21,l.getFile();case 21:return d=e.sent,e.t0=rc,e.next=25,d.text();case 25:return e.t1=e.sent,e.t2=n,e.t3=r,e.next=30,(0,e.t0)(e.t1,e.t2,e.t3);case 30:i=!0,e.next=4;break;case 33:e.next=39;break;case 35:e.prev=35,e.t4=e["catch"](2),a=!0,s=e.t4;case 39:if(e.prev=39,e.prev=40,i||null==o.return){e.next=44;break}return e.next=44,o.return();case 44:if(e.prev=44,!a){e.next=47;break}throw s;case 47:return e.finish(44);case 48:return e.finish(39);case 49:case"end":return e.stop()}}),e,null,[[2,35,39,49],[40,,44,48]])}))),nc.apply(this,arguments)}function rc(e,t,n){return $n(e,ec(n,t),["require"])}function ic(e){var t=document.createElement("style");return t.innerHTML=e,document.head.appendChild(t),{dispose:function(){document.head.contains(t)&&document.head.removeChild(t)}}}var ac=n("a256"),sc=n("dac2");function oc(e,t,n){return cc.apply(this,arguments)}function cc(){return cc=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var i,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]?s[3]:"ui",a=[],e.prev=2,e.next=5,t.readdir(i,{withFileTypes:!0});case 5:a=e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](2);case 10:return e.next=12,Promise.all(a.map((function(e){return"file"===e.kind?uc(t,"".concat(i,"/").concat(e.name),n,r):oc(t,n,r,"".concat(i,"/").concat(e.name))})));case 12:case"end":return e.stop()}}),e,null,[[2,8]])}))),cc.apply(this,arguments)}function uc(e,t,n,r){return lc.apply(this,arguments)}function lc(){return lc=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,i){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(".vue"===Fn(n)){e.next=3;break}return b(new Error('NOT A VUE FILE: Provided UI file "'.concat(Tn(n),'" is not a vue file!'))),e.abrupt("return");case 3:a=new Promise(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a,s){var o,c,u,l,p,h,f,m,v,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=ac["parseComponent"],e.next=3,t.readFile(n);case 3:return e.next=5,e.sent.text();case 5:if(e.t1=e.sent,p=(0,e.t0)(e.t1),h=p.template,f=p.script,m=p.styles,v=p.errors,!(v.length>0)){e.next=15;break}return v.forEach((function(e){return b(e)})),e.abrupt("return",s(v[0]));case 15:return e.t2=Y["a"],e.t3=Y["a"],e.t4={name:Tn(n)},e.next=20,rc(null!==(o=null===f||void 0===f||null===(c=f.content)||void 0===c?void 0:c.replace("export default","return"))&&void 0!==o?o:"",r,i);case 20:e.t5=e.sent,e.t6=(0,e.t3)(e.t4,e.t5),e.t7=d["default"].compile(null!==(u=null===h||void 0===h?void 0:h.content)&&void 0!==u?u:'<p color="red">NO TEMPLATE DEFINED</p>'),g=(0,e.t2)(e.t6,e.t7),g.components=Object.assign(null!==(l=g.components)&&void 0!==l?l:{},sc),m.forEach((function(e){return i.push(ic(e.content))})),a(g);case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),r.set(An("ui",n).split(/\\|\//g),(function(){return a}));case 5:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function dc(){var e={};Object(p["a"])();return{get UI(){return e},set:function(t,n){var r=e;while(t.length>1){var i=t.shift();void 0===r[i]&&(r[i]={}),r=r[i]}var a=t.shift();r[Tn(a,Fn(a))]=n},dispose:function(){e=null,null}}}function pc(e,t){return U(e,function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getFile();case 2:return r=e.sent,e.t0=G.a,e.next=6,r.text();case 6:e.t1=e.sent,i=e.t0.parse.call(e.t0,e.t1),t.push($["a"].addPluginFileType(i));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}var hc=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(o["a"])(this,e),this.parent=t,this.manifest=n,this.baseDirectory=r,this._isGlobal=i,this.disposables=[],this.uiStore=dc(),this._compilerPlugins={},this.isLoaded=!1,this.fileSystem=new se["a"](this.baseDirectory)}return Object(c["a"])(e,[{key:"isActive",get:function(){var e;if(!this.parent.activeStatus)throw new Error("Accessed activeStatus property before the corresponding ActiveClass instance was initialized");return null===(e=this.parent.activeStatus)||void 0===e?void 0:e.isActive(this.manifest.id)}},{key:"compilerPlugins",get:function(){return this._compilerPlugins}},{key:"version",get:function(){return this.manifest.version}},{key:"isGlobal",get:function(){return this._isGlobal}},{key:"activate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o,c,u,l,d,p,h,f,m,v,g,w,k=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isLoaded){e.next=2;break}return e.abrupt("return");case 2:return this.isLoaded=!0,e.next=5,_c.getApp();case 5:return r=e.sent,e.next=8,r.fileSystem.baseDirectory.resolve(this.baseDirectory);case 8:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=12;break}e.t0=void 0!==t;case 12:if(!e.t0){e.next=16;break}e.t2=t,e.next=17;break;case 16:e.t2=[];case 17:o=e.t2.join("/"),c=Object(a["a"])(null!==(n=this.manifest.dependencies)&&void 0!==n?n:[]),e.prev=19,c.s();case 21:if((u=c.n()).done){e.next=30;break}return l=u.value,e.next=25,this.parent.activate(l);case 25:if(e.sent){e.next=28;break}return b(new Error('Failed to activate extension "'.concat(this.manifest.name,'": Failed to load one of its dependencies'))),e.abrupt("return");case 28:e.next=21;break;case 30:e.next=35;break;case 32:e.prev=32,e.t3=e["catch"](19),c.e(e.t3);case 35:return e.prev=35,c.f(),e.finish(35);case 38:for(d=0,p=Object.entries(null!==(h=null===(f=this.manifest.compiler)||void 0===f?void 0:f.plugins)&&void 0!==h?h:{});d<p.length;d++)m=Object(i["a"])(p[d],2),v=m[0],g=m[1],this._compilerPlugins[v]="".concat(o,"/").concat(g);return this.disposables.push(r.windows.createPreset.addPresets("".concat(o,"/presets"))),e.prev=40,e.t4=U,e.next=44,this.baseDirectory.getDirectoryHandle("themes");case 44:return e.t5=e.sent,e.t6=function(e){return r.themeManager.loadTheme(e,k.isGlobal,k.disposables)},e.next=48,(0,e.t4)(e.t5,e.t6);case 48:e.next=52;break;case 50:e.prev=50,e.t7=e["catch"](40);case 52:return e.prev=52,e.t8=pc,e.next=56,this.baseDirectory.getDirectoryHandle("fileDefinitions");case 56:return e.t9=e.sent,e.t10=this.disposables,e.next=60,(0,e.t8)(e.t9,e.t10);case 60:e.next=64;break;case 62:e.prev=62,e.t11=e["catch"](52);case 64:return e.prev=64,e.next=67,this.baseDirectory.getDirectoryHandle("scripts");case 67:w=e.sent,e.next=72;break;case 70:e.prev=70,e.t12=e["catch"](64);case 72:return e.next=74,Promise.all([oc(this.fileSystem,this.uiStore,this.disposables).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!w){e.next=6;break}return e.next=3,tc(w,k.uiStore,k.disposables);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)}))))]);case 74:case"end":return e.stop()}}),e,this,[[19,32,35,38],[40,50],[52,62],[64,70]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){this.disposables.forEach((function(e){return e.dispose()})),this.isLoaded=!1}},{key:"setActive",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,this.activate();case 3:e.next=6;break;case 5:this.deactivate();case 6:return e.next=8,null===(n=this.parent.activeStatus)||void 0===n?void 0:n.setActive(this.manifest.id,t);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"forStore",value:function(e){var t=new an(e,this.manifest);return t.setInstalled(),t}}]),e}(),fc=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){var i;return Object(o["a"])(this,n),i=t.call(this),i.fileSystem=e,i.savePath=r,i.inactiveExtensions=new Set,i.loadFile().finally((function(){return i.dispatch()})),i}return Object(c["a"])(n,[{key:"loadFile",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=Set,e.next=4,this.fileSystem.readJSON(this.savePath);case 4:e.t1=e.sent,this.inactiveExtensions=new e.t0(e.t1),e.next=10;break;case 8:e.prev=8,e.t2=e["catch"](0);case 10:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fileSystem.writeJSON(this.savePath,Object(k["a"])(this.inactiveExtensions));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setActive",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n?this.inactiveExtensions.delete(t):this.inactiveExtensions.add(t),e.next=3,this.save();case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"isActive",value:function(e){return!this.inactiveExtensions.has(e)}}]),n}(N["a"]),mc=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(o["a"])(this,n),i=t.call(this),i.fileSystem=e,i.saveInactivePath=r,i.isGlobal=a,i._extensions=new Map,i._loadedInstalledExtensions=new N["a"](2),i}return Object(c["a"])(n,[{key:"extensions",get:function(){return this._extensions}},{key:"loadActiveExtensions",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.activeStatus=new fc(this.fileSystem,this.saveInactivePath),e.next=3,this.activeStatus.fired;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getInstalledExtensions",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.abrupt("return",new Map(this.extensions.entries()));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadExtensions",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,s,o,c,u,l,d,p,h,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadActiveExtensions();case 2:n=[],r=!0,s=!1,e.prev=5,c=Object(H["a"])(t.values());case 7:return e.next=9,c.next();case 9:return u=e.sent,r=u.done,e.next=13,u.value;case 13:if(l=e.sent,r){e.next=22;break}if(d=l,".DS_Store"!==d.name){e.next=18;break}return e.abrupt("continue",19);case 18:n.push(this.loadExtension(t,d,!1));case 19:r=!0,e.next=7;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e["catch"](5),s=!0,o=e.t0;case 28:if(e.prev=28,e.prev=29,r||null==c.return){e.next=33;break}return e.next=33,c.return();case 33:if(e.prev=33,!s){e.next=36;break}throw o;case 36:return e.finish(33);case 37:return e.finish(28);case 38:return e.next=40,Promise.all(n);case 40:this._loadedInstalledExtensions.dispatch(),p=Object(a["a"])(this._extensions),e.prev=42,p.s();case 44:if((h=p.n()).done){e.next=51;break}if(f=Object(i["a"])(h.value,2),f[0],m=f[1],!m.isActive){e.next=49;break}return e.next=49,m.activate();case 49:e.next=44;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e["catch"](42),p.e(e.t1);case 56:return e.prev=56,p.f(),e.finish(56);case 59:this.dispatch();case 60:case"end":return e.stop()}}),e,this,[[5,24,28,38],[29,,33,37],[42,53,56,59]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadExtension",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]&&a[2],"file"!==n.kind||!n.name.endsWith(".zip")){e.next=14;break}return e.t0=this,e.t1=n,e.next=6,t.getDirectoryHandle(n.name.replace(".zip",""),{create:!0});case 6:return e.t2=e.sent,e.next=9,e.t0.unzipExtension.call(e.t0,e.t1,e.t2);case 9:return i=e.sent,e.next=12,t.removeEntry(n.name);case 12:e.next=18;break;case 14:if("directory"!==n.kind){e.next=18;break}return e.next=17,this.loadManifest(n);case 17:i=e.sent;case 18:if(!r||!i){e.next=21;break}return e.next=21,i.activate();case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"unzipExtension",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new se["a"](n),e.next=3,t.getFile();case 3:return i=e.sent,e.next=6,new Promise(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Ro["a"],e.t1=Uint8Array,e.next=4,i.arrayBuffer();case 4:return e.t2=e.sent,e.t3=new e.t1(e.t2),e.t4=function(e,r){e?n(e):t(r)},e.abrupt("return",(0,e.t0)(e.t3,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 6:a=e.sent,e.t0=regeneratorRuntime.keys(a);case 8:if((e.t1=e.t0()).done){e.next=20;break}if(o=e.t1.value,!o.startsWith(".")){e.next=12;break}return e.abrupt("continue",8);case 12:if(!o.endsWith("/")){e.next=16;break}return e.next=15,r.mkdir(o.slice(0,-1),{recursive:!0});case 15:return e.abrupt("continue",8);case 16:return e.next=18,r.writeFile(o,a[o]);case 18:e.next=8;break;case 20:return e.next=22,this.loadManifest(n);case 22:return e.abrupt("return",e.sent);case 23:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadManifest",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getFileHandle("manifest.json");case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return");case 9:return e.next=11,n.getFile();case 11:return r=e.sent,e.next=14,r.text().then((function(e){return JSON.parse(e)}));case 14:if(i=e.sent,!i.id){e.next=21;break}return a=new hc(this,i,t,this.isGlobal),this._extensions.set(i.id,a),e.abrupt("return",a);case 21:b(new Error('Failed to load extension "'.concat(null!==(s=i.name)&&void 0!==s?s:t.name,'": Invalid extension ID')));case 22:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"activate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.extensions.get(t);case 2:if(n=e.sent,!n){e.next=10;break}if(n.isActive){e.next=7;break}return e.next=7,n.activate();case 7:return e.abrupt("return",!0);case 10:return b(new Error('Failed to activate extension with ID "'.concat(t,'": Extension not found'))),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deactiveAll",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(a["a"])(this._extensions);try{for(n.s();!(e=n.n()).done;){var r=Object(i["a"])(e.value,2),s=r[0],o=r[1];o.deactivate(),t&&this._extensions.delete(s)}}catch(c){n.e(c)}finally{n.f()}}},{key:"disposeAll",value:function(){this.deactiveAll(!0)}},{key:"mapActive",value:function(e){var t,n=[],r=Object(a["a"])(this._extensions.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isActive&&n.push(e(i))}}catch(s){r.e(s)}finally{r.f()}return n}}]),n}(N["a"]),vc=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(){return Object(o["a"])(this,n),t.call(this,[],!0)}return Object(c["a"])(n,[{key:"dispatch",value:function(e,t){this.hasEvent(e)&&Object(Ye["a"])(Object(Xe["a"])(n.prototype),"dispatch",this).call(this,e,t)}},{key:"on",value:function(e,t){return this.hasEvent(e)||this.create(e),Object(Ye["a"])(Object(Xe["a"])(n.prototype),"on",this).call(this,e,t)}}]),n}(L),bc=function(){function e(t,n,r){Object(o["a"])(this,e),this.parent=t,this.app=n,this._baseDirectory=r,this.tabSystems=[new Zs(this),new Zs(this,1)],this.compilerManager=new oo(this),this.jsonDefaults=new Oo(this),this.typeLoader=new Co(this.app.fileSystem),this.extensionLoader=new mc(this.app.fileSystem,"projects/".concat(this.name,"/bridge/inactiveExtensions.json")),this.fileChange=new vc,this.fileSave=new vc,this._fileSystem=new se["a"](r),this.config=new Ys(this._fileSystem),this.packIndexer=new ao["a"](n,r),d["default"].set(this,"recentFiles",new Xs(n,"projects/".concat(this.name,"/bridge/recentFiles.json")))}return Object(c["a"])(e,[{key:"projectData",get:function(){return this._projectData}},{key:"name",get:function(){return this.baseDirectory.name}},{key:"tabSystem",get:function(){return this.tabSystems[0].isActive?this.tabSystems[0]:this.tabSystems[1].isActive?this.tabSystems[1]:void 0}},{key:"inactiveTabSystem",get:function(){return this.tabSystems[0].isActive?this.tabSystems[1].isActive?void 0:this.tabSystems[1]:this.tabSystems[0]}},{key:"baseDirectory",get:function(){return this._baseDirectory}},{key:"fileSystem",get:function(){return this._fileSystem}},{key:"activate",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o,c=this,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=u.length>0&&void 0!==u[0]&&u[0],this.parent.title.setProject(this.name),i=Object(a["a"])(this.tabSystems),e.prev=3,i.s();case 5:if((s=i.n()).done){e.next=11;break}return o=s.value,e.next=9,o.activate();case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:return e.t1=this.extensionLoader,e.next=22,this.fileSystem.getDirectoryHandle("bridge/extensions",{create:!0});case 22:return e.t2=e.sent,e.next=25,e.t1.loadExtensions.call(e.t1,e.t2);case 25:return this.typeLoader.activate(null===(t=this.tabSystem)||void 0===t||null===(n=t.selectedTab)||void 0===n?void 0:n.getProjectPath()),e.next=28,this.packIndexer.activate(r).then((function(){c.jsonDefaults.activate(),c.compilerManager.start("default.json","dev")}));case 28:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"deactivate",value:function(){this.tabSystems.forEach((function(e){return e.deactivate()})),this.typeLoader.deactivate(),this.packIndexer.deactivate(),this.compilerManager.deactivate(),this.jsonDefaults.deactivate(),this.extensionLoader.disposeAll()}},{key:"refresh",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.deactivate();case 2:return e.next=4,this.activate(!0);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openFile",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,s,o,c,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=!(u.length>1&&void 0!==u[1])||u[1],i=Object(a["a"])(this.tabSystems),e.prev=2,i.s();case 4:if((s=i.n()).done){e.next=13;break}return o=s.value,e.next=8,o.getTab(t);case 8:if(c=e.sent,!c){e.next=11;break}return e.abrupt("return",r?o.select(c):void 0);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](2),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:null===(n=this.tabSystem)||void 0===n||n.open(t,r);case 22:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"closeFile",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(a["a"])(this.tabSystems),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=11;break}return i=r.value,e.next=7,i.getTab(t);case 7:s=e.sent,null===s||void 0===s||s.close();case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFileTab",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(a["a"])(this.tabSystems),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=12;break}return i=r.value,e.next=7,i.getTab(t);case 7:if(s=e.sent,void 0===s){e.next=10;break}return e.abrupt("return",s);case 10:e.next=3;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[1,14,17,20]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"absolutePath",value:function(e){return"projects/".concat(this.name,"/").concat(e)}},{key:"getProjectPath",value:function(e){return this.baseDirectory.resolve(e).then((function(e){return null===e||void 0===e?void 0:e.join("/")}))}},{key:"updateFile",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.fileSystem.getFileHandle(t);case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e["catch"](0),e.abrupt("return");case 8:return e.next=10,this.packIndexer.updateFile(t);case 10:return e.next=12,this.compilerManager.updateFile("default.json",t);case 12:return e.next=14,this.jsonDefaults.updateDynamicSchemas(t);case 14:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getFileFromDiskOrTab",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fileSystem.getFileHandle(t);case 2:return n=e.sent,e.next=5,this.getFileTab(n);case 5:if(r=e.sent,!r){e.next=8;break}return e.abrupt("return",r.getFile());case 8:return e.next=10,n.getFile();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setActiveTabSystem",value:function(e,t){this.tabSystems.forEach((function(n){return e!==n?n.setActive(t,!1):void 0}))}},{key:"hasPacks",value:function(e){var t,n=this,r=Object(a["a"])(e);try{var i=function(){var e=t.value;if(!n._projectData.contains.some((function(t){var n=t.id;return n===e})))return{v:!1}};for(r.s();!(t=r.n()).done;){var s=i();if("object"===Object(K["a"])(s))return s.v}}catch(o){r.e(o)}finally{r.f()}return!0}},{key:"loadProject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.app.fileSystem.readJSON("projects/".concat(this.name,"/bridge/config.json"));case 3:t=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t={};case 9:return e.t1=d["default"],e.t2=this,e.t3=Y["a"],e.t4=Object(Y["a"])({},t),e.t5={},e.t6=this.name,e.t7=this.name,e.next=18,eo("projects/".concat(this.name),this.app.fileSystem);case 18:e.t8=e.sent,e.t9=[],e.t10={path:e.t6,name:e.t7,imgSrc:e.t8,contains:e.t9},e.t11=(0,e.t3)(e.t4,e.t5,e.t10),e.t1.set.call(e.t1,e.t2,"_projectData",e.t11),ro(this.app,this.name).then((function(e){return d["default"].set(n._projectData,"contains",e)}));case 24:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),gc=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e,r){return Object(o["a"])(this,n),t.call(this,e,5,r)}return Object(c["a"])(n,[{key:"isEquals",value:function(e,t){return e.path===t.path}}]),n}($s),wc=function(){function e(){Object(o["a"])(this,e),this.current=Object(h["d"])("bridge. v2"),this.titleTag=document.head.getElementsByTagName("title")[0]}return Object(c["a"])(e,[{key:"setProject",value:function(e){this.titleTag.innerText="".concat(e," - bridge. v2"),this.current.value="".concat(e," - bridge. v2")}}]),e}(),kc=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.app=e,r.state={},r.title=Object.freeze(new wc),r._selectedProject=void 0,r.projectReady=new N["a"],r.loadProjects(),d["default"].set(Object(Ba["a"])(r),"recentProjects",new gc(r.app,"data/recentProjects.json")),r.once((function(){r.recentProjects.keep((function(e){return Object.values(r.state).findIndex((function(t){return t.projectData.path===e.path}))>-1}))})),r}return Object(c["a"])(n,[{key:"currentProject",get:function(){if(this.selectedProject)return this.state[this.selectedProject]}},{key:"selectedProject",get:function(){return this._selectedProject}},{key:"getProjects",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.abrupt("return",Object.values(this.state).map((function(e){return e.projectData})));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addProject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],r=new bc(this,this.app,t),e.next=4,r.loadProject();case 4:if(d["default"].set(this.state,r.name,r),!n){e.next=8;break}return e.next=8,this.selectProject(r.name);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeProject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.state[t],n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.deactivate();case 5:return d["default"].delete(this.state,t),e.next=8,this.app.fileSystem.unlink("projects/".concat(t));case 8:this.recentProjects.remove(n.projectData);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadProjects",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.app.fileSystem.fired;case 2:return e.next=4,this.app.dataLoader.fired;case 4:return t=[],e.prev=5,e.next=8,this.app.fileSystem.readdir("projects",{withFileTypes:!0});case 8:t=e.sent,e.next=13;break;case 11:e.prev=11,e.t0=e["catch"](5);case 13:if(n=t.filter((function(e){var t=e.kind;return"directory"===t})),0!==n.length){e.next=21;break}return r=this.app.windows.createProject,r.open(!0),e.next=19,r.fired;case 19:e.next=38;break;case 21:i=Object(a["a"])(n),e.prev=22,i.s();case 24:if((s=i.n()).done){e.next=30;break}return o=s.value,e.next=28,this.addProject(o,!1);case 28:e.next=24;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e["catch"](22),i.e(e.t1);case 35:return e.prev=35,i.f(),e.finish(35);case 38:this.dispatch();case 39:case"end":return e.stop()}}),e,this,[[5,11],[22,32,35,38]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"selectProject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==this.state[t]){e.next=2;break}throw new Error('Cannot select project "'.concat(t,'" because it no longer exists'));case 2:if(null===(n=this.currentProject)||void 0===n||n.deactivate(),this._selectedProject=t,_c.eventSystem.dispatch("disableValidation",null),null===(r=this.currentProject)||void 0===r||r.activate(),!this.currentProject){e.next=9;break}return e.next=9,this.recentProjects.add(this.currentProject.projectData);case 9:return e.next=11,Object(B["c"])("selectedProject",t);case 11:return e.next=13,this.app.switchProject(this.currentProject);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"selectLastProject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return e.next=4,Object(B["b"])("selectedProject");case 4:if(n=e.sent,"string"!==typeof n){e.next=18;break}return e.prev=6,e.next=9,t.fileSystem.getDirectoryHandle("projects/".concat(n));case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e["catch"](6),e.next=15,this.loadFallback();case 15:n=e.sent;case 16:e.next=21;break;case 18:return e.next=20,this.loadFallback();case 20:n=e.sent;case 21:if("string"!==typeof n){e.next=26;break}return e.next=24,this.selectProject(n);case 24:e.next=27;break;case 26:throw new Error("Expected string, found ".concat(Object(K["a"])(n)));case 27:this.projectReady.dispatch();case 28:case"end":return e.stop()}}),e,this,[[6,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadFallback",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fired;case 2:return t=Object.keys(this.state)[0],e.next=5,Object(B["c"])("selectedProject",t);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateAllEditorOptions",value:function(e){Object.values(this.state).forEach((function(t){return t.tabSystems.forEach((function(t){return t.updateOptions(e)}))}))}}]),n}(N["a"]),yc=function(){function e(){Object(o["a"])(this,e),this.isVisible=!1,this.actionManager=void 0,this.position={x:0,y:0}}return Object(c["a"])(e,[{key:"show",value:function(e,t){this.position.x=e.clientX,this.position.y=e.clientY,this.actionManager=t,this.isVisible=!0}}]),e}(),xc=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this,e.fileSystem,"data/inactiveExtensions.json",!0),r.app=e,r}return Object(c["a"])(n,[{key:"getInstalledExtensions",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Map,e.t1=[],e.t2=k["a"],e.next=5,Object(Ye["a"])(Object(Xe["a"])(n.prototype),"getInstalledExtensions",this).call(this);case 5:return e.t3=e.sent.entries(),e.t4=(0,e.t2)(e.t3),e.t5=k["a"],e.next=10,this.app.project.extensionLoader.getInstalledExtensions();case 10:return e.t6=e.sent.entries(),e.t7=(0,e.t5)(e.t6),e.t8=e.t1.concat.call(e.t1,e.t4,e.t7),e.abrupt("return",new e.t0(e.t8));case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mapActive",value:function(e){var t,n=this.app.project.extensionLoader.mapActive(e),r=Object(a["a"])(this._extensions.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.isActive&&n.push(e(i))}}catch(s){r.e(s)}finally{r.f()}return n}}]),n}(mc),jc=function(){function e(t){var n=this;Object(o["a"])(this,e),this.app=t,this.state=d["default"].observable({isHovering:!1}),this.fileHandlers=new Map,window.addEventListener("dragover",(function(e){var t;e.preventDefault(),"move"!==(null===(t=e.dataTransfer)||void 0===t?void 0:t.effectAllowed)&&(n.state.isHovering=!0)})),window.addEventListener("mouseout",(function(e){e.preventDefault(),null==e.relatedTarget&&(n.state.isHovering=!1)})),window.addEventListener("dragend",(function(e){e.preventDefault(),n.state.isHovering=!1})),window.addEventListener("drop",(function(e){var t,r;e.preventDefault(),n.onDrop(Object(k["a"])(null!==(t=null===(r=e.dataTransfer)||void 0===r?void 0:r.items)&&void 0!==t?t:[])),n.state.isHovering=!1})),"launchQueue"in window&&window.launchQueue.setConsumer(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.files.length){e.next=2;break}return e.abrupt("return");case 2:r=Object(a["a"])(t.files),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=11;break}return s=i.value,e.next=9,n.importFile(s);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t){return e.apply(this,arguments)}}())}return Object(c["a"])(e,[{key:"onDrop",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(a["a"])(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=19;break}return i=r.value,e.next=7,i.getAsFileSystemHandle();case 7:if(s=e.sent,s){e.next=10;break}return e.abrupt("return");case 10:if("directory"!==s.kind){e.next=14;break}"com.mojang"===s.name&&this.app.comMojang.handleComMojangDrop(s),e.next=17;break;case 14:if("file"!==s.kind){e.next=17;break}return e.next=17,this.importFile(s);case 17:e.next=3;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](1),n.e(e.t0);case 24:return e.prev=24,n.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[1,21,24,27]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"importFile",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Fn(t.name),r=this.fileHandlers.get(n),r){e.next=4;break}return e.abrupt("return",!1);case 4:return e.prev=4,e.next=7,r(t);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](4),console.error(e.t0),e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this,[[4,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addFileImporter",value:function(e,t){var n=this;if(this.fileHandlers.has(e))throw new Error("Handler for ".concat(e," already exists"));return this.fileHandlers.set(e,t),{dispose:function(){return n.fileHandlers.delete(e)}}}}]),e}(),Oc=function(){function e(t,n){Object(o["a"])(this,e),this.disposables=[];var r,i=Object(a["a"])(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;this.disposables.push(n.addFileImporter(s,this.onImport.bind(this)))}}catch(c){i.e(c)}finally{i.f()}}return Object(c["a"])(e,[{key:"dispose",value:function(){this.disposables.forEach((function(e){return e.dispose()}))}}]),e}(),Sc=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){return Object(o["a"])(this,n),t.call(this,[".mcfunction",".json",".molang",".js",".ts",".lang"],e)}return Object(c["a"])(n,[{key:"onImport",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_c.getApp();case 2:return n=e.sent,e.next=5,n.project.openFile(t);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(Oc),Cc=function e(t){Object(o["a"])(this,e),new Sc(t)},Rc="comMojangDirectory",Pc=function(e){Object(g["a"])(n,e);var t=Object(w["a"])(n);function n(e){var r;return Object(o["a"])(this,n),r=t.call(this),r.app=e,r.fileSystem=new se["a"],r._hasComMojang=!1,Object(B["b"])(Rc).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,r.app.fileSystem.fired;case 3:return e.next=5,r.requestPermissions(t);case 5:r.dispatch();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r}return Object(c["a"])(n,[{key:"hasComMojang",get:function(){return this._hasComMojang}},{key:"requestPermissions",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new u["a"]({name:"comMojang.title",description:"comMojang.permissionRequest",onClose:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.requestPermission({mode:"readwrite"});case 2:n=e.sent,"granted"!==n&&Object(B["c"])(Rc,void 0),r.fileSystem.setup(t),r._hasComMojang=!0;case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()}),e.next=3,n.fired;case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"set",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Object(B["c"])(Rc,t),e.next=3,this.requestPermissions(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleComMojangDrop",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new Vn({description:"comMojang.folderDropped",confirmText:"general.yes",cancelText:"general.no"}),e.next=3,n.fired;case 3:if(!e.sent){e.next=6;break}return e.next=6,this.set(t);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(N["a"]),_c=function(){function e(t){var n=this;Object(o["a"])(this,e),this.keyBindingManager=new Ea,this.actionManager=new Xt["a"](this),this.taskManager=new De["a"],this.dataLoader=new _a(this),this.fileSystem=new se["a"],this.projectManager=d["default"].observable(new kc(this)),this.extensionLoader=new xc(this),this.windowResize=new Da,this.contextMenu=new yc,this.fileDropper=new jc(this),this.fileImportManager=new Cc(this.fileDropper),this.comMojang=new Pc(this),this.languageManager=new D,this.installApp=new Wa,this.themeManager=new ae(t.$vuetify),this.locales=new ze["a"](t.$vuetify),this._windows=new Ra(this);var r="Are you sure that you want to close bridge.? Unsaved progress will be lost.";window.addEventListener("beforeunload",(function(e){var t;if(null!==(t=n.tabSystem)&&void 0!==t&&t.hasUnsavedTabs||n.taskManager.hasRunningTasks)return e.preventDefault(),e.returnValue=r,r}))}return Object(c["a"])(e,[{key:"windows",get:function(){return this._windows}},{key:"tabSystem",get:function(){var e;return null===(e=this.projectManager.currentProject)||void 0===e?void 0:e.tabSystem}},{key:"selectedProject",get:function(){return this.projectManager.selectedProject}},{key:"project",get:function(){if(!this.projectManager.currentProject)throw new Error("Trying to access project before it is defined. Make sure to await app.projectManager.projectReady.fired");return this.projectManager.currentProject}},{key:"projectConfig",get:function(){return this.project.config}},{key:"switchProject",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r,s,o,c,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.themeManager.updateTheme(),"string"===typeof(null===z["b"]||void 0===z["b"]||null===(r=z["b"].general)||void 0===r?void 0:r.locale))this.locales.selectLanguage(null===z["b"]||void 0===z["b"]||null===(s=z["b"].general)||void 0===s?void 0:s.locale);else{o=Object(a["a"])(this.locales.getLanguages());try{for(o.s();!(c=o.n()).done;)u=Object(i["a"])(c.value,1),l=u[0],navigator.language.includes(l)&&this.locales.selectLanguage(l)}catch(n){o.e(n)}finally{o.f()}}e.eventSystem.dispatch("projectChanged",void 0);case 3:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()},{key:"beforeStartUp",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.time("[APP] beforeStartUp()"),navigator.clearAppBadge&&navigator.clearAppBadge(),Me(),Ne(this),this.dataLoader.start(),t=m({icon:"mdi-discord",message:"sidebar.notifications.discord.message",color:"#7289DA",textColor:"white",onClick:function(){n.windows.discordWindow.open(),t.dispose()}}),console.timeEnd("[APP] beforeStartUp()");case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startUp",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.time("[APP] startUp()"),e.next=3,Promise.all([this.fileSystem.mkdir("projects"),this.fileSystem.mkdir("extensions"),this.fileSystem.mkdir("data/packages"),this.dataLoader.fired.then((function(){return $["a"].setup(t.fileSystem)})),this.dataLoader.fired.then((function(){return He["a"].setup(t.fileSystem)}))]);case 3:this.projectManager.projectReady.fired.then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t.extensionLoader,e.next=3,t.fileSystem.getDirectoryHandle("extensions");case 3:return e.t1=e.sent,e.abrupt("return",e.t0.loadExtensions.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})))),console.timeEnd("[APP] startUp()");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}],[{key:"instance",get:function(){return this._instance}},{key:"getApp",value:function(){return new Promise((function(t){return e.ready.once((function(e){return t(e)}))}))}},{key:"createNativeWindow",value:function(e,t){var n;return null!==z["b"]&&void 0!==z["b"]&&null!==(n=z["b"].general)&&void 0!==n&&n.openLinksInBrowser?window.open(e,"_blank"):window.open(e,t,"toolbar=no,menubar=no,status=no")}},{key:"main",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this._instance=Object.freeze(new e(n)),this.instance.windows.loadingWindow.open(),t.next=4,this.instance.beforeStartUp();case 4:return t.next=6,this.fileSystemSetup.setupFileSystem(this.instance);case 6:if(r=t.sent,r){t.next=9;break}return t.abrupt("return",this.instance.windows.loadingWindow.close());case 9:return this.instance.fileSystem.setup(r),t.next=12,Object(B["b"])("firstStartAfterUpdate");case 12:if(!t.sent){t.next=16;break}return t.next=15,Object(B["c"])("firstStartAfterUpdate",!1);case 15:this.instance.windows.changelogWindow.open();case 16:return ca.loadSettings(this.instance).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.instance.dataLoader.fired;case 2:i.instance.themeManager.loadDefaultThemes(i.instance);case 3:case"end":return e.stop()}}),e)})))),t.next=19,this.instance.startUp();case 19:return this.ready.dispatch(this.instance),t.next=22,this.instance.projectManager.selectLastProject(this.instance);case 22:this.instance.windows.loadingWindow.close();case 23:case"end":return t.stop()}}),t,this)})));function n(e){return t.apply(this,arguments)}return n}()}]),e}();_c.fileSystemSetup=new je,_c.toolbar=new Ma,_c.eventSystem=new L(["projectChanged","currentTabSwitched","refreshCurrentContext","disableValidation"]),_c.ready=new N["a"]},d3d1:function(e,t,n){"use strict";n("df31")},d526:function(e,t,n){"use strict";n("9f8f")},d638:function(e,t,n){"use strict";n("6253")},df31:function(e,t,n){},dffd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("99af"),n("4de4"),n("0481"),n("d81d"),n("4069"),n("b0c0"),n("d3b7"),n("6062"),n("8a79"),n("3ca3"),n("2ca0"),n("159b"),n("ddb0"),n("96cf");var r,i=n("b85c"),a=n("2909"),s=n("1da1"),o=n("db05"),c=n("f374");(function(e){var t,n=new Set,r=[];function u(e){return l.apply(this,arguments)}function l(){return l=Object(s["a"])(regeneratorRuntime.mark((function n(a){var s,o,c,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(r.length>0)){n.next=2;break}return n.abrupt("return");case 2:return t=a,s="data/packages/fileDefinition",n.next=6,a.readdir(s,{withFileTypes:!0});case 6:o=n.sent,c=Object(i["a"])(o),n.prev=8,c.s();case 10:if((u=c.n()).done){n.next=20;break}if(l=u.value,"file"!==l.kind){n.next=18;break}return n.t0=r,n.next=16,a.readJSON("".concat(s,"/").concat(l.name));case 16:n.t1=n.sent,n.t0.push.call(n.t0,n.t1);case 18:n.next=10;break;case 20:n.next=25;break;case 22:n.prev=22,n.t2=n["catch"](8),c.e(n.t2);case 25:return n.prev=25,c.f(),n.finish(25);case 28:e.ready.dispatch();case 29:case"end":return n.stop()}}),n,null,[[8,22,25,28]])}))),l.apply(this,arguments)}function d(e){return n.add(e),{dispose:function(){return n.delete(e)}}}function p(){return Object(a["a"])(n.values())}function h(e){n.clear(),e.forEach((function(e){return n.add(e)}))}function f(e,t){var n,a=Object(i["a"])(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(t===s.id)return s;if(e)if(s.scope){if("string"===typeof s.scope){if(e.startsWith(s.scope))return s}else if(s.scope.some((function(t){return e.startsWith(t)})))return s}else{if("string"===typeof s.matcher&&Object(o["isMatch"])(e,s.matcher))return s;var c,u=Object(i["a"])(s.matcher);try{for(u.s();!(c=u.n()).done;){var l=c.value;if(Object(o["isMatch"])(e,l))return s}}catch(d){u.e(d)}finally{u.f()}}}}catch(d){a.e(d)}finally{a.f()}}function m(){var e,t=[],n=Object(i["a"])(r);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(a.id)}}catch(s){n.e(s)}finally{n.f()}return t}function v(e){var t,n;return null!==(t=null===(n=f(e))||void 0===n?void 0:n.id)&&void 0!==t?t:"unknown"}function b(){return r.map((function(e){var t=e.matcher,n=e.schema;return{fileMatch:Array.isArray(t)?Object(a["a"])(t):[t],uri:n}})).flat()}e.ready=new c["a"],e.setup=u,e.addPluginFileType=d,e.getPluginFileTypes=p,e.setPluginFileTypes=h,e.get=f,e.getIds=m,e.getId=v,e.getMonacoSchemaArray=b;var g={};function w(e){return k.apply(this,arguments)}function k(){return k=Object(s["a"])(regeneratorRuntime.mark((function e(n){var r,i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=null!==(r=f(n))&&void 0!==r?r:{},a=i.lightningCache,a){e.next=3;break}return e.abrupt("return",[]);case 3:if(!g[a]){e.next=5;break}return e.abrupt("return",g[a]);case 5:if(!a.endsWith(".json")){e.next=11;break}return e.next=8,t.readJSON("data/packages/lightningCache/".concat(a));case 8:g[a]=e.sent,e.next=21;break;case 11:if(!a.endsWith(".js")){e.next=20;break}return e.next=14,t.readFile("data/packages/lightningCache/".concat(a));case 14:return s=e.sent,e.next=17,s.text();case 17:g[a]=e.sent,e.next=21;break;case 20:throw new Error('Unknown lightning cache file format: "'.concat(a,'"'));case 21:return e.abrupt("return",g[a]);case 22:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function y(){return x.apply(this,arguments)}function x(){return x=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.map((function(e){var n=e.id,r=e.packSpider;if(r)return t.readJSON("data/packages/packSpider/".concat(r)).then((function(e){return{id:n,packSpider:e}}))})).filter((function(e){return void 0!==e})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)}e.getLightningCache=w,e.getPackSpiderData=y})(r||(r={}))},e6b7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("07ac");var r=n("d4ec"),i=n("a6f4"),a=function e(){Object(r["a"])(this,e)};a.state=Object(i["c"])({}),a.isAnyWindowVisible=Object(i["d"])(!0),a._=Object(i["g"])(a.state,(function(){for(var e=0,t=Object.values(a.state);e<t.length;e++){var n=t[e];if(n.isVisible)return void(a.isAnyWindowVisible.value=!0)}a.isAnyWindowVisible.value=!1}))},ed38:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex flex-column justify-center align-center px-4",style:"padding-top: 14vh;"},[r("img",{staticClass:"mb-4",staticStyle:{height:"160px",width:"160px"},attrs:{alt:"bridge. Logo",src:n("736d")}}),r("h1",{staticClass:"text-h3 text-center"},[e._v(e._s(e.t("welcome.title")))]),r("h2",{staticClass:"text-h6 mb-12 text-center"},[e._v(e._s(e.t("welcome.subtitle")))]),r("v-row",{staticStyle:{"flex-wrap":"nowrap",width:"60vw"}},[e.actions.length>0?r("v-col",{attrs:{tag:"ul"}},[r("p",[e._v(e._s(e.t("welcome.quickActions")))]),r("v-divider",{staticClass:"mb-2"}),e._l(e.actions,(function(t){return r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,staticClass:"d-flex rounded-lg pa-1 clickable",on:{click:function(){return t.trigger()}}},[r("v-icon",{attrs:{color:"accent",medium:""}},[e._v(e._s(t.icon))]),r("span",{attrs:{color:"text--primary"}},[e._v(e._s(e.t(t.name)))]),r("v-spacer"),t.keyBinding?r("span",{staticClass:"text--secondary"},[e._v(" "+e._s(t.keyBinding.toStrKeyCode())+" ")]):e._e()],1)}))],2):e._e(),e.$vuetify.breakpoint.smAndUp&&e.files.length>0?r("v-col",{attrs:{tag:"ul"}},[r("p",[e._v(e._s(e.t("welcome.recentFiles")))]),r("v-divider",{staticClass:"mb-2"}),e._l(e.files,(function(t){return r("li",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.path,staticClass:"d-flex rounded-lg pa-1 clickable",on:{click:function(n){return e.openFile(t.path)}}},[r("v-icon",{attrs:{color:t.color||"error",medium:""}},[e._v(" "+e._s(t.icon)+" ")]),r("span",{staticClass:"primary-text"},[e._v(e._s(t.name))])],1)}))],2):e._e(),e.$vuetify.breakpoint.mdAndUp&&e.projects.length>0?r("v-col",{class:{disabled:!e.maySwitchProjects},attrs:{tag:"ul"}},[r("p",[e._v(e._s(e.t("welcome.recentProjects")))]),e.maySwitchProjects?r("v-divider",{staticClass:"mb-2"}):r("v-progress-linear",{staticClass:"mb-1",attrs:{rounded:"",indeterminate:""}}),e._l(e.projects,(function(t){return r("li",{directives:[{name:"ripple",rawName:"v-ripple",value:e.maySwitchProjects,expression:"maySwitchProjects"}],key:t.name,class:{"d-flex rounded-lg pa-1":!0,clickable:e.maySwitchProjects},on:{click:function(n){e.maySwitchProjects&&e.selectProject(t.path)}}},[r("div",{staticClass:"d-flex align-center"},[t.imgSrc?r("img",{staticClass:"mr-1 pack-icon",attrs:{src:t.imgSrc,alt:t.name+" Logo"}}):e._e(),r("span",{staticClass:"primary-text"},[e._v(e._s(t.path))])])])}))],2):e._e()],1)],1)},i=[],a=(n("4de4"),n("d81d"),n("96cf"),n("1da1")),s=n("7c64"),o=n("a50c"),c=n("d009"),u=n("7a00"),l=n("b4a2"),d=n("bd74"),p={name:"welcome-screen",mixins:[s["a"],u["a"],l["a"],d["a"]],components:{ActionViewer:o["a"]},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].getApp();case 2:return n=t.sent,r=["bridge.action.newProject","bridge.action.newFile","bridge.action.openFile","bridge.action.searchFile","bridge.action.openSettings"],e.actions=r.map((function(e){return n.actionManager.state[e]})),t.next=7,n.projectManager.fired;case 7:e.projectManager=n.projectManager;case 8:case"end":return t.stop()}}),t)})))()},data:function(){return{actions:[],projectManager:null}},computed:{files:function(){return this.project?this.project.recentFiles.elements:[]},projects:function(){var e=this;return this.projectManager?this.projectManager.recentProjects.elements.filter((function(t){var n=t.path;return n!==e.projectManager.selectedProject})):[]},maySwitchProjects:function(){return this.isPackIndexerReady&&this.isCompilerReady}},methods:{openFile:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].getApp();case 2:return n=t.sent,t.next=5,n.fileSystem.getFileHandle(e);case 5:r=t.sent,n.project.openFile(r);case 7:case"end":return t.stop()}}),t)})))()},selectProject:function(e){c["a"].getApp().then((function(t){return t.projectManager.selectProject(e)}))}}},h=p,f=(n("c310"),n("2877")),m=n("6544"),v=n.n(m),b=n("62ad"),g=n("ce7e"),w=n("132d"),k=n("8e36"),y=n("0fd9"),x=n("2fa4"),j=n("269a"),O=n.n(j),S=n("5607"),C=Object(f["a"])(h,r,i,!1,null,"2bee3455",null);t["a"]=C.exports;v()(C,{VCol:b["a"],VDivider:g["a"],VIcon:w["a"],VProgressLinear:k["a"],VRow:y["a"],VSpacer:x["a"]}),O()(C,{Ripple:S["a"]})},ed92:function(e,t,n){"use strict";n("9988")},ef1a:function(e,t,n){},efe6:function(e,t,n){},f0b9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));n("b0c0");var r=function(){try{return"undefined"!==typeof e&&"node"===e.release.name}catch(t){return!1}}}).call(this,n("4362"))},f374:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("d3b7");var r=n("d4ec"),i=n("bee2"),a=n("45eb"),s=n("7e84"),o=n("262e"),c=n("2caf"),u=n("1834"),l=function(e){Object(o["a"])(n,e);var t=Object(c["a"])(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(r["a"])(this,n),e=t.call(this),e.needsToFireAmount=i,e.firedTimes=0,e}return Object(i["a"])(n,[{key:"fired",get:function(){var e=this;return new Promise((function(t){return e.once(t)}))}},{key:"hasFired",get:function(){return this.firedTimes>=this.needsToFireAmount}},{key:"setFiredTimes",value:function(e){this.firedTimes=e}},{key:"resetSignal",value:function(){this.data=void 0,this.firedTimes=0}},{key:"dispatch",value:function(e){if(this.firedTimes<this.needsToFireAmount&&this.firedTimes++,this.data=e,this.hasFired)return Object(a["a"])(Object(s["a"])(n.prototype),"dispatch",this).call(this,e)}},{key:"on",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.hasFired&&e(this.data),Object(a["a"])(Object(s["a"])(n.prototype),"on",this).call(this,e,t)}}]),n}(u["a"])}});
//# sourceMappingURL=app.86712b6e.js.map